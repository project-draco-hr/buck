{
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  SourcePathResolver resolver=new SourcePathResolver(new BuildRuleResolver());
  PythonBinary binary=new PythonBinary(BuildRuleParamsFactory.createTrivialBuildRuleParams(BuildTargetFactory.newInstance("//:bin")),resolver,Paths.get("dummy_path_to_pex"),new PythonEnvironment(Paths.get("fake_python"),ImmutablePythonVersion.of("Python 2.7")),Paths.get("main.py"),ImmutablePythonPackageComponents.of(ImmutableMap.<Path,SourcePath>of(Paths.get(main),new PathSourcePath(projectFilesystem,mainSrc),Paths.get(mod1),new PathSourcePath(projectFilesystem,src1),Paths.get(mod2),new PathSourcePath(projectFilesystem,src2)),ImmutableMap.<Path,SourcePath>of(),ImmutableMap.<Path,SourcePath>of()));
  RuleKey.Builder builder=ruleKeyBuilderFactory.newInstance(binary,resolver);
  binary.appendToRuleKey(builder);
  return builder.build();
}
