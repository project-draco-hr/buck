{
  BuckEventBus eventBus=BuckEventBusFactory.newInstance();
  CapturingLogEventListener listener=new CapturingLogEventListener();
  eventBus.register(listener);
  BuildContext buildContext=BuildContext.builder().setDependencyGraph(createMock(DependencyGraph.class)).setStepRunner(createMock(StepRunner.class)).setProjectFilesystem(createMock(ProjectFilesystem.class)).setBuildEngine(createMock(BuildEngine.class)).setArtifactCache(createMock(ArtifactCache.class)).setJavaPackageFinder(createMock(JavaPackageFinder.class)).setEventBus(eventBus).build();
  buildContext.logBuildInfo("My name is %s and I can count to %d.","Michael",10);
  assertEquals(ImmutableList.of("My name is Michael and I can count to 10."),listener.getLogMessages());
}
