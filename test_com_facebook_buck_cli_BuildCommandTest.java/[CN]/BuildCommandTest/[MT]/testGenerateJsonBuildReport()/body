{
  String expectedReport=Joiner.on('\n').join("{","  \"success\" : false,","  \"results\" : {","    \"//fake:rule1\" : {","      \"success\" : true,","      \"type\" : \"BUILT_LOCALLY\",","      \"output\" : \"buck-out/gen/fake/rule1.txt\"","    },","    \"//fake:rule2\" : {","      \"success\" : false","    },","    \"//fake:rule3\" : {","      \"success\" : true,","      \"type\" : \"FETCHED_FROM_CACHE\",","      \"output\" : null","    },","    \"//fake:rule4\" : {","      \"success\" : false","    }","  },","  \"failures\" : {","    \"//fake:rule2\" : \"some\"","  }","}");
  String observedReport=new BuildReport(buildExecutionResult).generateJsonBuildReport();
  assertEquals(expectedReport,observedReport);
}
