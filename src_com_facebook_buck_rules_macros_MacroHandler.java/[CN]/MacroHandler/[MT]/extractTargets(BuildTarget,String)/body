{
  ImmutableList.Builder<BuildTarget> targets=ImmutableList.builder();
  Matcher matcher=MACRO_PATTERN.matcher(blob);
  while (matcher.find()) {
    if (matcher.start() > 0 && blob.charAt(matcher.start() - 1) == '\\') {
      continue;
    }
    String name=matcher.group(1);
    String input=Optional.fromNullable(matcher.group(2)).or("");
    targets.addAll(getExpander(name).extractTargets(target,input));
  }
  return targets.build();
}
