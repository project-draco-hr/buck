{
  ImmutableList.Builder<Step> commands=ImmutableList.builder();
  try {
    createAllAssetsDirectory(transitiveDependencies.assetsDirectories,extraAssets,commands,new DefaultDirectoryTraverser());
  }
 catch (  IOException e) {
    e.printStackTrace(context.getStdErr());
    return 1;
  }
  for (  Step command : commands.build()) {
    int exitCode=command.execute(context);
    if (exitCode != 0) {
      throw new HumanReadableException("Error running " + command.getDescription(context));
    }
  }
  return 0;
}
