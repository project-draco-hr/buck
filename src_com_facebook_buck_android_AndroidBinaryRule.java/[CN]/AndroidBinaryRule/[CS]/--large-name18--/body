{
  super(buildRuleParams);
  this.manifest=Preconditions.checkNotNull(manifest);
  this.target=Preconditions.checkNotNull(target);
  this.classpathDeps=ImmutableSortedSet.copyOf(classpathDeps);
  this.keystore=Preconditions.checkNotNull(keystore);
  this.packageType=Preconditions.checkNotNull(packageType);
  this.buildRulesToExcludeFromDex=ImmutableSortedSet.copyOf(buildRulesToExcludeFromDex);
  this.dexSplitMode=Preconditions.checkNotNull(dexSplitMode);
  this.useAndroidProguardConfigWithOptimizations=useAndroidProguardConfigWithOptimizations;
  this.optimizationPasses=Preconditions.checkNotNull(proguardOptimizationPasses);
  this.proguardConfig=Preconditions.checkNotNull(proguardConfig);
  this.resourceCompressionMode=Preconditions.checkNotNull(resourceCompressionMode);
  this.cpuFilters=ImmutableSet.copyOf(cpuFilters);
  this.primaryDexPath=Preconditions.checkNotNull(primaryDexPath);
  this.resourcesFilter=Preconditions.checkNotNull(resourcesFilter);
  this.uberRDotJava=Preconditions.checkNotNull(uberRDotJava);
  this.aaptPackageResources=Preconditions.checkNotNull(aaptPackageResources);
  this.preDexMerge=Preconditions.checkNotNull(preDexMerge);
  this.computeExopackageDepsAbi=Preconditions.checkNotNull(computeExopackageDepsAbi);
  this.exopackage=exopackage;
  this.preprocessJavaClassesDeps=ImmutableSortedSet.copyOf(preprocessJavaClassesDeps);
  this.preprocessJavaClassesBash=Preconditions.checkNotNull(preprocessJavaClassesBash);
  this.androidResourceDepsFinder=Preconditions.checkNotNull(androidResourceDepsFinder);
  if (exopackage && !preDexMerge.isPresent()) {
    throw new IllegalArgumentException("exopackage only works with pre-dexing");
  }
  if (exopackage) {
    Preconditions.checkArgument(computeExopackageDepsAbi.isPresent(),"computeExopackageDepsAbi must be set if exopackage is true.");
  }
}
