{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"zip-rule",tmp);
  workspace.setUp();
  Path zip=workspace.buildAndReturnOutput("//example:ziptastic");
  String resultDestinationPath=workspace.getDestPath().resolve(Paths.get("example")).toString().substring(1);
  try (ZipFile zipFile=new ZipFile(zip.toFile())){
    ZipArchiveEntry cake=zipFile.getEntry(resultDestinationPath + "/cake.txt");
    assertThat(cake,Matchers.notNullValue());
    assertFalse(cake.isUnixSymlink());
    assertFalse(cake.isDirectory());
    ZipArchiveEntry beans=zipFile.getEntry(resultDestinationPath + "/beans/");
    assertThat(beans,Matchers.notNullValue());
    assertFalse(beans.isUnixSymlink());
    assertTrue(beans.isDirectory());
    ZipArchiveEntry cheesy=zipFile.getEntry(resultDestinationPath + "/beans/cheesy.txt");
    assertThat(cheesy,Matchers.notNullValue());
    assertFalse(cheesy.isUnixSymlink());
    assertFalse(cheesy.isDirectory());
  }
 }
