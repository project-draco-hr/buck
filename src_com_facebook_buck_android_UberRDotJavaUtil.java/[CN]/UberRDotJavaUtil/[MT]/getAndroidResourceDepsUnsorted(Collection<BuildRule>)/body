{
  final Set<HasAndroidResourceDeps> androidResources=Sets.newHashSet();
  AbstractDependencyVisitor visitor=new AbstractDependencyVisitor(rules){
    @Override public ImmutableSet<BuildRule> visit(    BuildRule rule){
      if (rule instanceof HasAndroidResourceDeps) {
        HasAndroidResourceDeps androidResourceRule=(HasAndroidResourceDeps)rule;
        if (androidResourceRule.getRes() != null) {
          androidResources.add(androidResourceRule);
        }
      }
      BuildRuleType type=rule.getType();
      ImmutableSet<BuildRule> depsToVisit=maybeVisitAllDeps(rule,TRAVERSABLE_TYPES.contains(type));
      return depsToVisit;
    }
  }
;
  visitor.start();
  return androidResources;
}
