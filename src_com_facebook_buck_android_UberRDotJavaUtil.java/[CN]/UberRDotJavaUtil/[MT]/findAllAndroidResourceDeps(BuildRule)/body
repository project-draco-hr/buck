{
  final ImmutableSet.Builder<HasAndroidResourceDeps> androidResources=ImmutableSet.builder();
  AbstractDependencyVisitor visitor=new AbstractDependencyVisitor(buildRule){
    @Override public boolean visit(    BuildRule rule){
      if (rule instanceof HasAndroidResourceDeps) {
        HasAndroidResourceDeps androidResourceRule=(HasAndroidResourceDeps)rule;
        if (androidResourceRule.getRes() != null) {
          androidResources.add(androidResourceRule);
        }
      }
      BuildRuleType type=rule.getType();
      return TRAVERSABLE_TYPES.contains(type);
    }
  }
;
  visitor.start();
  return androidResources.build();
}
