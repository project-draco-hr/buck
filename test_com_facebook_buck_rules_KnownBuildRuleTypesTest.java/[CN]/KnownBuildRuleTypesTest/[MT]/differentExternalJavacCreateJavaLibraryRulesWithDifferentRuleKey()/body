{
  final File javac=temporaryFolder.newFile();
  javac.setExecutable(true);
  Map<String,Map<String,String>> sections=ImmutableMap.of("tools",(Map<String,String>)ImmutableMap.of("javac",javac.toString()));
  FakeBuckConfig buckConfig=new FakeBuckConfig(sections);
  ProcessExecutor processExecutor=createExecutor(javac.toString(),"fakeVersion 0.1");
  KnownBuildRuleTypes configuredBuildRuleTypes1=KnownBuildRuleTypes.createBuilder(buckConfig,processExecutor,new FakeAndroidDirectoryResolver(),DUMMY_PYTHON_ENVIRONMENT).build();
  DefaultJavaLibrary configuredRule1=createJavaLibrary(configuredBuildRuleTypes1);
  ProcessExecutor processExecutor2=createExecutor(javac.toString(),"fakeVersion 0.2");
  KnownBuildRuleTypes configuredBuildRuleTypes2=KnownBuildRuleTypes.createBuilder(buckConfig,processExecutor2,new FakeAndroidDirectoryResolver(),DUMMY_PYTHON_ENVIRONMENT).build();
  DefaultJavaLibrary configuredRule2=createJavaLibrary(configuredBuildRuleTypes2);
  assertNotEquals(configuredRule1.getRuleKey(),configuredRule2.getRuleKey());
}
