{
  FakeBuckConfig buckConfig=new FakeBuckConfig();
  KnownBuildRuleTypes buildRuleTypes=KnownBuildRuleTypes.createBuilder(buckConfig,new FakeAndroidDirectoryResolver(),JavaCompilerEnvironment.DEFAULT).build();
  BuildRuleFactory<?> factory=buildRuleTypes.getFactory(JavaLibraryDescription.TYPE);
  BuildRule rule=factory.newInstance(params).build(new BuildRuleResolver());
  assertTrue("Rule is DefaultJavaLibraryRule",rule.getBuildable() instanceof DefaultJavaLibrary);
  DefaultJavaLibrary libraryRule=(DefaultJavaLibrary)rule.getBuildable();
  assertEquals(Optional.<String>absent(),libraryRule.getJavac());
}
