{
  final File javac=temporaryFolder.newFile();
  javac.setExecutable(true);
  ImmutableMap<String,ImmutableMap<String,String>> sections=ImmutableMap.of("tools",ImmutableMap.of("javac",javac.toString()));
  FakeBuckConfig buckConfig=new FakeBuckConfig(sections);
  ProcessExecutor processExecutor=createExecutor(javac.toString(),"");
  KnownBuildRuleTypes buildRuleTypes=KnownBuildRuleTypes.createBuilder(buckConfig,processExecutor,new FakeAndroidDirectoryResolver(),DUMMY_PYTHON_ENVIRONMENT,Optional.<Path>absent()).build();
  AndroidLibraryDescription description=(AndroidLibraryDescription)buildRuleTypes.getDescription(AndroidLibraryDescription.TYPE);
  AndroidLibraryDescription.Arg arg=new AndroidLibraryDescription.Arg();
  populateJavaArg(arg);
  arg.manifest=Optional.absent();
  AndroidLibrary rule=(AndroidLibrary)description.createBuildRule(TargetGraph.EMPTY,buildRuleParams,new BuildRuleResolver(),arg);
  assertEquals(javac.toPath(),((ExternalJavac)rule.getJavacOptions().getJavac()).getPath());
}
