{
  FakeBuckConfig buckConfig=new FakeBuckConfig();
  KnownBuildRuleTypes buildRuleTypes=KnownBuildRuleTypes.createConfiguredBuilder(buckConfig,new FakeProcessExecutor(),new FakeAndroidDirectoryResolver()).build();
  BuildRuleFactory<?> factory=buildRuleTypes.getFactory(BuildRuleType.JAVA_LIBRARY);
  BuildRule rule=factory.newInstance(params).build(new BuildRuleResolver());
  assertTrue("Rule is DefaultJavaLibraryRule",rule instanceof DefaultJavaLibraryRule);
  DefaultJavaLibraryRule libraryRule=(DefaultJavaLibraryRule)rule;
  assertEquals(Optional.absent(),libraryRule.getJavac());
}
