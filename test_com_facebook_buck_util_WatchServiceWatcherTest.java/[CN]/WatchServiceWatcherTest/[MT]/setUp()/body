{
  eventBus=createStrictMock(EventBus.class);
  filesystem=createNiceMock(ProjectFilesystem.class);
  watchService=createNiceMock(WatchService.class);
  path=createNiceMock(Path.class);
  key=createNiceMock(WatchKey.class);
  expect(filesystem.getRootPath()).andReturn(Paths.get("./someproject/"));
  visitor=new Capture<>();
  filesystem.walkFileTree(anyObject(Path.class),capture(visitor));
  expect(path.register(anyObject(WatchService.class),eq(StandardWatchEventKinds.ENTRY_CREATE),eq(StandardWatchEventKinds.ENTRY_DELETE),eq(StandardWatchEventKinds.ENTRY_MODIFY))).andReturn(key);
}
