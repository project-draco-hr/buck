{
  PBXFrameworksBuildPhase buildPhase=getSingletonPhaseByType(target,PBXFrameworksBuildPhase.class);
  assertEquals("Framework phase should have right number of elements",frameworks.size(),buildPhase.getFiles().size());
  for (  PBXBuildFile file : buildPhase.getFiles()) {
    PBXReference.SourceTree sourceTree=file.getFileRef().getSourceTree();
switch (sourceTree) {
case GROUP:
      fail("Should not emit frameworks with sourceTree <group>");
    break;
case ABSOLUTE:
  fail("Should not emit frameworks with sourceTree <absolute>");
break;
default :
String serialized="$" + sourceTree + "/"+ file.getFileRef().getPath();
assertTrue("Framework should be listed in list of expected frameworks: " + serialized,frameworks.contains(serialized));
break;
}
}
}
