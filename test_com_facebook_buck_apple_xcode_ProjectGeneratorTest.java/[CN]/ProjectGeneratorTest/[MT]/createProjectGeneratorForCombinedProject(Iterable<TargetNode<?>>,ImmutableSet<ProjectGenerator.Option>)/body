{
  ImmutableSet<BuildTarget> initialBuildTargets=FluentIterable.from(nodes).transform(HasBuildTarget.TO_TARGET).toSet();
  return new ProjectGenerator(TargetGraphFactory.newInstance(ImmutableSet.copyOf(nodes)),new TargetGraphToActionGraph(BuckEventBusFactory.newInstance()),initialBuildTargets,projectFilesystem,executionContext,OUTPUT_DIRECTORY,PROJECT_NAME,projectGeneratorOptions);
}
