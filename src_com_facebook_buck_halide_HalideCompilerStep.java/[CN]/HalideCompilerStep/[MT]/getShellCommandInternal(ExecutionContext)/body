{
  ImmutableList.Builder<String> builder=ImmutableList.builder();
  builder.addAll(compilerPrefix);
  builder.add("-o",outputDir.toString());
  if (halideTarget.isPresent() && !halideTarget.get().isEmpty()) {
    builder.add("-t",halideTarget.get());
  }
  if (headerOnly) {
    builder.add("--header-only");
  }
  builder.add(funcName);
  return builder.build();
}
