{
  assumeTrue(Platform.detect() == Platform.MACOS);
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"simple_extension",tmp);
  workspace.setUp();
  ProjectWorkspace.ProcessResult result=workspace.runBuckCommand("targets","--show-output","//:DemoExtension#no-debug");
  result.assertSuccess();
  assertEquals("//:DemoExtension#no-debug buck-out/gen/DemoExtension#no-debug,no-include-frameworks/" + "DemoExtension.appex",result.getStdout().trim());
  result=workspace.runBuckCommand("build","//:DemoExtension#no-debug");
  result.assertSuccess();
  Path outputBinary=tmp.getRootPath().resolve(BuckConstant.GEN_DIR).resolve("DemoExtension#no-debug,no-include-frameworks/DemoExtension.appex/DemoExtension");
  assertTrue(String.format("Extension binary could not be found inside the appex dir [%s].",outputBinary),Files.exists(outputBinary));
}
