{
  ImmutableList.Builder<Step> immutableStepList=ImmutableList.<Step>builder();
  SourcePathResolver resolver=new SourcePathResolver(new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer()));
  new File(subDirectoryFile1.toString()).getParentFile().mkdirs();
  new File(subDirectoryFile2.toString()).getParentFile().mkdirs();
  new File(subDirectoryFile3.toString()).getParentFile().mkdirs();
  Files.createFile(subDirectoryFile1);
  Files.createFile(subDirectoryFile2);
  Files.createFile(subDirectoryFile3);
  List<String> srcPathStrings=new LinkedList<>();
  for (  SourcePath sourcePath : immutableSortedSet) {
    srcPathStrings.add("/" + resolver.getAbsolutePath(sourcePath).toString());
  }
  DefaultJavaPackageFinder javaPackageFinder=DefaultJavaPackageFinder.createDefaultJavaPackageFinder(srcPathStrings);
  SrcZipAwareFileBundler bundler=new SrcZipAwareFileBundler(javaPackageFinder);
  bundler.copy(filesystem,resolver,immutableStepList,dest,immutableSortedSet);
  ImmutableList<Step> builtStepList=immutableStepList.build();
  for (  Step step : builtStepList) {
    try {
      step.execute(TestExecutionContext.newInstance());
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
  }
}
