{
  DependencyGraph graph=RuleMap.createGraphFromBuildRules(ImmutableMap.<String,BuildRule>of(javaLibrary.getFullyQualifiedName(),javaLibrary));
  BuildContext context=EasyMock.createMock(BuildContext.class);
  EasyMock.expect(context.getDependencyGraph()).andReturn(graph);
  EasyMock.expect(context.getAndroidBootclasspathSupplier()).andReturn(Suppliers.ofInstance(bootclasspath));
  EasyMock.expect(context.getJavaPackageFinder()).andReturn(EasyMock.createMock(JavaPackageFinder.class));
  EasyMock.replay(context);
  return context;
}
