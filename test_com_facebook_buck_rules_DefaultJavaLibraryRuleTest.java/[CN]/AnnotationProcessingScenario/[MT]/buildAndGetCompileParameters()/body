{
  DefaultJavaLibraryRule javaLibrary=createJavaLibraryRule();
  buildContext=createBuildContext(javaLibrary,"");
  List<Command> commands=javaLibrary.buildInternal(buildContext);
  JavacInMemoryCommand javacCommand=lastJavacCommand(commands);
  executionContext=EasyMock.createMock(ExecutionContext.class);
  EasyMock.expect(executionContext.getVerbosity()).andReturn(Verbosity.SILENT);
  EasyMock.replay(executionContext);
  ImmutableList<String> options=javacCommand.getOptions(executionContext,ImmutableSet.<String>of());
  EasyMock.verify(buildContext,executionContext);
  return options;
}
