{
  Map<TestRule,TestResults> result=Maps.newHashMap();
  for (  TestRule pendingTestRule : pendingTestRules) {
    Map<TestRule,TestResults> toAdd=flushOne(pendingTestRule);
    for (    TestRule flushableTestRule : toAdd.keySet()) {
      if (!flushedTestRules.contains(flushableTestRule)) {
        TestResults flushableTestResults=toAdd.get(flushableTestRule);
        result.put(flushableTestRule,flushableTestResults);
        flushedTestRules.add(flushableTestRule);
      }
    }
  }
  pendingTestRules.removeAll(flushedTestRules);
  return result;
}
