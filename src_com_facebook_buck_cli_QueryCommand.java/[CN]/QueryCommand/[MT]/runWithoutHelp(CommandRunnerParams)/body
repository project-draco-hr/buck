{
  if (arguments.isEmpty()) {
    params.getConsole().printBuildFailure("Must specify at least the query expression");
    return 1;
  }
  Set<QueryEnvironment.Setting> settings=new HashSet<>();
  BuckQueryEnvironment env=new BuckQueryEnvironment(params,settings,getEnableProfiling());
  String queryFormat=arguments.remove(0);
  if (queryFormat.contains("%s")) {
    return runMultipleQuery(params,env,queryFormat,getArgumentsFormattedAsBuildTargets(params.getBuckConfig()),shouldGenerateJsonOutput());
  }
 else {
    return runSingleQuery(params,env,queryFormat);
  }
}
