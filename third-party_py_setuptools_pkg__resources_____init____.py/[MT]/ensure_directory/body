def ensure_directory(path):
    'Ensure that the parent directory of `path` exists'
    dirname = os.path.dirname(path)
    if (not os.path.isdir(dirname)):
        os.makedirs(dirname)
