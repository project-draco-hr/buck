{
  ImmutableSortedMap<String,ImmutableMap<String,String>> configs=ImmutableSortedMap.of("Debug",ImmutableMap.<String,String>of());
  BuildTarget binaryTarget=BuildTarget.builder("//foo","bin").build();
  BuildTarget libraryTarget=BuildTarget.builder("//foo","lib").build();
  BuildTarget testTarget=BuildTarget.builder("//foo","test").build();
  TargetNode<?> binaryNode=AppleBinaryBuilder.createBuilder(binaryTarget).setConfigs(Optional.of(configs)).setUseBuckHeaderMaps(Optional.of(Boolean.TRUE)).build();
  TargetNode<?> libraryNode=AppleLibraryBuilder.createBuilder(libraryTarget).setConfigs(Optional.of(configs)).setTests(Optional.of(ImmutableSortedSet.of(testTarget))).setUseBuckHeaderMaps(Optional.of(Boolean.TRUE)).build();
  TargetNode<?> testNode=AppleTestBuilder.createBuilder(testTarget).setExtension(Either.<AppleBundleExtension,String>ofLeft(AppleBundleExtension.XCTEST)).setConfigs(Optional.of(configs)).setDeps(Optional.of(ImmutableSortedSet.of(libraryTarget))).setUseBuckHeaderMaps(Optional.of(Boolean.TRUE)).build();
  ProjectGenerator projectGenerator=createProjectGeneratorForCombinedProject(ImmutableSet.of(binaryNode,libraryNode,testNode),ImmutableSet.<ProjectGenerator.Option>of());
  projectGenerator.createXcodeProjects();
  assertEquals(ImmutableSet.of(CxxDescriptionEnhancer.createHeaderSymlinkTreeTarget(binaryTarget,DefaultCxxPlatforms.FLAVOR,CxxDescriptionEnhancer.HeaderVisibility.PRIVATE),CxxDescriptionEnhancer.createHeaderSymlinkTreeTarget(libraryTarget,DefaultCxxPlatforms.FLAVOR,CxxDescriptionEnhancer.HeaderVisibility.PRIVATE),CxxDescriptionEnhancer.createHeaderSymlinkTreeTarget(libraryTarget,DefaultCxxPlatforms.FLAVOR,CxxDescriptionEnhancer.HeaderVisibility.PUBLIC),CxxDescriptionEnhancer.createHeaderSymlinkTreeTarget(testTarget,DefaultCxxPlatforms.FLAVOR,CxxDescriptionEnhancer.HeaderVisibility.PRIVATE)),projectGenerator.getRequiredBuildTargets());
}
