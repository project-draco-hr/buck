{
  for (  Map.Entry<String,String> entry : content.entrySet()) {
    Path link=root.resolve(Paths.get(entry.getKey()));
    Path target=Paths.get(entry.getValue()).toAbsolutePath();
    assertTrue(projectFilesystem.isSymLink(link));
    assertEquals(target,projectFilesystem.readSymLink(link));
  }
  byte[] headerMapBytes;
  try (InputStream headerMapInputStream=projectFilesystem.newFileInputStream(root.resolve(".tree.hmap"))){
    headerMapBytes=ByteStreams.toByteArray(headerMapInputStream);
  }
   HeaderMap headerMap=HeaderMap.deserialize(headerMapBytes);
  assertNotNull(headerMap);
  assertThat(headerMap.getNumEntries(),equalTo(content.size()));
  for (  String key : content.keySet()) {
    assertThat(headerMap.lookup(key),equalTo(projectFilesystem.resolve(root).resolve(key).toString()));
  }
}
