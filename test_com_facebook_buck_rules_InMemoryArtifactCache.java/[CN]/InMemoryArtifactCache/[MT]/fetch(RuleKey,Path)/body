{
  Artifact artifact=artifacts.get(ruleKey);
  if (artifact == null) {
    return CacheResult.miss();
  }
  try {
    Files.write(output,artifact.data);
  }
 catch (  IOException e) {
    throw Throwables.propagate(e);
  }
  return CacheResult.hit("in-memory",artifact.metadata);
}
