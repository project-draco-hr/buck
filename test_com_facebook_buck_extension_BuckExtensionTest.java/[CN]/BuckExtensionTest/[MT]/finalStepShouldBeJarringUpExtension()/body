{
  BuildTarget target=BuildTargetFactory.newInstance("//example:extension");
  BuckExtension buildable=new BuckExtension(new FakeBuildRuleParamsBuilder(target).build(),DEFAULT_JAVAC,DEFAULT_JAVAC_OPTIONS,new SourcePathResolver(new BuildRuleResolver()),ImmutableSortedSet.of(new TestSourcePath("ExampleExtension.java")),ImmutableSortedSet.<SourcePath>of());
  BuildContext buildContext=FakeBuildContext.NOOP_CONTEXT;
  FakeBuildableContext buildableContext=new FakeBuildableContext();
  List<Step> steps=buildable.getBuildSteps(buildContext,buildableContext);
  assertTrue(Iterables.getLast(steps) instanceof JarDirectoryStep);
}
