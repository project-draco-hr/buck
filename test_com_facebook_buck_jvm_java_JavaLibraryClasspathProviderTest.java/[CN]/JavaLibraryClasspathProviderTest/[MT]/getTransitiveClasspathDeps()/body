{
  JavaLibrary lib=(JavaLibrary)z;
  assertEquals("root does not appear if output jar not present.",ImmutableSet.of(c,e),JavaLibraryClasspathProvider.getTransitiveClasspathDeps(lib,Optional.<SourcePath>absent()));
  assertEquals("root does appear if output jar present.",ImmutableSet.of(z,c,e),JavaLibraryClasspathProvider.getTransitiveClasspathDeps(lib,Optional.of(sourcePathFunction.apply(lib.getPathToOutput()))));
}
