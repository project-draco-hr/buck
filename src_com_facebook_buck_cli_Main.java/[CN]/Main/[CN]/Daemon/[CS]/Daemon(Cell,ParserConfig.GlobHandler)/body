{
  this.cell=cell;
  this.hashCache=new WatchedFileHashCache(cell.getFilesystem());
  this.buckOutHashCache=new DefaultFileHashCache(new ProjectFilesystem(cell.getFilesystem().getRootPath(),Optional.of(ImmutableSet.of(BuckConstant.BUCK_OUTPUT_PATH)),ImmutableSet.<Path>of()));
  this.fileEventBus=new EventBus("file-change-events");
  this.parser=Parser.createBuildFileParser(cell,globHandler == ParserConfig.GlobHandler.WATCHMAN);
  fileEventBus.register(parser);
  fileEventBus.register(hashCache);
  webServer=createWebServer(cell.getBuckConfig(),cell.getFilesystem());
  watchmanQueryUUID=UUID.randomUUID();
  JavaUtilsLoggingBuildListener.ensureLogFileIsWritten(cell.getFilesystem());
}
