{
  this.config=config;
  this.parser=new Parser(projectFilesystem,new KnownBuildRuleTypes(),console);
  this.eventBus=new EventBus("file-change-events");
  this.filesystemWatcher=new ProjectFilesystemWatcher(projectFilesystem,eventBus,config.getIgnorePaths(projectFilesystem),FileSystems.getDefault().newWatchService());
  eventBus.register(parser);
}
