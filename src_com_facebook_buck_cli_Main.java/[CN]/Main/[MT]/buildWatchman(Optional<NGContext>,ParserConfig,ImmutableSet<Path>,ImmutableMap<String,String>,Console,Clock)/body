{
  Watchman watchman;
  if (context.isPresent() || parserConfig.getGlobHandler() == ParserConfig.GlobHandler.WATCHMAN) {
    watchman=Watchman.build(projectWatchList,clientEnvironment,console,clock);
    LOG.debug("Watchman capabilities: %s Project watches: %s Glob handler config: %s ",watchman.getCapabilities(),watchman.getProjectWatches(),parserConfig.getGlobHandler());
  }
 else {
    watchman=Watchman.NULL_WATCHMAN;
  }
  return watchman;
}
