{
  ImmutableList.Builder<BuckEventListener> eventListenersBuilder=ImmutableList.<BuckEventListener>builder().add(new JavaUtilsLoggingBuildListener()).add(new ChromeTraceBuildListener(projectFilesystem,clock,config.getMaxTraces())).add(consoleEventBusListener);
  if (webServer.isPresent()) {
    eventListenersBuilder.add(webServer.get().createListener());
  }
  loadListenersFromBuckConfig(eventListenersBuilder,projectFilesystem,config);
  ImmutableList<BuckEventListener> eventListeners=eventListenersBuilder.build();
  for (  BuckEventListener eventListener : eventListeners) {
    buckEvents.register(eventListener);
  }
  return eventListeners;
}
