{
  int exitCode;
  Command.ParseResult command=parseCommandIfPresent(args);
  if (command.getCommand().isPresent()) {
    return executeCommand(buildId,projectRoot,command,context,clientEnvironment,args);
  }
 else {
    exitCode=new GenericBuckOptions(stdOut,stdErr).execute(args);
    if (exitCode == GenericBuckOptions.SHOW_MAIN_HELP_SCREEN_EXIT_CODE) {
      return usage();
    }
 else {
      return exitCode;
    }
  }
}
