{
  try {
    int status=HttpServletResponse.SC_INTERNAL_SERVER_ERROR;
    if (baseRequest.getMethod().equals("GET")) {
      status=handleGet(baseRequest,response);
    }
    response.setStatus(status);
  }
 catch (  Exception e) {
    LOG.error(e,"Exception when handling request %s",target);
    e.printStackTrace(response.getWriter());
    response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
  }
 finally {
    response.flushBuffer();
    baseRequest.setHandled(true);
  }
}
