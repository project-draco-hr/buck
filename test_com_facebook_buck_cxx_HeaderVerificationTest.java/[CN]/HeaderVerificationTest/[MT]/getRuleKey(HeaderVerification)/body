{
  SourcePathResolver resolver=new SourcePathResolver(new BuildRuleResolver(TargetGraph.EMPTY,new DefaultTargetNodeToBuildRuleTransformer()));
  DefaultFileHashCache fileHashCache=new DefaultFileHashCache(new FakeProjectFilesystem());
  RuleKeyBuilderFactory factory=new DefaultRuleKeyBuilderFactory(fileHashCache,resolver);
  RuleKeyBuilder builder=new UncachedRuleKeyBuilder(resolver,fileHashCache,factory);
  builder.setReflectively("headerVerification",headerVerification);
  return builder.build();
}
