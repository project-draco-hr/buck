{
  BuildTargetParser parser=EasyMock.createMock(BuildTargetParser.class);
  EasyMock.expect(parser.parse("//:test-library",BuildTargetPatternParser.fullyQualified())).andReturn(BuildTarget.builder("//testdata/com/facebook/buck/cli","test-library").build()).anyTimes();
  EasyMock.expect(parser.parse("//:",BuildTargetPatternParser.fullyQualified())).andThrow(new BuildTargetParseException(String.format("%s cannot end with a colon.","//:"))).anyTimes();
  EasyMock.expect(parser.parse("//blah/foo:bar",BuildTargetPatternParser.fullyQualified())).andReturn(BuildTarget.builder("//blah/foo","bar").build()).anyTimes();
  EasyMock.expect(parser.parse("//:test-libarry",BuildTargetPatternParser.fullyQualified())).andReturn(BuildTarget.builder("//testdata/com/facebook/buck/cli","test-libarry").build()).anyTimes();
  EasyMock.replay(parser);
  Reader reader=new StringReader("");
  BuckConfig config=BuckConfig.createFromReader(reader,new ProjectFilesystem(Paths.get(".")),parser,Platform.detect(),ImmutableMap.copyOf(System.getenv()));
  TargetsCommandOptions options=new TargetsCommandOptions(config);
  assertEquals("//testdata/com/facebook/buck/cli:test-library",targetsCommand.validateBuildTargetForFullyQualifiedTarget("//:test-library",options));
  try {
    targetsCommand.validateBuildTargetForFullyQualifiedTarget("//:",options);
    fail("Should have thrown BuildTargetParseException.");
  }
 catch (  BuildTargetParseException e) {
    assertEquals("//: cannot end with a colon.",e.getHumanReadableErrorMessage());
  }
  assertNull(targetsCommand.validateBuildTargetForFullyQualifiedTarget("//blah/foo:bar",options));
  assertNull(targetsCommand.validateBuildTargetForFullyQualifiedTarget("//:test-libarry",options));
}
