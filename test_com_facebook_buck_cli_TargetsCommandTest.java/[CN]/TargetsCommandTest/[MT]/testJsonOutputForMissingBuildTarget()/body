{
  final String testBuckFile1=testDataPath(BuckConstant.BUILD_RULES_FILE_NAME);
  final String outputFile="buck-gen/test/outputFile";
  SortedMap<String,BuildRule> buildRules=buildBuildTargets(testBuckFile1,outputFile,"nonexistent");
  targetsCommand.printJsonForTargets(buildRules,ImmutableList.<String>of());
  String output=stdOutStream.getContentsAsString(Charset.defaultCharset());
  assertEquals("[\n]\n",output);
  assertEquals("BUILD FAILED: unable to find rule for target //:nonexistent\n",stdErrStream.getContentsAsString(Charsets.UTF_8));
}
