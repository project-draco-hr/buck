{
  final String outputFile="buck-out/gen/test/outputFile";
  SortedMap<String,BuildRule> buildRules=buildBuildTargets(outputFile,"nonexistent");
  targetsCommand.printJsonForTargets(buildRules,ImmutableList.<String>of());
  String output=console.getTextWrittenToStdOut();
  assertEquals("[\n]\n",output);
  assertEquals("unable to find rule for target //:nonexistent\n",console.getTextWrittenToStdErr());
}
