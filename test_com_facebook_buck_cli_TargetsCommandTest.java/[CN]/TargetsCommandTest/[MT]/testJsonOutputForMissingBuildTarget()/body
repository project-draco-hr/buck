{
  SortedMap<String,TargetNode<?>> buildRules=buildTargetNodes(filesystem,"//:nonexistent");
  targetsCommand.printJsonForTargets(params,buildRules,new ParserConfig(FakeBuckConfig.builder().build()));
  String output=console.getTextWrittenToStdOut();
  assertEquals("[\n]\n",output);
  assertEquals("unable to find rule for target //:nonexistent\n",console.getTextWrittenToStdErr());
}
