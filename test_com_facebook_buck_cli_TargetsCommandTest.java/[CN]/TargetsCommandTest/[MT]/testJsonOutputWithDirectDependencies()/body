{
  final String testBuckFileJson2=testDataPath("TargetsCommandTestBuckJson2.js");
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"target_command",tmp);
  workspace.setUp();
  ProcessResult result=workspace.runBuckCommand("targets","--json","//:B");
  JsonNode observed=objectMapper.readTree(objectMapper.getJsonFactory().createJsonParser(result.getStdout()).enable(Feature.ALLOW_COMMENTS));
  String expectedJson=Files.toString(new File(testBuckFileJson2),Charsets.UTF_8);
  JsonNode expected=objectMapper.readTree(objectMapper.getJsonFactory().createJsonParser(expectedJson).enable(Feature.ALLOW_COMMENTS));
  assertEquals("Output from targets command should match expected JSON.",expected,observed);
  assertEquals("Nothing should be printed to stderr.","",console.getTextWrittenToStdErr());
}
