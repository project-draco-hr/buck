{
  console=new TestConsole();
  Repository repository=new TestRepositoryBuilder().setFilesystem(new ProjectFilesystem(Paths.get("."))).build();
  AndroidDirectoryResolver androidDirectoryResolver=new FakeAndroidDirectoryResolver();
  ArtifactCache artifactCache=new NoopArtifactCache();
  BuckEventBus eventBus=BuckEventBusFactory.newInstance();
  objectMapper=new ObjectMapper();
  targetsCommand=new TargetsCommand(new CommandRunnerParams(console,new FakeRepositoryFactory(),repository,androidDirectoryResolver,new InstanceArtifactCacheFactory(artifactCache),eventBus,BuckTestConstant.PYTHON_INTERPRETER,BuckTestConstant.ALLOW_EMPTY_GLOBS,Platform.detect(),ImmutableMap.copyOf(System.getenv()),new FakeJavaPackageFinder(),objectMapper,FakeFileHashCache.EMPTY_CACHE));
}
