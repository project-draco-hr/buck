{
  console=new TestConsole();
  ProjectFilesystem projectFilesystem=new ProjectFilesystem(projectRoot);
  KnownBuildRuleTypes buildRuleTypes=DefaultKnownBuildRuleTypes.getDefaultKnownBuildRuleTypes(projectFilesystem);
  Repository repository=new Repository("test",projectFilesystem,buildRuleTypes);
  AndroidDirectoryResolver androidDirectoryResolver=new FakeAndroidDirectoryResolver();
  ArtifactCache artifactCache=new NoopArtifactCache();
  BuckEventBus eventBus=BuckEventBusFactory.newInstance();
  targetsCommand=new TargetsCommand(new CommandRunnerParams(console,repository,androidDirectoryResolver,new InstanceArtifactCacheFactory(artifactCache),eventBus,BuckTestConstant.PYTHON_INTERPRETER,Platform.detect(),ImmutableMap.copyOf(System.getenv())));
}
