{
  JavacOptions.Builder javacOptions=JavacOptions.builder();
  String sourceLevel=args.source.or(javacEnv.getSourceLevel());
  String targetLevel=args.target.or(javacEnv.getTargetLevel());
  JavaCompilerEnvironment javacEnvToUse=new JavaCompilerEnvironment(javacEnv.getJavacPath(),javacEnv.getJavacVersion(),sourceLevel,targetLevel);
  javacOptions.setJavaCompilerEnvironment(javacEnvToUse);
  return javacOptions;
}
