{
  BuildTarget originalBuildTarget=buildRule.getBuildTarget();
  if (!arg.srcs.get().isEmpty()) {
    BuildTarget srcJar=BuildTarget.builder(originalBuildTarget).setFlavor(JavaLibrary.SRC_JAR).build();
    BuildRuleParams params=new BuildRuleParams(srcJar,ImmutableSortedSet.<BuildRule>of(),ImmutableSortedSet.<BuildRule>of(),BuildTargetPattern.PUBLIC,projectFilesystem,ruleKeyBuilderFactory,JavaSourceJar.TYPE);
    ruleResolver.addToIndex(new JavaSourceJar(params,arg.srcs.get()));
  }
  Optional<GwtModule> gwtModuleOptional=tryCreateGwtModule(originalBuildTarget,projectFilesystem,ruleKeyBuilderFactory,arg);
  if (!gwtModuleOptional.isPresent()) {
    return;
  }
  GwtModule gwtModule=gwtModuleOptional.get();
  ruleResolver.addToIndex(gwtModule.getBuildTarget(),gwtModule);
}
