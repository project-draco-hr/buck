{
  if (arg.srcs.get().isEmpty() && arg.resources.get().isEmpty()) {
    return Optional.absent();
  }
  BuildTarget gwtModuleBuildTarget=BuildTargets.createFlavoredBuildTarget(originalBuildTarget,JavaLibrary.GWT_MODULE_FLAVOR);
  ImmutableSortedSet<SourcePath> filesForGwtModule=ImmutableSortedSet.<SourcePath>naturalOrder().addAll(arg.srcs.get()).addAll(arg.resources.get()).build();
  ImmutableSortedSet<BuildRule> deps=ImmutableSortedSet.copyOf(SourcePaths.filterBuildRuleInputs(filesForGwtModule));
  GwtModule gwtModule=new GwtModule(new BuildRuleParams(gwtModuleBuildTarget,deps,ImmutableSortedSet.<BuildRule>of(),BuildTargetPattern.PUBLIC,projectFilesystem,ruleKeyBuilderFactory,BuildRuleType.GWT_MODULE),filesForGwtModule);
  return Optional.of(gwtModule);
}
