{
  BuildRule libraryRule=createBuildRuleWithDefaults(BuildTarget.builder("//foo","library").build(),ImmutableSortedSet.<BuildRule>of(),iosLibraryDescription);
  BuildRule binaryRule=createBuildRuleWithDefaults(BuildTarget.builder("//foo","binary").build(),ImmutableSortedSet.<BuildRule>of(),iosBinaryDescription);
  BuildRule testRule=createBuildRuleWithDefaults(BuildTarget.builder("//foo","test").build(),ImmutableSortedSet.<BuildRule>of(),iosTestDescription);
  BuildRule nativeRule=createBuildRuleWithDefaults(BuildTarget.builder("//foo","native").build(),ImmutableSortedSet.<BuildRule>of(),iosTestDescription);
  BuildRule configRule=createXcodeProjectConfigRule("//foo","fooproject",ImmutableSet.of(libraryRule,binaryRule,testRule,nativeRule));
  SeparatedProjectsGenerator generator=new SeparatedProjectsGenerator(projectFilesystem,createPartialGraphFromBuildRules(ImmutableSet.of(configRule,libraryRule,binaryRule,testRule,nativeRule)),executionContext,ImmutableSet.of(configRule.getBuildTarget()),ImmutableSet.<ProjectGenerator.Option>of());
  generator.generateProjects();
  PBXProject project=getGeneratedProjectOfConfigRule(generator,configRule);
  assertTargetExistsAndReturnTarget(project,"library");
  assertTargetExistsAndReturnTarget(project,"binary");
  assertTargetExistsAndReturnTarget(project,"test");
  assertTargetExistsAndReturnTarget(project,"native");
}
