{
  BuildRule fooRule1=createBuildRuleWithDefaults(BuildTarget.builder("//foo","rule1").build(),ImmutableSortedSet.<BuildRule>of(),iosLibraryDescription);
  BuildRule fooConfigRule=createXcodeProjectConfigRule("//foo","fooproject",ImmutableSet.of(fooRule1));
  BuildRule barRule2=createBuildRuleWithDefaults(BuildTarget.builder("//bar","rule2").build(),ImmutableSortedSet.<BuildRule>of(),iosLibraryDescription);
  BuildRule barConfigRule=createXcodeProjectConfigRule("//bar","barproject",ImmutableSet.of(barRule2));
  SeparatedProjectsGenerator generator=new SeparatedProjectsGenerator(projectFilesystem,createPartialGraphFromBuildRules(ImmutableSet.of(fooRule1,barRule2,fooConfigRule,barConfigRule)),executionContext,ImmutableSet.of(fooConfigRule.getBuildTarget(),barConfigRule.getBuildTarget()));
  ImmutableSet<Path> paths=generator.generateProjects();
  assertEquals(ImmutableSet.of(Paths.get("foo/fooproject.xcodeproj"),Paths.get("bar/barproject.xcodeproj")),paths);
}
