{
  assumeTrue(Platform.detect() != Platform.MACOS || !ImmutableSet.of(CxxPreprocessMode.SEPARATE,CxxPreprocessMode.PIPED).contains(mode));
  workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"step_test",tmp);
  workspace.setUp();
  workspace.writeContentsToPath("[cxx]\n" + "  preprocess_mode = " + mode.toString().toLowerCase() + "\n"+ "  cppflags = -g\n"+ "  cflags = -g\n"+ "  cxxppflags = -g\n"+ "  cxxflags = -g\n",".buckconfig");
}
