{
  ImmutableSet<BuildTarget> targets;
  QueryExpression expr=createDummyQueryExpression();
  BuildTarget buildTargetSix=BuildTarget.builder("//example","six").build();
  targets=buckQueryEnvironment.getTargetsMatchingPattern(expr,"//example:six");
  assertThat(targets,is(equalTo(ImmutableSet.of(buildTargetSix))));
  assertThat(buckQueryEnvironment.targetPatternEvaluator.getKnownTargets(),is(equalTo(ImmutableSet.of(buildTargetSix,buildTargetSix))));
  BuildTarget buildTargetSeven=BuildTarget.builder("//example/app","seven").build();
  targets=buckQueryEnvironment.getTargetsMatchingPattern(expr,"//example/app:seven");
  assertThat(targets,is(equalTo(ImmutableSet.of(buildTargetSeven))));
  assertThat(buckQueryEnvironment.targetPatternEvaluator.getKnownTargets(),is(equalTo(ImmutableSet.of(buildTargetSix,buildTargetSeven))));
}
