{
  ImmutableSet<BuildTarget> targets;
  QueryExpression expr=createDummyQueryExpression();
  ImmutableSet<BuildTarget> expectedTargets=ImmutableSortedSet.of(BuildTarget.builder("//example","one").build(),BuildTarget.builder("//example","two").build(),BuildTarget.builder("//example","three").build(),BuildTarget.builder("//example","four").build(),BuildTarget.builder("//example","five").build(),BuildTarget.builder("//example","six").build(),BuildTarget.builder("//example","application-test-lib").build(),BuildTarget.builder("//example","one-tests").build(),BuildTarget.builder("//example","four-tests").build(),BuildTarget.builder("//example","four-application-tests").build(),BuildTarget.builder("//example","six-tests").build());
  targets=buckQueryEnvironment.getTargetsMatchingPattern(expr,"//example:");
  assertThat(targets,is(equalTo(expectedTargets)));
  assertThat(buckQueryEnvironment.targetPatternEvaluator.getKnownTargets(),is(equalTo(expectedTargets)));
}
