{
  final Fixture fixture=new Fixture("pipeline_test");
  final Cell cell=fixture.getCell();
  TargetNode<?> libTargetNode=fixture.getParsePipeline().getTargetNode(cell,BuildTargetFactory.newInstance(cell.getFilesystem(),"//:lib"));
  waitForAll(libTargetNode.getDeps(),new Predicate<BuildTarget>(){
    @Override public boolean apply(    BuildTarget dep){
      return fixture.getCache().lookupTargetNode(cell,dep) != null;
    }
  }
);
  fixture.close();
}
