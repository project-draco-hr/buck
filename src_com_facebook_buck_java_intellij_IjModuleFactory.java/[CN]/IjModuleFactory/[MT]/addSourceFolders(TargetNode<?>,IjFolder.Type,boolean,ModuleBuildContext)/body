{
  ImmutableSet<Path> sourceFolders=FluentIterable.from(target.getInputs()).transform(new Function<Path,Path>(){
    @Override public Path apply(    Path input){
      Path parent=input.getParent();
      if (parent == null) {
        return Paths.get("");
      }
      return parent;
    }
  }
).toSet();
  for (  Path path : sourceFolders) {
    Preconditions.checkArgument(path.startsWith(context.getModuleBasePath()));
    context.addSourceFolder(IjFolder.builder().setPath(path).setType(type).setWantsPackagePrefix(wantsPackagePrefix).build());
  }
}
