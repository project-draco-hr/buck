{
  ImmutableList.Builder<Step> steps=ImmutableList.builder();
  Path resolvedBinaryJar=getResolver().getPath(binaryJar);
  steps.add(new MkdirStep(getProjectFilesystem(),copiedBinaryJar.getParent()));
  steps.add(CopyStep.forFile(getProjectFilesystem(),resolvedBinaryJar,copiedBinaryJar));
  buildableContext.recordArtifact(copiedBinaryJar);
  steps.add(new MkdirStep(getProjectFilesystem(),abiJar.getParent()));
  steps.add(new RmStep(getProjectFilesystem(),abiJar,true));
  steps.add(new CalculateAbiStep(buildableContext,getProjectFilesystem(),resolvedBinaryJar,abiJar));
  JavaLibraryRules.addAccumulateClassNamesStep(this,buildableContext,steps);
  return steps.build();
}
