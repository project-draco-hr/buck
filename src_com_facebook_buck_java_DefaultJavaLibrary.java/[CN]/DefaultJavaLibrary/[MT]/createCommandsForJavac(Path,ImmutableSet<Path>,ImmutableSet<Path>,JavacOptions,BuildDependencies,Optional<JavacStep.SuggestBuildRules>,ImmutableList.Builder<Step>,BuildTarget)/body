{
  Step mkdir=new MakeCleanDirectoryStep(getPathToAbiOutputDir());
  commands.add(mkdir);
  if (!getJavaSrcs().isEmpty()) {
    Path pathToSrcsList=BuildTargets.getGenPath(getBuildTarget(),"__%s__srcs");
    commands.add(new MkdirStep(pathToSrcsList.getParent()));
    Optional<Path> workingDirectory;
    if (javacOptions.getJavaCompilerEnvironment().getJavacPath().isPresent()) {
      Path scratchDir=BuildTargets.getGenPath(target,"lib__%s____working_directory");
      commands.add(new MakeCleanDirectoryStep(scratchDir));
      workingDirectory=Optional.of(scratchDir);
    }
 else {
      workingDirectory=Optional.absent();
    }
    JavacStep javacStep=new JavacStep(javac,outputDirectory,workingDirectory,getJavaSrcs(),Optional.of(pathToSrcsList),transitiveClasspathEntries,declaredClasspathEntries,javacOptions,target,buildDependencies,suggestBuildRules);
    commands.add(javacStep);
  }
}
