{
  Hasher hasher=Hashing.sha1().newHasher();
  for (  HasBuildTarget candidate : rulesWithAbiToConsider) {
    if (candidate == this) {
      continue;
    }
    if (candidate instanceof HasJavaAbi) {
      Sha1HashCode abiKey=((HasJavaAbi)candidate).getAbiKey();
      hasher.putUnencodedChars(abiKey.getHash());
    }
 else     if (candidate instanceof BuildRule) {
      HashCode hashCode=((BuildRule)candidate).getRuleKey().getHashCode();
      hasher.putBytes(hashCode.asBytes());
    }
  }
  return hasher;
}
