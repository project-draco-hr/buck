{
  Path p=new FakeProjectFilesystem().getRootPath();
  ProgressEstimator e=new ProgressEstimator(p);
  e.didStartBuild();
  e.setNumberOfRules(10);
  e.didStartRule();
  e.didStartBuild();
  e.didSuspendRule();
  e.didResumeRule();
  e.didFinishRule();
  assertThat(e.getApproximateBuildProgress().isPresent(),Matchers.equalTo(true));
  assertThat(e.getApproximateBuildProgress().get().doubleValue(),Matchers.greaterThan(0.0));
  assertThat(e.getApproximateBuildProgress().get().doubleValue(),Matchers.lessThan(1.0));
}
