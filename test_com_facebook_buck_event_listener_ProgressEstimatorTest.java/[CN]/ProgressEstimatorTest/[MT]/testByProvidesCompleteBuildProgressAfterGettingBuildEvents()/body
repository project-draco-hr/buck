{
  Path p=new FakeProjectFilesystem().getRootPath();
  ProgressEstimator e=new ProgressEstimator(p,getBuckEventBus(),MAPPER);
  e.didStartBuild();
  e.setNumberOfRules(10);
  e.didFinishBuild();
  assertThat(e.getApproximateBuildProgress().isPresent(),Matchers.equalTo(true));
  assertThat(e.getApproximateBuildProgress().get().doubleValue(),Matchers.closeTo(1.0,0.01));
}
