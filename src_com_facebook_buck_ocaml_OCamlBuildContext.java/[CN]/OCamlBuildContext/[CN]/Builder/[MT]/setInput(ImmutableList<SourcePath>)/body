{
  Preconditions.checkNotNull(context.getGeneratedSourceDir(),"You should initialize directories before the call to setInput");
  context.input=Preconditions.checkNotNull(input);
  FluentIterable<Path> inputPaths=FluentIterable.from(context.input).transform(SourcePaths.TO_PATH);
  context.cInput=inputPaths.filter(OCamlUtil.ext(OCamlCompilables.OCAML_C)).toSet();
  context.lexInput=inputPaths.filter(OCamlUtil.ext(OCamlCompilables.OCAML_MLL)).toSet();
  context.yaccInputs=inputPaths.filter(OCamlUtil.ext(OCamlCompilables.OCAML_MLY)).toSet();
  context.mlInput=ImmutableSet.copyOf(Iterables.concat(inputPaths.filter(OCamlUtil.ext(OCamlCompilables.OCAML_ML,OCamlCompilables.OCAML_MLI)),context.getLexOutput(Preconditions.checkNotNull(context.lexInput)),context.getYaccOutput(Preconditions.checkNotNull(context.yaccInputs))));
  return this;
}
