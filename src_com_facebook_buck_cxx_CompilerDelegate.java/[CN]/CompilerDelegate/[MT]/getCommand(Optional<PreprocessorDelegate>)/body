{
  ImmutableList.Builder<String> builder=ImmutableList.builder();
  builder.addAll(compiler.getCommandPrefix(resolver));
  if (preprocessorDelegate.isPresent()) {
    builder.addAll(preprocessorDelegate.get().getPreprocessorPlatformPrefix());
  }
  builder.addAll(platformCompilerFlags);
  if (preprocessorDelegate.isPresent()) {
    builder.addAll(preprocessorDelegate.get().getPreprocessorSuffix());
  }
  builder.addAll(ruleCompilerFlags);
  builder.addAll(compiler.debugCompilationDirFlags(sanitizer.getCompilationDirectory()).or(ImmutableList.<String>of()));
  return builder.build();
}
