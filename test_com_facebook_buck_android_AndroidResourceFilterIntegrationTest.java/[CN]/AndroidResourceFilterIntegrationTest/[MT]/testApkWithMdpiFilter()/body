{
  ProjectWorkspace.ProcessResult result=workspace.runBuckCommand("build","//apps/sample:app_mdpi");
  result.assertSuccess();
  Path apkFile=workspace.getPath(String.format(APK_PATH_FORMAT,"app_mdpi"));
  ZipInspector zipInspector=new ZipInspector(apkFile);
  if (isBuildToolsNew) {
    zipInspector.assertFileExists("res/drawable-mdpi-v4/app_icon.png");
    zipInspector.assertFileDoesNotExist("res/drawable-hdpi-v4/app_icon.png");
    zipInspector.assertFileDoesNotExist("res/drawable-xhdpi-v4/app_icon.png");
  }
 else {
    zipInspector.assertFileExists("res/drawable-mdpi/app_icon.png");
    zipInspector.assertFileDoesNotExist("res/drawable-hdpi/app_icon.png");
    zipInspector.assertFileDoesNotExist("res/drawable-xhdpi/app_icon.png");
  }
}
