{
  workspace.writeContentsToPath("[cache]\n  mode = dir",".buckconfig");
  workspace.runBuckBuild("//apps/sample:app_comp_str").assertSuccess();
  BuckBuildLog buildLog=workspace.getBuildLog();
  Sha1HashCode androidBinaryRuleKey=buildLog.getRuleKey("//apps/sample:app_comp_str");
  File cachedFile=workspace.getFile("buck-cache/" + androidBinaryRuleKey.getHash());
  assertTrue(cachedFile.delete());
  workspace.runBuckCommand("clean").assertSuccess();
  workspace.runBuckBuild("//apps/sample:app_comp_str").assertSuccess();
}
