{
  if (visited.contains(node)) {
    return;
  }
  visited.add(node);
  if (node.getType() != AppleLibraryDescription.TYPE && node.getType() != AppleBinaryDescription.TYPE) {
    return;
  }
  Set<TargetNode<GraphQLDataDescription.Arg>> models=targetsToTransitiveModelDependencies.get(node.getBuildTarget());
  if (models == null) {
    models=new HashSet<>();
    targetsToTransitiveModelDependencies.put(node.getBuildTarget(),models);
  }
  models.add(model);
  for (  TargetNode<?> dependent : targetGraph.getIncomingNodesFor(node)) {
    addAllTransitiveDependents(targetGraph,targetsToTransitiveModelDependencies,dependent,model,visited);
  }
}
