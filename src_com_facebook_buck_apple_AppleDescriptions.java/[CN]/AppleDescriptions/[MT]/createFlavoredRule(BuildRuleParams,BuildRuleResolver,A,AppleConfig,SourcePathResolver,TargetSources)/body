{
  BuildTarget target=params.getBuildTarget();
  if (target.getFlavors().contains(CompilationDatabase.COMPILATION_DATABASE)) {
    BuildRule compilationDatabase=createCompilationDatabase(params,resolver,args,appleConfig,pathResolver,targetSources);
    return Optional.of(compilationDatabase);
  }
 else   if (target.getFlavors().contains(HEADERS)) {
    return Optional.of(createHeadersFlavor(params,pathResolver,args));
  }
 else {
    return Optional.absent();
  }
}
