{
  UnflavoredBuildTarget targetForOriginalRule=params.getBuildTarget().getUnflavoredBuildTarget();
  BuildTarget headersTarget=BuildTargets.createFlavoredBuildTarget(targetForOriginalRule,AppleDescriptions.HEADERS);
  BuildRuleParams headerRuleParams=params.copyWithChanges(HEADERS_RULE_TYPE,headersTarget,Suppliers.ofInstance(ImmutableSortedSet.<BuildRule>of()),Suppliers.ofInstance(params.getExtraDeps()));
  boolean useBuckHeaderMaps=args.useBuckHeaderMaps.or(Boolean.FALSE);
  return createSymlinkTree(headerRuleParams,resolver,args.exportedHeaders.get(),useBuckHeaderMaps);
}
