{
  NewNativeTargetProjectMutator mutator=mutatorWithCommonDefaults();
  mutator.setFrameworks(ImmutableSet.of(FrameworkPath.ofSourceTreePath(SourceTreePath.ofAutodetectedType(PBXReference.SourceTree.SDKROOT,Paths.get("Foo.framework")))));
  mutator.setArchives(ImmutableSet.of(PBXFileReference.ofAutodetectedType("libdep.a","libdep.a",PBXReference.SourceTree.BUILT_PRODUCTS_DIR)));
  NewNativeTargetProjectMutator.Result result=mutator.buildTargetAndAddToProject(generatedProject);
  assertHasSingletonFrameworksPhaseWithFrameworkEntries(result.target,ImmutableList.of("$SDKROOT/Foo.framework","$BUILT_PRODUCTS_DIR/libdep.a"));
}
