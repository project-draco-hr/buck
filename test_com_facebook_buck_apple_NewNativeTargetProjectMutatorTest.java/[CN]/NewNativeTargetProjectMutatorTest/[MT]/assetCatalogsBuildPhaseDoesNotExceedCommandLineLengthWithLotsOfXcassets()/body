{
  ImmutableSet.Builder<AppleAssetCatalogDescription.Arg> assetsBuilder=ImmutableSet.builder();
  for (int i=0; i < 10000; i+=1) {
    AppleAssetCatalogDescription.Arg arg=new AppleAssetCatalogDescription.Arg();
    arg.dirs=ImmutableSortedSet.of(Paths.get(String.format("AssetCatalog%d.xcassets",i)));
    assetsBuilder.add(arg);
  }
  NewNativeTargetProjectMutator mutator=mutatorWithCommonDefaults();
  mutator.setRecursiveAssetCatalogs(Paths.get("compile_asset_catalogs"),assetsBuilder.build());
  NewNativeTargetProjectMutator.Result result=mutator.buildTargetAndAddToProject(generatedProject);
  PBXShellScriptBuildPhase assetCatalogBuildPhase=getAssetCatalogBuildPhase(result.target.getBuildPhases());
  for (  String line : Splitter.on('\n').split(assetCatalogBuildPhase.getShellScript())) {
    int lineLength=line.length();
    assertThat("Line length of generated asset catalog build phase should not be super long",lineLength,lessThan(1024));
  }
}
