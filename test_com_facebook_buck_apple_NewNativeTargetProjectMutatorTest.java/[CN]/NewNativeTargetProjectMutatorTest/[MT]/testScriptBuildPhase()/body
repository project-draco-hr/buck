{
  NewNativeTargetProjectMutator mutator=mutatorWithCommonDefaults();
  TargetNode<?> prebuildNode=XcodePrebuildScriptBuilder.createBuilder(BuildTarget.builder("//foo","script").build()).setCmd("echo \"hello world!\"").build();
  mutator.setPostBuildRunScriptPhases(ImmutableList.<TargetNode<?>>of(prebuildNode));
  NewNativeTargetProjectMutator.Result result=mutator.buildTargetAndAddToProject(generatedProject);
  PBXShellScriptBuildPhase phase=getSingletonPhaseByType(result.target,PBXShellScriptBuildPhase.class);
  assertEquals("should set script correctly","echo \"hello world!\"",phase.getShellScript());
}
