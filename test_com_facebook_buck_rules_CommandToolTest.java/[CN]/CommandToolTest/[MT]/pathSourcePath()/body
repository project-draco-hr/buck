{
  BuildRuleResolver resolver=new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer());
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  ProjectFilesystem filesystem=new FakeProjectFilesystem();
  SourcePath path=new PathSourcePath(filesystem,Paths.get("output"));
  CommandTool tool=new CommandTool.Builder().addArg(path).build();
  assertThat(tool.getCommandPrefix(pathResolver),Matchers.contains(pathResolver.getAbsolutePath(path).toString()));
  tool=new CommandTool.Builder().addArg("prefix:%s",path).build();
  assertThat(tool.getCommandPrefix(pathResolver),Matchers.contains("prefix:" + pathResolver.getAbsolutePath(path)));
}
