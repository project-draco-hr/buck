{
  if ((res == null && rDotJavaPackage != null) || (res != null && rDotJavaPackage == null)) {
    throw new HumanReadableException("Both res and package must be set together in %s.",getBuildTarget().getFullyQualifiedName());
  }
  return new AndroidResourceRule(createBuildRuleParams(buildRuleIndex),res,rDotJavaPackage,assetsDirectory,manifestFile,new DefaultDirectoryTraverser());
}
