{
  String name=fileLike.getRelativePath();
  if (!entryNames.contains(name)) {
    entryNames.add(name);
    outStream.putNextEntry(new ZipEntry(name));
    InputStream in=fileLike.getInput();
    long entrySize;
    try {
      entrySize=ByteStreams.copy(in,outStream);
    }
  finally {
      in.close();
    }
    Preconditions.checkState(!isEntryTooBig(entrySize),"Putting entry %s (%d) exceeded maximum size of %d",name,entrySize,zipSizeHardLimit);
    currentSize+=entrySize;
  }
}
