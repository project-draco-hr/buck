{
  Preconditions.checkNotNull(platformId);
  Preconditions.checkNotNull(androidDirectoryResolver);
  Matcher platformMatcher=PLATFORM_TARGET_PATTERN.matcher(platformId);
  if (platformMatcher.matches()) {
    try {
      int apiLevel=Integer.parseInt(platformMatcher.group(1));
      return Optional.of(new AndroidWithGoogleApisFactory().newInstance(androidDirectoryResolver,apiLevel));
    }
 catch (    NumberFormatException e) {
      return Optional.absent();
    }
  }
 else {
    return Optional.absent();
  }
}
