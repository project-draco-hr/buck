{
  ImmutableList<String> argv=getShellCommandInternal(context);
  Preconditions.checkState(argv.get(0).endsWith("/dx") || argv.get(0).endsWith("\\dx"));
  Preconditions.checkState(argv.get(1).equals("--dex"));
  ImmutableList<String> args=argv.subList(2,argv.size());
  try {
    return new com.android.dx.command.dexer.Main().run(args.toArray(new String[args.size()]),context.getStdOut(),context.getStdErr());
  }
 catch (  IOException e) {
    e.printStackTrace(context.getStdErr());
    return 1;
  }
}
