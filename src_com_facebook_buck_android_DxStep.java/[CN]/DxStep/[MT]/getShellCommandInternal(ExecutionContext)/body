{
  ImmutableList.Builder<String> builder=ImmutableList.builder();
  AndroidPlatformTarget androidPlatformTarget=context.getAndroidPlatformTarget();
  String defaultDx=androidPlatformTarget.getDxExecutable().toString();
  String customDx=getPathToCustomDx.get();
  String dx=customDx != null ? customDx : defaultDx;
  builder.add(dx);
  builder.add("--dex");
  if (context.getVerbosity().shouldPrintSelectCommandOutput()) {
    builder.add("--statistics");
  }
  if (options.contains(Option.NO_OPTIMIZE)) {
    builder.add("--no-optimize");
  }
  if (options.contains(Option.FORCE_JUMBO)) {
    builder.add("--force-jumbo");
  }
  if (context.getVerbosity().shouldUseVerbosityFlagIfAvailable()) {
    builder.add("--verbose");
  }
  ProjectFilesystem projectFilesystem=context.getProjectFilesystem();
  builder.add("--output",projectFilesystem.resolve(outputDexFile).toString());
  for (  Path fileToDex : filesToDex) {
    builder.add(projectFilesystem.resolve(fileToDex).toString());
  }
  return builder.build();
}
