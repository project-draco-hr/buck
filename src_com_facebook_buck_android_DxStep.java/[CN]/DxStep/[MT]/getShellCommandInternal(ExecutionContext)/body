{
  ImmutableList.Builder<String> builder=ImmutableList.builder();
  AndroidPlatformTarget androidPlatformTarget=context.getAndroidPlatformTarget();
  builder.add(androidPlatformTarget.getDxExecutable().getAbsolutePath());
  builder.add("--dex");
  if (context.getVerbosity().shouldPrintSelectCommandOutput()) {
    builder.add("--statistics");
  }
  if (context.getVerbosity().shouldUseVerbosityFlagIfAvailable()) {
    builder.add("--verbose");
  }
  builder.add("--output",outputDexFile);
  ProjectFilesystem projectFilesystem=context.getProjectFilesystem();
  for (  Path fileToDex : filesToDex) {
    builder.add(projectFilesystem.resolve(fileToDex).toString());
  }
  return builder.build();
}
