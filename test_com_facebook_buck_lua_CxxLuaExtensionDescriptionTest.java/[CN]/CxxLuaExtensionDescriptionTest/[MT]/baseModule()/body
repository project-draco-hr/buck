{
  CxxLuaExtensionBuilder builder=new CxxLuaExtensionBuilder(BuildTargetFactory.newInstance("//:rule")).setBaseModule("hello.world");
  BuildRuleResolver resolver=new BuildRuleResolver(TargetGraphFactory.newInstance(builder.build()),new BuildTargetNodeToBuildRuleTransformer());
  CxxLuaExtension extension=(CxxLuaExtension)builder.build(resolver);
  assertThat(extension.getModule(CxxPlatformUtils.DEFAULT_PLATFORM),Matchers.equalTo("hello/world/rule.so"));
}
