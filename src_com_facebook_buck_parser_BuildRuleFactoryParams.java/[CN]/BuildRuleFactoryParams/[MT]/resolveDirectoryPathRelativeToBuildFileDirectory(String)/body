{
  Preconditions.checkNotNull(path);
  Preconditions.checkArgument(!path.startsWith(GENFILE_PREFIX));
  String fullPath=resolvePathAgainstBuildTargetBase(path);
  checkFullPath(fullPath);
  if (!ignoreFileExistenceChecks && !new File(fullPath).isDirectory()) {
    throw new RuntimeException("Not a directory: " + fullPath);
  }
  return fullPath;
}
