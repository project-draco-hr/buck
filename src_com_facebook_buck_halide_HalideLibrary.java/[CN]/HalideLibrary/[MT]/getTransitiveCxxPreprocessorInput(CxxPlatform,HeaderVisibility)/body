{
  Pair<Flavor,HeaderVisibility> key=new Pair<>(cxxPlatform.getFlavor(),headerVisibility);
  ImmutableMap<BuildTarget,CxxPreprocessorInput> result=cxxPreprocessorInputCache.get(key);
  if (result == null) {
    ImmutableMap.Builder<BuildTarget,CxxPreprocessorInput> builder=ImmutableMap.builder();
    builder.put(getBuildTarget(),getCxxPreprocessorInput(cxxPlatform,headerVisibility));
    result=builder.build();
    cxxPreprocessorInputCache.put(key,result);
  }
  return result;
}
