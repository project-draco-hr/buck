{
  auditClasspathCommand.printClasspath(params,TargetGraphFactory.newInstance(ImmutableSet.<TargetNode<?>>of()),ImmutableSet.<BuildTarget>of());
  assertEquals("",console.getTextWrittenToStdOut());
  assertEquals("",console.getTextWrittenToStdErr());
  BuildTarget javaLibraryTarget=BuildTargetFactory.newInstance("//:test-java-library");
  BuildTarget testJavaTarget=BuildTargetFactory.newInstance("//:project-tests");
  BuildTarget androidLibraryTarget=BuildTargetFactory.newInstance("//:test-android-library");
  BuildTarget keystoreTarget=BuildTargetFactory.newInstance("//:keystore");
  BuildTarget testAndroidTarget=BuildTargetFactory.newInstance("//:test-android-binary");
  TargetNode<?> javaLibraryNode=JavaLibraryBuilder.createBuilder(javaLibraryTarget).addSrc(Paths.get("src/com/facebook/TestJavaLibrary.java")).addTest(testJavaTarget).build();
  TargetNode<?> androidLibraryNode=AndroidLibraryBuilder.createBuilder(androidLibraryTarget).addSrc(Paths.get("src/com/facebook/TestAndroidLibrary.java")).addDep(javaLibraryTarget).build();
  TargetNode<?> keystoreNode=KeystoreBuilder.createBuilder(keystoreTarget).setStore(new FakeSourcePath("debug.keystore")).setProperties(new FakeSourcePath("keystore.properties")).build();
  TargetNode<?> testAndroidNode=AndroidBinaryBuilder.createBuilder(testAndroidTarget).setManifest(new FakeSourcePath("AndroidManifest.xml")).setKeystore(keystoreTarget).setOriginalDeps(ImmutableSortedSet.of(androidLibraryTarget,javaLibraryTarget)).build();
  TargetNode<?> testJavaNode=JavaTestBuilder.createBuilder(testJavaTarget).addDep(javaLibraryTarget).addSrc(Paths.get("src/com/facebook/test/ProjectTests.java")).build();
  TargetGraph targetGraph=TargetGraphFactory.newInstance(ImmutableSet.of(javaLibraryNode,androidLibraryNode,keystoreNode,testAndroidNode,testJavaNode));
  auditClasspathCommand.printClasspath(params,targetGraph,ImmutableSet.<BuildTarget>of());
  assertEquals("",console.getTextWrittenToStdOut());
  assertEquals("",console.getTextWrittenToStdErr());
  auditClasspathCommand.printClasspath(params,targetGraph,ImmutableSet.of(testAndroidTarget));
  Path root=javaLibraryTarget.getUnflavoredBuildTarget().getCellPath();
  SortedSet<String> expectedPaths=Sets.newTreeSet(Arrays.asList(root.resolve(BuildTargets.getGenPath(params.getCell().getFilesystem(),androidLibraryTarget,"lib__%s__output").resolve(androidLibraryTarget.getShortName() + ".jar")).toString(),root.resolve(BuildTargets.getGenPath(params.getCell().getFilesystem(),javaLibraryTarget,"lib__%s__output").resolve(javaLibraryTarget.getShortName() + ".jar")).toString()));
  String expectedClasspath=Joiner.on("\n").join(expectedPaths) + "\n";
  assertEquals(expectedClasspath,console.getTextWrittenToStdOut());
  assertEquals("",console.getTextWrittenToStdErr());
  setUp();
  auditClasspathCommand.printClasspath(params,TargetGraphFactory.newInstance(ImmutableSet.of(javaLibraryNode,androidLibraryNode,keystoreNode,testAndroidNode,testJavaNode)),ImmutableSet.of(testAndroidTarget,javaLibraryTarget,androidLibraryTarget,testJavaTarget));
  BuildTarget testJavaCompiledJar=testJavaTarget.withFlavors(COMPILED_TESTS_LIBRARY_FLAVOR);
  expectedPaths.add(root.resolve(BuildTargets.getGenPath(params.getCell().getFilesystem(),testJavaCompiledJar,"lib__%s__output").resolve(testJavaCompiledJar.getShortNameAndFlavorPostfix() + ".jar")).toString());
  expectedClasspath=Joiner.on("\n").join(expectedPaths) + "\n";
  assertEquals(expectedClasspath,console.getTextWrittenToStdOut());
  assertEquals("",console.getTextWrittenToStdErr());
}
