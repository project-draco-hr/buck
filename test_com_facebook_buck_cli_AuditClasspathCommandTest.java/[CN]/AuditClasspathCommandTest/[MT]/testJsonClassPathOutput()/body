{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  ImmutableList<String> targets=ImmutableList.of("//:test-android-library","//:test-java-library");
  BuildRule library=JavaLibraryBuilder.createBuilder(BuildTargetFactory.newInstance("//:test-java-library")).addSrc(Paths.get("src/com/facebook/TestJavaLibrary.java")).build(ruleResolver);
  AndroidLibraryBuilder.createBuilder(BuildTargetFactory.newInstance("//:test-android-library")).addSrc(Paths.get("src/com/facebook/TestAndroidLibrary.java")).addDep(library).build(ruleResolver);
  PartialGraph partialGraph=createGraphFromBuildRules(ruleResolver,targets);
  auditClasspathCommand.printJsonClasspath(partialGraph);
  assertEquals(EXPECTED_JSON,console.getTextWrittenToStdOut());
  assertEquals("",console.getTextWrittenToStdErr());
}
