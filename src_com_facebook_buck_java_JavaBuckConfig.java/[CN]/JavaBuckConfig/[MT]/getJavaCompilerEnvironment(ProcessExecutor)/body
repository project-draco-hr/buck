{
  Optional<Path> javac=getJavac();
  Optional<JavacVersion> javacVersion=Optional.absent();
  if (javac.isPresent()) {
    javacVersion=Optional.of(getJavacVersion(processExecutor,javac.get()));
  }
  Optional<String> sourceLevel=delegate.getValue("java","source_level");
  Optional<String> targetLevel=delegate.getValue("java","target_level");
  return new JavaCompilerEnvironment(javac,javacVersion,sourceLevel.or(TARGETED_JAVA_VERSION),targetLevel.or(TARGETED_JAVA_VERSION));
}
