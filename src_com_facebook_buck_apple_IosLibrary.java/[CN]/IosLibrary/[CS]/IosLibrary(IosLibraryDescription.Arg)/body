{
  configurations=XcodeRuleConfiguration.fromRawJsonStructure(arg.configs);
  frameworks=Preconditions.checkNotNull(arg.frameworks);
  ImmutableSortedSet.Builder<SourcePath> srcsBuilder=ImmutableSortedSet.naturalOrder();
  ImmutableMap.Builder<SourcePath,String> perFileCompileFlagsBuilder=ImmutableMap.builder();
  ImmutableList.Builder<GroupedSource> groupedSourcesBuilder=ImmutableList.builder();
  RuleUtils.extractSourcePaths(srcsBuilder,perFileCompileFlagsBuilder,groupedSourcesBuilder,arg.srcs);
  srcs=srcsBuilder.build();
  perFileCompilerFlags=perFileCompileFlagsBuilder.build();
  groupedSrcs=groupedSourcesBuilder.build();
  ImmutableSortedSet.Builder<SourcePath> headersBuilder=ImmutableSortedSet.naturalOrder();
  ImmutableMap.Builder<SourcePath,HeaderVisibility> perHeaderVisibilityBuilder=ImmutableMap.builder();
  ImmutableList.Builder<GroupedSource> groupedHeadersBuilder=ImmutableList.builder();
  RuleUtils.extractHeaderPaths(headersBuilder,perHeaderVisibilityBuilder,groupedHeadersBuilder,arg.headers);
  headers=headersBuilder.build();
  perHeaderVisibility=perHeaderVisibilityBuilder.build();
  groupedHeaders=groupedHeadersBuilder.build();
}
