{
  IjModuleFactory factory=new IjModuleFactory(NO_OP_LIBRARY_FACTORY);
  SourcePath blessedManifestPath=new TestSourcePath("AndroidManifest.xml");
  TargetNode<?> blessedAndroidBinary=AndroidBinaryBuilder.createBuilder(BuildTargetFactory.newInstance("//java/com/example:droid_blessed")).setManifest(blessedManifestPath).build();
  TargetNode<?> otherAndroidBinary=AndroidBinaryBuilder.createBuilder(BuildTargetFactory.newInstance("//java/com/example:droid_other")).setManifest(new TestSourcePath("OtherAndroidManifest.xml")).build();
  TargetNode<?> projectConfig=ProjectConfigBuilder.createBuilder(BuildTargetFactory.newInstance("//java/com/example:project_config")).setSrcRule(blessedAndroidBinary.getBuildTarget()).build();
  Path moduleBasePath=Paths.get("java/com/example");
  IjModule module=factory.createModule(moduleBasePath,ImmutableSet.of(blessedAndroidBinary,otherAndroidBinary,projectConfig));
  assertTrue(module.getAndroidFacet().isPresent());
  assertEquals(blessedManifestPath,module.getAndroidFacet().get().getManifestPath().get());
}
