{
  Function<Optional<String>,Path> cellRoots=new Function<Optional<String>,Path>(){
    @Override public Path apply(    Optional<String> cellName){
      if (!"localreponame".equals(cellName.orNull())) {
        throw new RuntimeException("Path should have been present");
      }
      return Paths.get("/opt/local/repo");
    }
  }
;
  String targetStr="@localreponame//foo/bar:baz";
  BuildTarget buildTarget=parser.parse(targetStr,fullyQualifiedParser,cellRoots);
  assertEquals(targetStr,buildTarget.getFullyQualifiedName());
  assertEquals("localreponame",buildTarget.getCell().get());
}
