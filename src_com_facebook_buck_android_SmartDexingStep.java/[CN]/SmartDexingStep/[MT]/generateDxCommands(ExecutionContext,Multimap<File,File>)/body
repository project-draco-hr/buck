{
  ImmutableList.Builder<DxPseudoRule> pseudoRules=ImmutableList.builder();
  for (  File outputFile : outputToInputs.keySet()) {
    pseudoRules.add(new DxPseudoRule(context,ImmutableSet.copyOf(Paths.transformFileToAbsolutePath(outputToInputs.get(outputFile))),outputFile.getPath(),context.getProjectFilesystem().resolve(successDir.resolve(outputFile.getName()))));
  }
  ImmutableList.Builder<Step> commands=ImmutableList.builder();
  for (  DxPseudoRule pseudoRule : pseudoRules.build()) {
    if (!pseudoRule.checkIsCached()) {
      commands.addAll(pseudoRule.buildInternal());
    }
  }
  return commands.build();
}
