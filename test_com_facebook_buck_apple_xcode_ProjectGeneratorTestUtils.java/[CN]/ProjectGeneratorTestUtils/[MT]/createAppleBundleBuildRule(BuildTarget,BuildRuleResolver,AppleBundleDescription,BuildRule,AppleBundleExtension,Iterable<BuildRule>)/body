{
  AppleBundleDescription.Arg bundleArg=description.createUnpopulatedConstructorArg();
  bundleArg.infoPlist=Optional.<SourcePath>of(new TestSourcePath("Info.plist"));
  bundleArg.binary=binaryRule.getBuildTarget();
  bundleArg.extension=Either.ofLeft(extension);
  bundleArg.deps=Optional.of(ImmutableSortedSet.of(binaryRule.getBuildTarget()));
  ImmutableSortedSet<BuildRule> deps=ImmutableSortedSet.<BuildRule>naturalOrder().add(binaryRule).addAll(extraDeps).build();
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(target).setDeps(deps).setType(AppleBundleDescription.TYPE).build();
  return description.createBuildRule(params,resolver,bundleArg);
}
