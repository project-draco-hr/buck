{
  if ($assert.ENABLED) {
    $assert.ASSERT(item != null,"null input: item");
    $assert.ASSERT(columns != null,"null input: columns");
  }
  final StringBuffer buf=new StringBuffer(11);
  for (int c=0, cLimit=columns.length; c < cLimit; ++c) {
    final int attrID=columns[c];
    final IItemAttribute attr=item.getAttribute(attrID,m_settings.getUnitsType());
    if (attr != null) {
      boolean fail=(m_metrics[attrID] > 0) && !attr.passes(item,m_metrics[attrID]);
      if (fail) {
        attr.format(item,buf);
        buf.append('!');
      }
 else {
        attr.format(item,buf);
      }
    }
    if (c != cLimit - 1)     buf.append(m_separator);
  }
  row(buf);
}
