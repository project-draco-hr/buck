def open(self, url, ttl=None, conn_timeout=None):
    'Return a file-like object with the content of the url.'
    expired = self.expired(url, ttl=ttl)
    with TRACER.timed(('Opening %s' % ('(cached)' if (not expired) else '(uncached)')), V=1):
        if expired:
            try:
                self.cache(url, conn_timeout=conn_timeout)
            except (urllib_error.URLError, HTTPException) as exc:
                if ((not self._failsoft) or (url not in self)):
                    raise FetchError(exc)
        return self.decode_url(url)
