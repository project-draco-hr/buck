{
  if (finished.getStatus() != BuildRuleStatus.CANCELED) {
    if (progressEstimator.isPresent()) {
      progressEstimator.get().didFinishRule();
    }
    numRulesCompleted.getAndIncrement();
  }
}
