{
  BuildTarget target=params.getBuildTarget().withFlavors(cxxPlatform.getFlavor(),ImmutableFlavor.of("objects" + (picType == CxxSourceRuleFactory.PicType.PIC ? "-pic" : "")));
  Optional<HaskellCompileRule> existing=resolver.getRuleOptionalWithType(target,HaskellCompileRule.class);
  if (existing.isPresent()) {
    return existing.get();
  }
  return resolver.addToIndex(HaskellDescriptionUtils.createCompileRule(target,params,resolver,pathResolver,cxxPlatform,haskellBuckConfig,picType,main,srcs));
}
