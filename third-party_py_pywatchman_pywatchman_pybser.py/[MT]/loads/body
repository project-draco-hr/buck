def loads(buf):
    if (buf[0:2] != EMPTY_HEADER[0:2]):
        raise RuntimeError('Invalid BSER header')
    (expected_len, pos) = _bunser_int(buf, 2)
    if (len(buf) != (expected_len + pos)):
        raise RuntimeError('bser data len != header len')
    return _bser_loads_recursive(buf, pos)[0]
