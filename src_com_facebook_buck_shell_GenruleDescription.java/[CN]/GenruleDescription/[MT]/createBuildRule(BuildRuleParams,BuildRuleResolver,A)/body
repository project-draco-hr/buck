{
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  ImmutableList<SourcePath> srcs=args.srcs.get();
  ImmutableSortedSet<BuildRule> extraDeps=ImmutableSortedSet.<BuildRule>naturalOrder().addAll(params.getExtraDeps()).addAll(pathResolver.filterBuildRuleInputs(srcs)).build();
  return new Genrule(params.copyWithExtraDeps(Suppliers.ofInstance(extraDeps)).appendExtraDeps(findExtraDepsFromArgs(params.getBuildTarget(),resolver,args)),pathResolver,srcs,macroHandler.getExpander(params.getBuildTarget(),resolver,params.getProjectFilesystem()),args.cmd,args.bash,args.cmdExe,args.out,params.getPathAbsolutifier());
}
