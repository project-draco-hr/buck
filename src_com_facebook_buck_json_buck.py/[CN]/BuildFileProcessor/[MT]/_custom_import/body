def _custom_import(self):
    "\n        Returns customised '__import__' function that blocks importing modules.\n        "

    def _import(name, globals=None, locals=None, fromlist=(), level=0):
        if (name in ['os', 'os.path']):
            return self._safe_os_module()
        raise ImportError(((('Importing module %s is forbidden. ' % name) + 'If you really need to import this module read about ') + 'allow_unsafe_import() function'))
    return _import
