{
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  SourcePathResolver resolver=new SourcePathResolver(new BuildRuleResolver());
  Function<ImmutableSortedSet<FrameworkPath>,ImmutableList<String>> frameworksToLinkerFlagsTransformer=AppleDescriptions.frameworksToLinkerFlagsFunction(resolver);
  ImmutableList<String> linkerFlags=frameworksToLinkerFlagsTransformer.apply(ImmutableSortedSet.of(FrameworkPath.ofSourceTreePath(new SourceTreePath(PBXReference.SourceTree.SDKROOT,Paths.get("usr/lib/libz.dylib"))),FrameworkPath.ofSourcePath(new PathSourcePath(projectFilesystem,Paths.get("Vendor/Foo/libFoo.a"))),FrameworkPath.ofSourceTreePath(new SourceTreePath(PBXReference.SourceTree.DEVELOPER_DIR,Paths.get("Library/Frameworks/XCTest.framework"))),FrameworkPath.ofSourcePath(new PathSourcePath(projectFilesystem,Paths.get("Vendor/Bar/Bar.framework")))));
  assertEquals(ImmutableList.of("-L","$SDKROOT/usr/lib","-lz","-F","$DEVELOPER_DIR/Library/Frameworks","-framework","XCTest","-F","Vendor/Bar","-framework","Bar","-L","Vendor/Foo","-lFoo"),linkerFlags);
}
