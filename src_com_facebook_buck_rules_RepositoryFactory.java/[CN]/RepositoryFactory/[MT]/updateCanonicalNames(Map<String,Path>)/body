{
  for (  String possibleName : externalRepositoryPaths.keySet()) {
    Path canonicalPath=externalRepositoryPaths.get(possibleName);
    if (canonicalPathNames.containsKey(canonicalPath)) {
      continue;
    }
    if (canonicalPathNames.containsValue(Optional.of(possibleName))) {
      Path knownPath=canonicalPathNames.inverse().get(Optional.of(possibleName));
      throw new HumanReadableException(String.format("Tried to define repo \"%s\" at path %s, but it's already defined at path %s",possibleName,canonicalPath,knownPath));
    }
    canonicalPathNames.put(canonicalPath,Optional.of(possibleName));
  }
}
