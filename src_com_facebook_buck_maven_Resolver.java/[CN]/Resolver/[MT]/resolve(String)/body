{
  RepositorySystem repoSys=locator.getService(RepositorySystem.class);
  RepositorySystemSession session=newSession(repoSys);
  Set<String> specifiedArtifacts=new HashSet<>();
  for (  String coords : mavenCoords) {
    specifiedArtifacts.add(coords);
  }
  ImmutableMap<String,Artifact> knownDeps=getRunTimeTransitiveDeps(repoSys,session,mavenCoords);
  MutableDirectedGraph<Artifact> graph=buildDependencyGraph(repoSys,session,knownDeps);
  Map<Path,SortedSet<Prebuilt>> buckFiles=new HashMap<>();
  for (  Artifact artifact : graph.getNodes()) {
    List<String> extraVisibility=specifiedArtifacts.contains(artifact.toString()) ? this.visibility : ImmutableList.<String>of();
    downloadArtifact(artifact,repoSys,session,buckFiles,graph,extraVisibility);
  }
  createBuckFiles(buckFiles);
}
