{
  final ImmutableList<String> args=buildArgs(rootPath,buildFile,includes);
  final PipedReader outputReader=new PipedReader();
  BuildFileRunner runner=new BuildFileRunner(args,outputReader);
  executor.execute(runner);
  BuildFileToJsonParser parser=new BuildFileToJsonParser(outputReader);
  List<Map<String,Object>> rules=Lists.newArrayList();
  Map<String,Object> value;
  while ((value=parser.next()) != null) {
    rules.add(value);
  }
  return rules;
}
