{
  BuildTarget gtest=BuildTargetFactory.newInstance("//:gtest");
  FakeBuckConfig buckConfig=new FakeBuckConfig(ImmutableMap.<String,Map<String,String>>of("cxx",ImmutableMap.of("gtest_dep",gtest.toString())));
  CxxBuckConfig cxxBuckConfig=new CxxBuckConfig(buckConfig);
  DefaultCxxPlatform cxxPlatform=new DefaultCxxPlatform(buckConfig);
  CxxTestDescription desc=new CxxTestDescription(cxxBuckConfig,cxxPlatform);
  BuildTarget target=BuildTargetFactory.newInstance("//:target");
  CxxTestDescription.Arg constructorArg=desc.createUnpopulatedConstructorArg();
  constructorArg.framework=Optional.of(CxxTestType.GTEST);
  constructorArg.lexSrcs=Optional.of(ImmutableList.<SourcePath>of());
  Iterable<String> implicit=desc.findDepsForTargetFromConstructorArgs(target,constructorArg);
  assertTrue(Iterables.contains(implicit,gtest.toString()));
}
