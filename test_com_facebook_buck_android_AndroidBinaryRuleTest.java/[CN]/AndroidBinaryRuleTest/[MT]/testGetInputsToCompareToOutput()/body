{
  Map<String,BuildRule> buildRuleIndex=ImmutableMap.of();
  AndroidBinaryRule.Builder androidBinaryRuleBuilder=AndroidBinaryRule.newAndroidBinaryRuleBuilder().setBuildTarget(BuildTargetFactory.newInstance("//java/src/com/facebook:app")).setManifest("java/src/com/facebook/AndroidManifest.xml").setTarget("Google Inc.:Google APIs:16").setArtifactCache(artifactCache).setKeystorePropertiesPath("java/src/com/facebook/base/keystore.properties");
  BuildContext context=createMock(BuildContext.class);
  replay(context);
  MoreAsserts.assertListEquals("getInputsToCompareToOutput() should include manifest and keystore file.",ImmutableList.of("java/src/com/facebook/AndroidManifest.xml","java/src/com/facebook/base/keystore.properties"),androidBinaryRuleBuilder.build(buildRuleIndex).getInputsToCompareToOutput(context));
  androidBinaryRuleBuilder.setProguardConfig("java/src/com/facebook/proguard.cfg");
  MoreAsserts.assertListEquals("getInputsToCompareToOutput() should include Proguard config, if present.",ImmutableList.of("java/src/com/facebook/AndroidManifest.xml","java/src/com/facebook/base/keystore.properties","java/src/com/facebook/proguard.cfg"),androidBinaryRuleBuilder.build(buildRuleIndex).getInputsToCompareToOutput(context));
  verify(context);
}
