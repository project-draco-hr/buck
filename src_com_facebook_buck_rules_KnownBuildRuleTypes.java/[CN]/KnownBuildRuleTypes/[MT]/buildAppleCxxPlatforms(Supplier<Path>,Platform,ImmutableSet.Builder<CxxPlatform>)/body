{
  if (!buildPlatform.equals(Platform.MACOS)) {
    return;
  }
  Path appleDeveloperDirectory=appleDeveloperDirectorySupplier.get();
  if (!Files.isDirectory(appleDeveloperDirectory)) {
    return;
  }
  ImmutableMap<AppleSdk,AppleSdkPaths> sdkPaths=AppleSdkDiscovery.discoverAppleSdkPaths(appleDeveloperDirectory);
  for (  Map.Entry<AppleSdk,AppleSdkPaths> entry : sdkPaths.entrySet()) {
    AppleSdk sdk=entry.getKey();
    for (    String architecture : sdk.architectures()) {
      CxxPlatform appleCxxPlatform=new AppleCxxPlatform(buildPlatform,sdk.applePlatform(),sdk.name(),sdk.version(),architecture,entry.getValue());
      appleCxxPlatformsBuilder.add(appleCxxPlatform);
    }
  }
}
