{
  this.commandId=Preconditions.checkNotNull(commandId);
  this.redirectedOutputStream=Preconditions.checkNotNull(redirectedOutputStream);
  this.originalOutputStream=Preconditions.checkNotNull(originalOutputStream);
  this.consoleHandler=Preconditions.checkNotNull(consoleHandler);
  if (this.consoleHandler.isPresent()) {
    this.consoleHandler.get().registerOutputStream(this.commandId,this.redirectedOutputStream);
  }
}
