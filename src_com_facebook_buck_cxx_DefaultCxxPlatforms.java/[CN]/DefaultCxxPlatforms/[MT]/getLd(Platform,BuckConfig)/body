{
  Path toolPath=getToolPath("cxx","ld",DEFAULT_LD,delegate);
  Tool tool=new HashedFileTool(toolPath);
  LinkerType type=getLinkerType(platform,delegate);
switch (type) {
case GNU:
    return new GnuLinker(tool);
case DARWIN:
  return new DarwinLinker(tool);
case WINDOWS:
if (toolPath.getFileName().toString().equalsIgnoreCase("ld.exe")) {
  return new GnuLinker(tool);
}
 else {
  return new WindowsLinker(tool);
}
default :
throw new IllegalStateException();
}
}
