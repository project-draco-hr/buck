{
  final List attributes=m_attributes;
  final int result=attributes.size();
  attributes.add(attribute);
  if (attribute instanceof SyntheticAttribute_info)   ++m_syntheticRefCount;
 else   if (attribute instanceof InnerClassesAttribute_info) {
    if (m_innerClassesAttributeOffset >= 0)     throw new IllegalArgumentException("this attribute collection already has an InnerClasses attribute");
    m_innerClassesAttributeOffset=result;
  }
 else   if (attribute instanceof BridgeAttribute_info)   ++m_bridgeRefCount;
  if (DISALLOW_MULTIPLE_SYNTHETIC_ATTRIBUTES && $assert.ENABLED)   $assert.ASSERT(m_syntheticRefCount >= 0 && m_syntheticRefCount <= 1,"bad synthetic attribute count: " + m_syntheticRefCount);
  return result;
}
