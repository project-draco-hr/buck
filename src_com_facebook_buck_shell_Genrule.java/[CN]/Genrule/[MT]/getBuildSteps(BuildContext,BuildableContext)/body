{
  ImmutableList.Builder<Step> commands=ImmutableList.builder();
  commands.add(new RmStep(getPathToOutput(),true));
  commands.add(new MkdirStep(pathToOutDirectory));
  commands.add(new MakeCleanDirectoryStep(pathToTmpDirectory));
  commands.add(new MakeCleanDirectoryStep(pathToSrcDirectory));
  addSymlinkCommands(commands);
  commands.add(createGenruleStep());
  buildableContext.recordArtifact(pathToOutFile);
  return commands.build();
}
