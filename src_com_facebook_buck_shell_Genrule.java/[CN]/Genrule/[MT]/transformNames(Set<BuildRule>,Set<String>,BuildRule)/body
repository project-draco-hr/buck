{
  if (processedBuildRules.contains(rule)) {
    return;
  }
  processedBuildRules.add(rule);
  Path output=rule.getPathToOutputFile();
  if (output != null) {
    if (output.startsWith(BuckConstant.GEN_PATH)) {
      Path relativePath=output.subpath(BuckConstant.GEN_PATH.getNameCount(),output.getNameCount());
      appendTo.add("$GEN_DIR/" + relativePath);
    }
 else {
      appendTo.add(relativeToAbsolutePathFunction.apply(output).toString());
    }
  }
  for (  BuildRule dep : rule.getDeps()) {
    transformNames(processedBuildRules,appendTo,dep);
  }
}
