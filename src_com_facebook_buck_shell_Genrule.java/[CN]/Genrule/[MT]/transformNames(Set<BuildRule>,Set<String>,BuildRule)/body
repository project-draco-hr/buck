{
  if (processedBuildRules.contains(rule)) {
    return;
  }
  processedBuildRules.add(rule);
  Buildable buildable=Preconditions.checkNotNull(rule.getBuildable());
  String output=buildable.getPathToOutputFile();
  if (output != null) {
    if (output.startsWith(BuckConstant.GEN_DIR)) {
      String relativePath=output.substring(BuckConstant.GEN_DIR.length());
      if (relativePath.charAt(0) != '/') {
        relativePath="/" + relativePath;
      }
      appendTo.add("$GEN_DIR" + relativePath);
    }
 else {
      appendTo.add(relativeToAbsolutePathFunction.apply(output).toString());
    }
  }
  for (  BuildRule dep : rule.getDeps()) {
    transformNames(processedBuildRules,appendTo,dep);
  }
}
