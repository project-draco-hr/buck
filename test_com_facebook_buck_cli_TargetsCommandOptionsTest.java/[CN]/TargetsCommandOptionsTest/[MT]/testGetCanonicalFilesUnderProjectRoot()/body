{
  File projectRoot=new File("ProjectRoot");
  ImmutableSet<String> nonCanonicalFilePaths=ImmutableSet.of("ProjectRoot/src/com/facebook/CanonicalRelativePath.java","./ProjectRoot/src/com/otherpackage/.././/facebook/NonCanonicalPath.java",projectRoot.getCanonicalPath() + "/src/com/facebook/AbsolutePath.java",projectRoot.getCanonicalPath() + "/../PathNotUnderProjectRoot.java");
  assertEquals(ImmutableSet.of("src/com/facebook/CanonicalRelativePath.java","src/com/facebook/NonCanonicalPath.java","src/com/facebook/AbsolutePath.java"),TargetsCommandOptions.getCanonicalFilesUnderProjectRoot(projectRoot,nonCanonicalFilePaths));
}
