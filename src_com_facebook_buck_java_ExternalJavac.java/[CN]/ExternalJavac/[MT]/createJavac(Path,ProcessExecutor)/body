{
  ProcessExecutorParams params=ProcessExecutorParams.builder().setCommand(ImmutableList.of(pathToJavac.toString(),"-version")).build();
  ProcessExecutor.Result result;
  try {
    result=processExecutor.launchAndExecute(params);
  }
 catch (  InterruptedException|IOException e) {
    throw new RuntimeException(e);
  }
  Optional<JavacVersion> version;
  Optional<String> stderr=result.getStderr();
  if (Strings.isNullOrEmpty(stderr.orNull())) {
    version=Optional.absent();
  }
 else {
    version=Optional.of(JavacVersion.of(stderr.get()));
  }
  return new ExternalJavac(pathToJavac,version);
}
