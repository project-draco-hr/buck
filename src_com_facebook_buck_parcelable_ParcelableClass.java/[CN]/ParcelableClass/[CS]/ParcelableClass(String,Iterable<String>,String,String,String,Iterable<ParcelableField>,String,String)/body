{
  Preconditions.checkArgument(!Iterables.isEmpty(fields),"There must be fields, or else there is nothing to parcel.");
  boolean hasJsonAnnotations=false;
  for (  ParcelableField field : fields) {
    if (field.getJsonProperty() != null) {
      hasJsonAnnotations=true;
      break;
    }
  }
  this.packageName=Preconditions.checkNotNull(packageName);
  ImmutableSortedSet.Builder<String> importsBuilder=ImmutableSortedSet.<String>naturalOrder().addAll(imports).add("import android.os.Parcel;").add("import android.os.Parcelable;").add("import com.google.common.collect.Lists;");
  if (hasJsonAnnotations) {
    importsBuilder.add("import com.fasterxml.jackson.annotation.JsonProperty;");
  }
  this.imports=importsBuilder.build();
  this.className=Preconditions.checkNotNull(className);
  this.creatorClassName=Preconditions.checkNotNull(creatorClassName);
  this.defaultFieldVisibility=Preconditions.checkNotNull(defaultFieldVisibility);
  this.fields=fields;
  this.superClassName=superClassName;
  this.rawSuperParams=rawSuperParams;
}
