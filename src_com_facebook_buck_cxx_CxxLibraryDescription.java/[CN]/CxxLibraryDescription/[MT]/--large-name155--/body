{
  ImmutableMap<CxxPreprocessAndCompile,SourcePath> objects=requireObjects(params,ruleResolver,pathResolver,cxxPlatform,lexSources,yaccSources,preprocessorFlags,prefixHeaders,headers,exportedHeaders,compilerFlags,sources,frameworkSearchPaths,preprocessMode,CxxSourceRuleFactory.PicType.PIC);
  BuildTarget sharedTarget=CxxDescriptionEnhancer.createSharedLibraryBuildTarget(params.getBuildTarget(),cxxPlatform.getFlavor());
  String sharedLibrarySoname=soname.or(CxxDescriptionEnhancer.getDefaultSharedLibrarySoname(params.getBuildTarget(),cxxPlatform));
  Path sharedLibraryPath=CxxDescriptionEnhancer.getSharedLibraryPath(params.getBuildTarget(),sharedLibrarySoname,cxxPlatform);
  ImmutableList.Builder<String> extraCxxLdFlagsBuilder=ImmutableList.builder();
  extraCxxLdFlagsBuilder.addAll(MoreIterables.zipAndConcat(Iterables.cycle("-F"),Iterables.transform(frameworkSearchPaths,Functions.toStringFunction())));
  ImmutableList<String> extraCxxLdFlags=extraCxxLdFlagsBuilder.build();
  return CxxLinkableEnhancer.createCxxLinkableBuildRule(cxxPlatform,params,pathResolver,extraCxxLdFlags,linkerFlags,sharedTarget,linkType,Optional.of(sharedLibrarySoname),sharedLibraryPath,objects.values(),linkableDepType,params.getDeps(),cxxRuntimeType,bundleLoader);
}
