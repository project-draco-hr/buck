{
  ImmutableMap<CxxPreprocessAndCompile,SourcePath> objects=requireObjects(params,ruleResolver,pathResolver,cxxPlatform,lexSources,yaccSources,preprocessorFlags,prefixHeaders,headers,exportedHeaders,compilerFlags,sources,frameworkSearchPaths,preprocessMode,pic);
  BuildTarget staticTarget=CxxDescriptionEnhancer.createStaticLibraryBuildTarget(params.getBuildTarget(),cxxPlatform.getFlavor(),pic);
  Path staticLibraryPath=CxxDescriptionEnhancer.getStaticLibraryPath(params.getBuildTarget(),cxxPlatform.getFlavor(),pic);
  return Archives.createArchiveRule(pathResolver,staticTarget,params,cxxPlatform.getAr(),cxxPlatform.getArExpectedGlobalHeader(),staticLibraryPath,ImmutableList.copyOf(objects.values()));
}
