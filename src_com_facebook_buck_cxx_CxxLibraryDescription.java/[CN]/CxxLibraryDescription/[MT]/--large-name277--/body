{
  BuildRuleParams paramsWithoutCompilationDatabaseFlavor=CxxCompilationDatabase.paramsWithoutCompilationDatabaseFlavor(params);
  ImmutableMap<CxxPreprocessAndCompile,SourcePath> objects=requireObjects(targetGraph,paramsWithoutCompilationDatabaseFlavor,ruleResolver,pathResolver,cxxPlatform,lexSources,yaccSources,preprocessorFlags,exportedPreprocessorFlags,prefixHeader,headers,exportedHeaders,compilerFlags,sources,frameworkSearchPaths,preprocessMode,CxxSourceRuleFactory.PicType.PIC);
  return CxxCompilationDatabase.createCompilationDatabase(params,pathResolver,preprocessMode,objects.keySet(),compilationDatabaseFormat);
}
