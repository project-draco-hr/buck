{
  ImmutableList.Builder<String> linkerFlags=ImmutableList.builder();
  linkerFlags.addAll(CxxFlags.getFlags(args.linkerFlags,args.platformLinkerFlags,cxxPlatform));
  linkerFlags.addAll(CxxFlags.getFlags(args.exportedLinkerFlags,args.exportedPlatformLinkerFlags,cxxPlatform));
  return createSharedLibrary(targetGraph,params,resolver,new SourcePathResolver(resolver),cxxPlatform,CxxDescriptionEnhancer.parseLexSources(params,resolver,args),CxxDescriptionEnhancer.parseYaccSources(params,resolver,args),CxxFlags.getLanguageFlags(args.preprocessorFlags,args.platformPreprocessorFlags,args.langPreprocessorFlags,cxxPlatform),CxxFlags.getLanguageFlags(args.exportedPreprocessorFlags,args.exportedPlatformPreprocessorFlags,args.exportedLangPreprocessorFlags,cxxPlatform),args.prefixHeader,CxxDescriptionEnhancer.parseHeaders(params,resolver,cxxPlatform,args),CxxDescriptionEnhancer.parseExportedHeaders(params,resolver,cxxPlatform,args),CxxFlags.getFlags(args.compilerFlags,args.platformCompilerFlags,cxxPlatform),CxxDescriptionEnhancer.parseCxxSources(params,resolver,cxxPlatform,args),linkerFlags.build(),args.frameworks.or(ImmutableSortedSet.<FrameworkPath>of()),args.soname,preprocessMode,args.cxxRuntimeType,linkType,linkableDepType,bundleLoader,blacklist);
}
