{
  ImmutableSet.Builder<BuildTarget> deps=ImmutableSet.builder();
  if (!constructorArg.lexSrcs.get().isEmpty()) {
    deps.add(cxxBuckConfig.getLexDep());
  }
  CxxTestType type=constructorArg.framework.or(getDefaultTestType());
switch (type) {
case GTEST:
{
      deps.add(cxxBuckConfig.getGtestDep());
      boolean useDefaultTestMain=constructorArg.useDefaultTestMain.or(true);
      if (useDefaultTestMain) {
        deps.add(cxxBuckConfig.getGtestDefaultTestMainDep());
      }
      break;
    }
case BOOST:
{
    deps.add(cxxBuckConfig.getBoostTestDep());
    break;
  }
default :
{
  break;
}
}
return deps.build();
}
