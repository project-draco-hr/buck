{
  CxxPlatform cxxPlatform;
  try {
    cxxPlatform=cxxPlatforms.getValue(buildTarget.getFlavors()).or(defaultCxxPlatform);
  }
 catch (  FlavorDomainException e) {
    throw new HumanReadableException("%s: %s",buildTarget,e.getMessage());
  }
  ImmutableSet.Builder<String> deps=ImmutableSet.builder();
  if (!constructorArg.lexSrcs.get().isEmpty()) {
    deps.add(cxxBuckConfig.getLexDep().toString());
  }
  CxxTestType type=constructorArg.framework.or(getDefaultTestType());
switch (type) {
case GTEST:
{
      deps.add(cxxPlatform.getGtestDep().toString());
      break;
    }
case BOOST:
{
    deps.add(cxxPlatform.getBoostTestDep().toString());
    break;
  }
default :
{
  break;
}
}
return deps.build();
}
