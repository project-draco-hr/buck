{
  DefaultJavaPackageFinder javaPackageFinder=DefaultJavaPackageFinder.createDefaultJavaPackageFinder(ImmutableList.of("src"));
  assertEquals("com/example/base/",javaPackageFinder.findJavaPackageFolderForPath("java/main/src/com/example/base/"));
  assertEquals("com/example/base/",javaPackageFinder.findJavaPackageFolderForPath("java/main/src/com/example/base/Base.java"));
  assertEquals("When the path element appears more than once, use the rightmost instance as the base.","com/example/base/",javaPackageFinder.findJavaPackageFolderForPath("java/main/src/other/project/src/com/example/base/Base.java"));
  assertEquals("",javaPackageFinder.findJavaPackageFolderForPath("src/Weird.java"));
  assertEquals("When there is no match, the project root should be treated as a Java source root.","notjava/",javaPackageFinder.findJavaPackageFolderForPath("notjava/Weird.java"));
}
