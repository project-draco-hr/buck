{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"external_javac",tmp);
  workspace.setUp();
  Path javac=Paths.get("/usr/bin/javac");
  for (  String binDir : System.getenv("PATH").split("[:;]")) {
    Path newJavac=Paths.get(binDir,"javac");
    if (Files.exists(newJavac)) {
      javac=newJavac;
      break;
    }
  }
  assumeTrue(Files.exists(javac));
  workspace.replaceFileContents(".buckconfig","@JAVAC@",javac.toString());
  workspace.move("java",badDir);
  workspace.runBuckCommand("clean").assertSuccess();
  workspace.runBuckCommand("build",String.format("//%s/com/example:example",badDir)).assertSuccess();
}
