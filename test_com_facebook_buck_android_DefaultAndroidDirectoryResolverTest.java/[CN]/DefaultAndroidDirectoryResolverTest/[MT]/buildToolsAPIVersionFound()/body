{
  Path sdkDir=tmpDir.newFolder("sdk");
  createBuildToolsVersions(sdkDir,"build-tools/android-4.2.2");
  PropertyFinder propertyFinder=new FakePropertyFinder(ImmutableMap.of("sdk.dir",Optional.of(sdkDir)));
  DefaultAndroidDirectoryResolver androidDirectoryResolver=new DefaultAndroidDirectoryResolver(new ProjectFilesystem(tmpDir.getRoot()),Optional.<String>absent(),Optional.<String>absent(),propertyFinder);
  assertThat(androidDirectoryResolver.getBuildToolsOrThrow().getFileName().toString(),Matchers.equalTo("android-4.2.2"));
}
