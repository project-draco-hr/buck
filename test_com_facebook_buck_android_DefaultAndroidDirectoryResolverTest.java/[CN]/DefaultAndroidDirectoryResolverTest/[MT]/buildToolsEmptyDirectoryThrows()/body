{
  Path sdkDir=tmpDir.newFolder("sdk");
  sdkDir.resolve("build-tools").toFile().mkdir();
  sdkDir.resolve("tools").toFile().mkdir();
  Path toolsDir=sdkDir.resolve("tools").toAbsolutePath();
  DefaultAndroidDirectoryResolver androidDirectoryResolver=new DefaultAndroidDirectoryResolver(Optional.<String>absent(),Optional.<String>absent(),createPropertiesFinder(Optional.of(sdkDir),Optional.<Path>absent(),Optional.<Path>absent()));
  expectedException.expect(HumanReadableException.class);
  expectedException.expectMessage("null was empty, but should have contained a subdirectory " + "with build tools. Install them using the Android SDK Manager (" + toolsDir + File.separator+ "android).");
  androidDirectoryResolver.getBuildToolsOrThrow();
}
