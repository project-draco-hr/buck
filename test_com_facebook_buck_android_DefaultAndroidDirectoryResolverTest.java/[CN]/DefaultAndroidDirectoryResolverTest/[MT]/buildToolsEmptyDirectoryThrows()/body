{
  Path sdkDir=tmpDir.newFolder("sdk");
  sdkDir.resolve("build-tools").toFile().mkdir();
  DefaultAndroidDirectoryResolver androidDirectoryResolver=new DefaultAndroidDirectoryResolver(new ProjectFilesystem(tmpDir.getRoot()),Optional.<String>absent(),Optional.<String>absent(),createPropertiesFinder(Optional.of(sdkDir),Optional.<Path>absent(),Optional.<Path>absent()));
  expectedException.expect(HumanReadableException.class);
  expectedException.expectMessage(sdkDir.resolve("build-tools") + " was empty");
  androidDirectoryResolver.getBuildToolsOrThrow();
}
