{
  Path sdkDir=tmpDir.newFolder("sdk");
  sdkDir.resolve("build-tools").toFile().mkdir();
  PropertyFinder propertyFinder=new FakePropertyFinder(ImmutableMap.of("sdk.dir",Optional.of(sdkDir)));
  DefaultAndroidDirectoryResolver androidDirectoryResolver=new DefaultAndroidDirectoryResolver(new ProjectFilesystem(tmpDir.getRoot()),Optional.<String>absent(),Optional.<String>absent(),propertyFinder);
  expectedException.expect(HumanReadableException.class);
  expectedException.expectMessage(sdkDir.resolve("build-tools") + " was empty");
  androidDirectoryResolver.findAndroidBuildToolsDir();
}
