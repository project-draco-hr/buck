{
  Path sdkDir=tmpDir.newFolder("sdk");
  createBuildToolsVersions(sdkDir,"build-tools/android-4.2.2","build-tools/android-4.1","build-tools/android-4.0.0","build-tools/build-tools-15.0.0","build-tools/17.0.0","build-tools/16.0.0");
  PropertyFinder propertyFinder=new FakePropertyFinder(ImmutableMap.of("sdk.dir",Optional.of(sdkDir)));
  DefaultAndroidDirectoryResolver androidDirectoryResolver=new DefaultAndroidDirectoryResolver(new ProjectFilesystem(tmpDir.getRoot()),Optional.<String>absent(),Optional.<String>absent(),propertyFinder);
  assertThat(androidDirectoryResolver.getBuildToolsOrThrow().getFileName().toString(),Matchers.equalTo("17.0.0"));
}
