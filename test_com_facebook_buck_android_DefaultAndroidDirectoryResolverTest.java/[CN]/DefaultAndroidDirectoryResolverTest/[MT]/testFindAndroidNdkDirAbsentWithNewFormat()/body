{
  Path ndkDir=createTmpNdkVersions(NDK_POST_R11_VERSION_FILENAME,"ndk-dir","Pkg.Desc = Android NDK\nPkg.Revision = 11.2.2725575")[0];
  PropertyFinder propertyFinder=new FakePropertyFinder(ImmutableMap.of("ndk.dir",Optional.of(ndkDir),"ndk.repository",Optional.<Path>absent()));
  DefaultAndroidDirectoryResolver androidDirectoryResolver=new DefaultAndroidDirectoryResolver(new ProjectFilesystem(tmpDir.getRoot()),Optional.<String>absent(),Optional.<String>absent(),propertyFinder);
  assertEquals(Optional.of(ndkDir),androidDirectoryResolver.findAndroidNdkDir());
}
