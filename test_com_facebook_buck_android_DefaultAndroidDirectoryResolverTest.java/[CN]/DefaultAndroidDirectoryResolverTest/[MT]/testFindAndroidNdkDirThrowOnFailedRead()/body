{
  Path ndkDir=tmpDir.newFolder("ndk-dir");
  DefaultAndroidDirectoryResolver androidDirectoryResolver=new DefaultAndroidDirectoryResolver(new ProjectFilesystem(tmpDir.getRoot()),Optional.<String>absent(),Optional.<String>absent(),createPropertiesFinder(Optional.<Path>absent(),Optional.of(ndkDir),Optional.<Path>absent()));
  expectedException.expect(HumanReadableException.class);
  expectedException.expectMessage(ndkDir.toAbsolutePath() + " does not contain a valid " + "properties file for Android NDK.");
  androidDirectoryResolver.getNdkOrThrow();
}
