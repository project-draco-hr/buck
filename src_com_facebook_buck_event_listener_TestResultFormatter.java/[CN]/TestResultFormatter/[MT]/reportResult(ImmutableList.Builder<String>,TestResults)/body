{
  for (  TestCaseSummary testCase : results.getTestCases()) {
    addTo.add(testCase.getOneLineSummary(results.getDependenciesPassTheirTests(),ansi));
    if (testCase.isSuccess() && (!isTreatingAssumptionsAsErrors || !testCase.hasAssumptionViolations())) {
      continue;
    }
    for (    TestResultSummary testResult : testCase.getTestResults()) {
      if (!results.getDependenciesPassTheirTests()) {
        continue;
      }
      if (!testResult.isSuccess() || (isTreatingAssumptionsAsErrors && testResult.getType().equals(ResultType.ASSUMPTION_VIOLATION))) {
        reportResultSummary(addTo,testResult);
      }
    }
  }
}
