{
  writeEntryHeader(raf,type);
  RandomAccessFileOutputStream rafout=new RandomAccessFileOutputStream(raf,IO_BUF_SIZE);
{
    DataOutputStream dout=new DataOutputStream(rafout);
switch (type) {
case TYPE_METADATA:
      MetaData.writeExternal((MetaData)data,dout);
    break;
default :
  CoverageData.writeExternal((CoverageData)data,dout);
break;
}
dout.flush();
dout=null;
raf.setLength(raf.getFilePointer());
}
raf.seek(marker);
raf.writeLong(rafout.getCount());
if (DO_FSYNC) raf.getFD().sync();
if (log.atTRACE2()) log.trace2("writeEntry","entry [" + data.getClass().getName() + "] length: "+ rafout.getCount());
}
