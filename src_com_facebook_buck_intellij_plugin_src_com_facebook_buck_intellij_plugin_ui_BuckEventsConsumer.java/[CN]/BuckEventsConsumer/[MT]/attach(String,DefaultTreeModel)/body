{
  mTreeModel=treeModel;
  mTarget=target;
  mCurrentBuildRootElement=new BuckTreeNodeBuild(mTarget);
  mBuildProgress=new BuckTreeNodeDetail(mCurrentBuildRootElement,BuckTreeNodeDetail.DetailType.INFO,"Current build progress: " + Math.round(mProgressValue * 100) + "%");
  mRunningTasks=new BuckTreeNodeDetail(mCurrentBuildRootElement,BuckTreeNodeDetail.DetailType.INFO,"Running tasks: 0");
  mSuspendedTasks=new BuckTreeNodeDetail(mCurrentBuildRootElement,BuckTreeNodeDetail.DetailType.INFO,"Suspended tasks: 0");
  mFinishedTasks=new BuckTreeNodeDetail(mCurrentBuildRootElement,BuckTreeNodeDetail.DetailType.INFO,"Finished tasks: 0");
  mCurrentBuildRootElement.addChild(mBuildProgress);
  mCurrentBuildRootElement.addChild(mRunningTasks);
  mCurrentBuildRootElement.addChild(mSuspendedTasks);
  mCurrentBuildRootElement.addChild(mFinishedTasks);
  mTreeModel.setRoot(mCurrentBuildRootElement);
  mMainBuildStartTimestamp=BigInteger.ZERO;
  mConnection=mProject.getMessageBus().connect();
  mConnection.subscribe(BuckBuildStartConsumer.BUCK_BUILD_START,this);
  mConnection.subscribe(BuckBuildEndConsumer.BUCK_BUILD_END,this);
  mConnection.subscribe(BuildRuleStartConsumer.BUCK_BUILD_RULE_START,this);
  mConnection.subscribe(BuildRuleEndConsumer.BUCK_BUILD_RULE_END,this);
  mConnection.subscribe(BuildRuleSuspendedConsumer.BUCK_BUILD_RULE_SUSPENDED,this);
  mConnection.subscribe(RulesParsingStartConsumer.BUCK_PARSE_RULE_START,this);
  mConnection.subscribe(BuckBuildProgressUpdateConsumer.BUCK_BUILD_PROGRESS_UPDATE,this);
  mConnection.subscribe(CompilerErrorConsumer.COMPILER_ERROR_CONSUMER,this);
  mConnection.subscribe(BuckInternalBatchStartConsumer.BUCK_INTERNAL_BATCH_START,this);
  mConnection.subscribe(BuckInternalBatchCommitConsumer.BUCK_INTERNAL_BATCH_COMMIT,this);
}
