{
  List<Object> query=WatchmanWatcher.createQuery("/path/to/repo",Optional.<String>absent(),"uuid",Lists.newArrayList(Paths.get("/path/to/repo/foo"),Paths.get("/path/to/repo/bar/baz")),Lists.<String>newArrayList(),ImmutableSet.of(Watchman.Capability.DIRNAME));
  assertEquals(ImmutableList.of("query","/path/to/repo",ImmutableMap.of("since","n:buckduuid","expression",ImmutableList.of("not",ImmutableList.of("anyof",ImmutableList.of("type","d"),ImmutableList.of("dirname","foo"),ImmutableList.of("dirname","bar/baz"))),"empty_on_fresh_instance",true,"fields",ImmutableList.of("name","exists","new"))),query);
}
