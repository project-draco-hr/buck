{
  String query=WatchmanWatcher.createQuery(new ObjectMapper(),"path/to/repo",Optional.of("project"),"uuid",Lists.<Path>newArrayList(),Lists.<String>newArrayList(),ImmutableSet.of(Watchman.Capability.DIRNAME));
  assertThat(query,Matchers.containsString("\"relative_root\":\"project\""));
}
