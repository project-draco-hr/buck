{
  String shortName="data";
  Map<String,Object> instance=Maps.newHashMap();
  instance.put("name",shortName);
  instance.put("srcs",ImmutableSortedSet.of("//my:sourcepath"));
  instance.put("deps",deps);
  instance.put("visibility",ImmutableList.of());
  ProjectFilesystem projectFilesystem=createMock(ProjectFilesystem.class);
  EasyMock.expect(projectFilesystem.exists(Paths.get("my"))).andStubReturn(true);
  EasyMock.expect(projectFilesystem.exists(Paths.get("my/BUCK"))).andStubReturn(true);
  EasyMock.expect(projectFilesystem.getAbsolutifier()).andStubReturn(getIdentityAbsolutifier());
  replayAll();
  BuildRuleFactoryParams params=new BuildRuleFactoryParams(instance,projectFilesystem,new BuildTargetParser(projectFilesystem),new BuildTarget("//my",shortName),new FakeRuleKeyBuilderFactory());
  return params;
}
