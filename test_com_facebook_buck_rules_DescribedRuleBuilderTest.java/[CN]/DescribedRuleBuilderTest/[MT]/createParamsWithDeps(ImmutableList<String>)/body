{
  String shortName="data";
  Map<String,Object> instance=Maps.newHashMap();
  instance.put("name",shortName);
  instance.put("deps",deps);
  instance.put("visibility",ImmutableList.of());
  ProjectFilesystem projectFilesystem=createMock(ProjectFilesystem.class);
  EasyMock.expect(projectFilesystem.exists("my")).andStubReturn(true);
  EasyMock.expect(projectFilesystem.exists("my/BUCK")).andStubReturn(true);
  EasyMock.expect(projectFilesystem.getPathRelativizer()).andStubReturn(MorePaths.TO_PATH);
  replayAll();
  BuildRuleFactoryParams params=new BuildRuleFactoryParams(instance,projectFilesystem,new BuildFileTree(ImmutableList.<BuildTarget>of()),new BuildTargetParser(projectFilesystem),new BuildTarget("//my",shortName),new FakeRuleKeyBuilderFactory());
  return params;
}
