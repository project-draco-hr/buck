{
  BuildRuleWithInterestingFile dep=new BuildRuleWithInterestingFile(new FakeBuildRuleParams(new BuildTarget("//my","library")),Paths.get("my/fileofinterest.txt"));
  BuildRuleResolver ruleResolver=new BuildRuleResolver(ImmutableSet.of(dep));
  Description<Arg> description=new NominalDescription();
  ImmutableList<String> deps=ImmutableList.of("//my:library");
  BuildRuleFactoryParams params=createParamsWithDeps(deps);
  DescribedRuleBuilder<Arg> describedRuleBuilder=new DescribedRuleBuilder<>(description,params);
  BuildRule buildRule=describedRuleBuilder.build(ruleResolver);
  assertEquals("If getEnhancedDeps() returns null, then the original deps should be used for the rule.",ImmutableSet.of("//my:library"),FluentIterable.from(buildRule.getDeps()).transform(Functions.toStringFunction()).toSet());
  verifyAll();
}
