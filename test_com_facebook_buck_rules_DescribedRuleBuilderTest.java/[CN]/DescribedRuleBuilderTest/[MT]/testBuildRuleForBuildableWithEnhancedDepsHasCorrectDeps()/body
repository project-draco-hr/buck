{
  BuildRuleResolver ruleResolver=createBuildRuleResolver();
  Description<Arg> description=new FileCollectorDescription();
  ImmutableList<String> deps=ImmutableList.of("//my:library");
  BuildRuleFactoryParams params=createParamsWithDeps(deps);
  DescribedRuleBuilder<Arg> describedRuleBuilder=new DescribedRuleBuilder<>(description,params);
  BuildRule buildRule=describedRuleBuilder.build(ruleResolver);
  assertEquals("The build rule should have only the implicit deps.",ImmutableSet.of("//my:sourcepath"),FluentIterable.from(buildRule.getDeps()).transform(Functions.toStringFunction()).toSet());
  assertEquals("The Buildable should collect files of interest from the original deps.",ImmutableSet.of(Paths.get("my/fileofinterest.txt")),((FileCollector)buildRule.getBuildable()).filesOfInterest);
  verifyAll();
}
