{
  ImmutableMap.Builder<String,CxxSource> preprocessedSources=ImmutableMap.builder();
  for (  Map.Entry<String,CxxSource> entry : sources.entrySet()) {
    if (CxxSourceTypes.isPreprocessableType(entry.getValue().getType())) {
      entry=CxxPreprocessables.createPreprocessBuildRule(params,resolver,config,cxxPreprocessorInput,pic,entry.getKey(),entry.getValue());
    }
    preprocessedSources.put(entry);
  }
  return preprocessedSources.build();
}
