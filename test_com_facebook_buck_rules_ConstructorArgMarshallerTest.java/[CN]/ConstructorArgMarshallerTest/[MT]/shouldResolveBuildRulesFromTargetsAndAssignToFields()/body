{
class Dto implements ConstructorArg {
    public BuildRule rule;
  }
  BuildTarget target=BuildTargetFactory.newInstance("//i/love:lucy");
  BuildRule rule=new FakeBuildRule(new BuildRuleType("example"),target);
  BuildRuleResolver resolver=new BuildRuleResolver(ImmutableMap.of(target,rule));
  Dto dto=new Dto();
  marshaller.populate(resolver,buildRuleFactoryParams(ImmutableMap.<String,Object>of("rule",target.getFullyQualifiedName())),dto);
  assertEquals(rule,dto.rule);
}
