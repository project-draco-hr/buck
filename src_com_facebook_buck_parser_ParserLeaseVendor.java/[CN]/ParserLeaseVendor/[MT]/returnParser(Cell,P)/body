{
  if (parserRequests.containsKey(cell)) {
    SettableFuture<P> nextRequest=parserRequests.get(cell).pollFirst();
    if (nextRequest != null) {
      boolean wasSet=nextRequest.set(parser);
      Preconditions.checkState(wasSet,"Parser requests can't be cancelled.");
      return;
    }
  }
  Deque<P> parkedParsersQueue=parkedParsers.get(cell);
  if (parkedParsersQueue == null) {
    parkedParsersQueue=new ArrayDeque<>();
    parkedParsers.put(cell,parkedParsersQueue);
  }
  parkedParsersQueue.push(parser);
}
