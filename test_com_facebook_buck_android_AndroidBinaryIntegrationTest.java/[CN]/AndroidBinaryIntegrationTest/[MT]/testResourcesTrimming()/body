{
  workspace.runBuckCommand("build","//apps/multidex:disassemble_app_r_dot_java").assertSuccess();
  verifyTrimmedRDotJava(ImmutableSet.of("top_layout","title"));
  workspace.replaceFileContents("java/com/sample/lib/Sample.java","R.layout.top_layout","0");
  workspace.resetBuildLogFile();
  workspace.runBuckCommand("build","//apps/multidex:disassemble_app_r_dot_java").assertSuccess();
  BuckBuildLog buildLog=workspace.getBuildLog();
  buildLog.assertTargetBuiltLocally("//apps/multidex:app#compile_uber_r_dot_java");
  buildLog.assertTargetBuiltLocally("//apps/multidex:app#dex_uber_r_dot_java");
  verifyTrimmedRDotJava(ImmutableSet.of("title"));
}
