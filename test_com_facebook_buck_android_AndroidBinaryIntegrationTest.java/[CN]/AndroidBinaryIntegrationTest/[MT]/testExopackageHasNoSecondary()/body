{
  ZipInspector zipInspector=new ZipInspector(workspace.getFile("buck-out/gen/apps/multidex/app-exo.apk"));
  zipInspector.assertFileDoesNotExist("assets/secondary-program-dex-jars/metadata.txt");
  zipInspector.assertFileDoesNotExist("assets/secondary-program-dex-jars/secondary-1.dex.jar");
  zipInspector.assertFileExists("classes.dex");
  zipInspector.assertFileExists("lib/armeabi/libfakenative.so");
  Path secondaryDir=workspace.resolve(Paths.get("buck-out/bin/apps/multidex/_app-exo#dex_merge_output" + "/jarfiles/assets/secondary-program-dex-jars"));
  try (DirectoryStream<Path> stream=java.nio.file.Files.newDirectoryStream(secondaryDir)){
    List<Path> files=ImmutableList.copyOf(stream);
    assertEquals(1,files.size());
    Path secondaryJar=files.get(0);
    new ZipInspector(secondaryJar.toFile()).assertFileExists("classes.dex");
  }
 }
