{
  Path aFile=tmpDir.newFile().toPath();
  Files.write(aFile,"hello world".getBytes(Charsets.UTF_8));
  AbstractBuildRule modifiedSymlinkTreeBuildRule=new SymlinkTree(new FakeBuildRuleParamsBuilder(buildTarget).build(),new SourcePathResolver(new BuildRuleResolver()),outputPath,ImmutableMap.<Path,SourcePath>of(Paths.get("different/link"),new PathSourcePath(projectFilesystem,MorePaths.relativize(tmpDir.getRoot().toPath(),aFile))));
  SourcePathResolver resolver=new SourcePathResolver(new BuildRuleResolver(ImmutableSet.of(symlinkTreeBuildRule,modifiedSymlinkTreeBuildRule)));
  RuleKeyBuilderFactory ruleKeyBuilderFactory=new DefaultRuleKeyBuilderFactory(FakeFileHashCache.createFromStrings(ImmutableMap.<String,String>of()),resolver);
  RuleKey key1=ruleKeyBuilderFactory.build(symlinkTreeBuildRule);
  RuleKey key2=ruleKeyBuilderFactory.build(modifiedSymlinkTreeBuildRule);
  assertNotEquals(key1,key2);
}
