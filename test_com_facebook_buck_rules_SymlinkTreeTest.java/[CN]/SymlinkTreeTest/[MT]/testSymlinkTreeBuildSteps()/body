{
  BuildContext buildContext=FakeBuildContext.NOOP_CONTEXT;
  FakeBuildableContext buildableContext=new FakeBuildableContext();
  ImmutableList<Step> expectedBuildSteps=ImmutableList.of(new MakeCleanDirectoryStep(outputPath),new SymlinkTreeStep(outputPath,new SourcePathResolver(new BuildRuleResolver()).getMappedPaths(links)));
  ImmutableList<Step> actualBuildSteps=symlinkTreeBuildRule.getBuildSteps(buildContext,buildableContext);
  assertEquals(expectedBuildSteps,actualBuildSteps);
}
