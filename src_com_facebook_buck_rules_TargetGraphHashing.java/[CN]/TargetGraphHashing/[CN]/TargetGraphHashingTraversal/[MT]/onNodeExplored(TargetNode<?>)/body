{
  if (buildTargetHashes.containsKey(node.getBuildTarget())) {
    LOG.verbose("Already hashed node %s, not hashing again.",node);
    return;
  }
  Hasher hasher=Hashing.sha1().newHasher();
  try {
    hashNode(hasher,node);
  }
 catch (  IOException e) {
    throw new HumanReadableException(e,"Exception while attempting to hash %s: %s",node.getBuildTarget().getFullyQualifiedName(),e.getMessage());
  }
  HashCode result=hasher.hash();
  LOG.debug("Hash for target %s: %s",node.getBuildTarget(),result);
  buildTargetHashes.put(node.getBuildTarget(),result);
}
