{
  return new ArtifactCache(){
    @Override public boolean fetch(    RuleKey ruleKey,    File output){
      eventBus.post(ArtifactCacheEvent.started(ArtifactCacheEvent.Operation.FETCH));
      boolean isSuccess=delegate.fetch(ruleKey,output);
      eventBus.post(ArtifactCacheEvent.finished(ArtifactCacheEvent.Operation.FETCH,isSuccess));
      return isSuccess;
    }
    @Override public void store(    RuleKey ruleKey,    File output){
      eventBus.post(ArtifactCacheEvent.started(ArtifactCacheEvent.Operation.STORE));
      delegate.store(ruleKey,output);
      eventBus.post(ArtifactCacheEvent.finished(ArtifactCacheEvent.Operation.STORE,true));
    }
  }
;
}
