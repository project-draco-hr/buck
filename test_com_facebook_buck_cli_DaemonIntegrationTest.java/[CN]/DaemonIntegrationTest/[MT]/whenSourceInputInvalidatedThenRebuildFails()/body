{
  final ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"file_watching",tmp);
  workspace.setUp();
  workspace.runBuckdCommand("build","//java/com/example/activity:activity").assertExitCode(0);
  String fileName="java/com/example/activity/MyFirstActivity.java";
  Files.write("Some Illegal Java".getBytes(Charsets.US_ASCII),workspace.getFile(fileName));
  waitForChange(Paths.get(fileName));
  workspace.runBuckdCommand("build","//java/com/example/activity:activity").assertExitCode(Main.FAIL_EXIT_CODE);
}
