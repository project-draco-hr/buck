{
  ProjectFilesystem projectFilesystem=new ProjectFilesystem(Paths.get("."));
  KnownBuildRuleTypes knownBuildRuleTypes=KnownBuildRuleTypes.builder().build();
  AndroidDirectoryResolver androidDirectoryResolver=createMock(AndroidDirectoryResolver.class);
  Object daemon=Main.getDaemon(projectFilesystem,new FakeBuckConfig(ImmutableMap.<String,Map<String,String>>builder().put("somesection",ImmutableMap.of("somename","somevalue")).build()),knownBuildRuleTypes,androidDirectoryResolver);
  assertEquals("Daemon should not be replaced when config equal.",daemon,Main.getDaemon(projectFilesystem,new FakeBuckConfig(ImmutableMap.<String,Map<String,String>>builder().put("somesection",ImmutableMap.of("somename","somevalue")).build()),knownBuildRuleTypes,androidDirectoryResolver));
  assertNotEquals("Daemon should be replaced when config not equal.",daemon,Main.getDaemon(projectFilesystem,new FakeBuckConfig(ImmutableMap.<String,Map<String,String>>builder().put("somesection",ImmutableMap.of("somename","someothervalue")).build()),knownBuildRuleTypes,androidDirectoryResolver));
}
