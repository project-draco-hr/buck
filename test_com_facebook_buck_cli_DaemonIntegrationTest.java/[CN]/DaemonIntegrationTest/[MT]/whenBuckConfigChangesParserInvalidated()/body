{
  final ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"file_watching",tmp);
  workspace.setUp();
  workspace.runBuckdCommand("build","//java/com/example/activity:activity").assertSuccess();
  ProcessResult rebuild=workspace.runBuckdCommand("build","//java/com/example/activity:activity","-v","10");
  rebuild.assertSuccess();
  assertThat("Noop build should not have reparsed.",rebuild.getStderr(),not(containsString("Parsing")));
  String buckConfigFilename=".buckconfig";
  String extraConfigOptions=Joiner.on("\n").join("[ndk]","    ndk_version = r9b","");
  Files.append(extraConfigOptions,workspace.getFile(buckConfigFilename),Charsets.UTF_8);
  rebuild=workspace.runBuckdCommand("build","//java/com/example/activity:activity","-v","10");
  rebuild.assertSuccess();
  assertThat("Changing .buckconfing should have forced a reparse.",rebuild.getStderr(),containsString("Parsing"));
}
