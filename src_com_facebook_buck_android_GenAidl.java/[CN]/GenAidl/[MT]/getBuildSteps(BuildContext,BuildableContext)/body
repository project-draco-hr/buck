{
  ImmutableList.Builder<Step> commands=ImmutableList.builder();
  Path outputDirectory=Paths.get(BuckConstant.BIN_DIR,buildTarget.getBasePath(),"." + buildTarget.getShortName() + ".aidl");
  commands.add(new MkdirStep(outputDirectory));
  AidlStep command=new AidlStep(aidlFilePath,ImmutableSet.of(importPath),outputDirectory);
  commands.add(command);
  String genDirectory=String.format("%s/%s",BuckConstant.GEN_DIR,importPath);
  commands.add(new MkdirStep(genDirectory));
  Function<String,Path> artifactPathTransform=new Function<String,Path>(){
    @Override public Path apply(    String input){
      return Paths.get(input);
    }
  }
;
  commands.add(new RecordArtifactsInDirectoryStep(buildableContext,outputDirectory,genDirectory,artifactPathTransform));
  return commands.build();
}
