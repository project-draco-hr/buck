{
  ImmutableSet.Builder<BuildTarget> rules=ImmutableSet.builder();
  ImmutableMultimap.Builder<CxxSource.Type,String> preprocessorFlags=ImmutableMultimap.builder();
  ImmutableList.Builder<CxxHeaders> headers=ImmutableList.builder();
  ImmutableSet.Builder<Path> includeRoots=ImmutableSet.builder();
  ImmutableSet.Builder<Path> systemIncludeRoots=ImmutableSet.builder();
  ImmutableSet.Builder<Path> headerMaps=ImmutableSet.builder();
  ImmutableSet.Builder<FrameworkPath> frameworks=ImmutableSet.builder();
  for (  CxxPreprocessorInput input : inputs) {
    rules.addAll(input.getRules());
    preprocessorFlags.putAll(input.getPreprocessorFlags());
    headers.addAll(input.getIncludes());
    includeRoots.addAll(input.getIncludeRoots());
    systemIncludeRoots.addAll(input.getSystemIncludeRoots());
    headerMaps.addAll(input.getHeaderMaps());
    frameworks.addAll(input.getFrameworks());
  }
  return CxxPreprocessorInput.of(rules.build(),preprocessorFlags.build(),headers.build(),includeRoots.build(),systemIncludeRoots.build(),headerMaps.build(),frameworks.build());
}
