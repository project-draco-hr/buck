{
  ImmutableMap.Builder<String,SourcePath> headers=ImmutableMap.builder();
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  putAllHeaders(args.headers.get(),headers,pathResolver,"headers",params.getBuildTarget());
  for (  SourceList sourceList : args.platformHeaders.get().getMatchingValues(cxxPlatform.getFlavor().toString())) {
    putAllHeaders(sourceList,headers,pathResolver,"platform_headers",params.getBuildTarget());
  }
  return CxxPreprocessables.resolveHeaderMap(args.headerNamespace.transform(MorePaths.TO_PATH).or(params.getBuildTarget().getBasePath()),headers.build());
}
