{
  ImmutableMap<String,SourcePath> headers;
  if (!args.headers.isPresent()) {
    headers=ImmutableMap.of();
  }
 else   if (args.headers.get().isRight()) {
    headers=args.headers.get().getRight();
  }
 else {
    SourcePathResolver pathResolver=new SourcePathResolver(resolver);
    headers=pathResolver.getSourcePathNames(params.getBuildTarget(),"headers",args.headers.get().getLeft());
  }
  return CxxPreprocessables.resolveHeaderMap(args.headerNamespace.transform(MorePaths.TO_PATH).or(params.getBuildTarget().getBasePath()),headers);
}
