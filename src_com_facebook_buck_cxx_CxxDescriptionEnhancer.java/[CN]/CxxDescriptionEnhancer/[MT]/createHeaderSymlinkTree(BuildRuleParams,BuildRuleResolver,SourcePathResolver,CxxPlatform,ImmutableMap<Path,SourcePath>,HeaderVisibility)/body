{
  BuildTarget headerSymlinkTreeTarget=CxxDescriptionEnhancer.createHeaderSymlinkTreeTarget(params.getBuildTarget(),cxxPlatform.getFlavor(),headerVisibility);
  Path headerSymlinkTreeRoot=CxxDescriptionEnhancer.getHeaderSymlinkTreePath(params.getProjectFilesystem(),params.getBuildTarget(),cxxPlatform.getFlavor(),headerVisibility);
  Optional<Path> headerMapLocation=Optional.absent();
  if (cxxPlatform.getCpp().resolve(resolver).supportsHeaderMaps() && cxxPlatform.getCxxpp().resolve(resolver).supportsHeaderMaps()) {
    headerMapLocation=Optional.of(getHeaderMapPath(params.getProjectFilesystem(),params.getBuildTarget(),cxxPlatform.getFlavor(),headerVisibility));
  }
  return CxxPreprocessables.createHeaderSymlinkTreeBuildRule(pathResolver,headerSymlinkTreeTarget,params,headerSymlinkTreeRoot,headerMapLocation,headers);
}
