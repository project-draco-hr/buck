{
  ImmutableMap<String,SourcePath> headers;
  if (!parameter.isPresent()) {
    headers=ImmutableMap.of();
  }
 else   if (parameter.get().getNamedSources().isPresent()) {
    headers=parameter.get().getNamedSources().get();
  }
 else {
    headers=pathResolver.getSourcePathNames(buildTarget,parameterName,parameter.get().getUnnamedSources().get());
  }
  return CxxPreprocessables.resolveHeaderMap(headerNamespace.transform(MorePaths.TO_PATH).or(buildTarget.getBasePath()),headers);
}
