{
  JavaTestRule.Builder builder=((JavaTestRule.Builder)abstractBuilder);
  JavaLibraryBuildRuleFactory.extractAnnotationProcessorParameters(builder.getAnnotationProcessingBuilder(),builder,params);
  builder.setVmArgs(params.getOptionalListAttribute("vm_args"));
  Function<String,String> contextualBuildParser=createBuildTargetParseFunction(params);
  ImmutableSet<String> sourceUnderTest=ImmutableSet.copyOf(Iterables.transform(params.getOptionalListAttribute("source_under_test"),contextualBuildParser));
  builder.setSourceUnderTest(sourceUnderTest);
}
