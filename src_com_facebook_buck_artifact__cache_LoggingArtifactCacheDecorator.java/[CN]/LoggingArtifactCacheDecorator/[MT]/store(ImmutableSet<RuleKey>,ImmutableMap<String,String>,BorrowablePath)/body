{
  ArtifactCacheEvent.Started started=eventFactory.newStoreStartedEvent(ruleKeys,metadata);
  eventBus.post(started);
  ListenableFuture<Void> storeFuture=delegate.store(ruleKeys,metadata,output);
  eventBus.post(eventFactory.newStoreFinishedEvent(started));
  return storeFuture;
}
