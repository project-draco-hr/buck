{
  DefaultArtifact coords=new DefaultArtifact(Preconditions.checkNotNull(publishable.getMavenCoords().get(),"No maven coordinates specified for published rule ",publishable));
  Path relativePathToOutput=Preconditions.checkNotNull(publishable.getPathToOutput(),"No path to output present in ",publishable);
  File mainItem=publishable.getProjectFilesystem().resolve(relativePathToOutput).toFile();
  if (!coords.getClassifier().isEmpty()) {
    return publish(coords,ImmutableList.of(mainItem));
  }
  try {
    File pom=Pom.generatePomFile(publishable).toFile();
    return publish(coords,ImmutableList.of(mainItem,pom));
  }
 catch (  IOException e) {
    throw Throwables.propagate(e);
  }
}
