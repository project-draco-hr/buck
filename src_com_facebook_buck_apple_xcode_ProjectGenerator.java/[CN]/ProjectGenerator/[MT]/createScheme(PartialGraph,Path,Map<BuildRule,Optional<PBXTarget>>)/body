{
  List<BuildRule> orderedBuildRules=TopologicalSort.sort(partialGraph.getDependencyGraph(),new Predicate<BuildRule>(){
    @Override public boolean apply(    @Nullable BuildRule input){
      return ruleToTargetMap.containsKey(input) && ruleToTargetMap.get(input).isPresent();
    }
  }
);
  XCScheme scheme=new XCScheme("Scheme");
  for (  BuildRule rule : orderedBuildRules) {
    scheme.addBuildAction(projectPath.getFileName().toString(),ruleToTargetMap.get(rule).get().getGlobalID());
  }
  return scheme;
}
