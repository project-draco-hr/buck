{
  Path path=headerPath.resolve(partialGraph.getDependencyGraph());
  PBXFileReference fileReference=headersGroup.getOrCreateFileReferenceBySourceTreePath(new SourceTreePath(PBXReference.SourceTree.SOURCE_ROOT,this.repoRootRelativeToOutputDirectory.resolve(path)));
  PBXBuildFile buildFile=new PBXBuildFile(fileReference);
  NSDictionary settings=new NSDictionary();
  HeaderVisibility headerVisibility=headerVisibilityFlags.get(headerPath);
  if (headerVisibility != null) {
    settings.put("ATTRIBUTES",new NSArray(new NSString(headerVisibility.toXcodeAttribute())));
    buildFile.setSettings(Optional.of(settings));
  }
 else {
    buildFile.setSettings(Optional.<NSDictionary>absent());
  }
  headersBuildPhase.getFiles().add(buildFile);
}
