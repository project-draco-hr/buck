{
  ImmutableSet.Builder<String> builder=ImmutableSet.builder();
  if (targetNode.getConstructorArg().getUseBuckHeaderMaps()) {
    builder.add(getHeaderMapRelativePath(targetNode,HeaderMapType.TARGET_HEADER_MAP));
  }
  for (  TargetNode<?> input : AppleBuildRules.getRecursiveTargetNodeDependenciesOfTypes(targetGraph,AppleBuildRules.RecursiveDependenciesMode.BUILDING,targetNode,Optional.of(AppleBuildRules.XCODE_TARGET_BUILD_RULE_TYPES))) {
    Optional<TargetNode<AppleNativeTargetDescriptionArg>> library=getLibraryNode(targetGraph,input);
    if (library.isPresent() && library.get().getConstructorArg().getUseBuckHeaderMaps()) {
      builder.add(getHeaderMapRelativePath(library.get(),HeaderMapType.PUBLIC_HEADER_MAP));
    }
  }
  addHeaderMapsForSourceUnderTest(targetNode,builder,HeaderMapType.TARGET_HEADER_MAP);
  return builder.build();
}
