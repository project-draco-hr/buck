{
  for (  GroupedSource groupedSource : groupedSources) {
switch (groupedSource.getType()) {
case SOURCE_PATH:
      if (SourcePaths.isSourcePathExtensionInSet(groupedSource.getSourcePath(),FileExtensions.CLANG_HEADERS)) {
        if (headersBuildPhase.isPresent()) {
          addSourcePathToHeadersBuildPhase(groupedSource.getSourcePath(),sourcesGroup,headersBuildPhase.get(),sourceFlags);
        }
      }
 else {
        addSourcePathToSourcesBuildPhase(groupedSource.getSourcePath(),sourcesGroup,sourcesBuildPhase,sourceFlags);
      }
    break;
case SOURCE_GROUP:
  PBXGroup newSourceGroup=sourcesGroup.getOrCreateChildGroupByName(groupedSource.getSourceGroupName());
newSourceGroup.setSortPolicy(PBXGroup.SortPolicy.UNSORTED);
addGroupedSourcesToBuildPhases(newSourceGroup,sourcesBuildPhase,headersBuildPhase,groupedSource.getSourceGroup(),sourceFlags);
break;
default :
throw new RuntimeException("Unhandled grouped source type: " + groupedSource.getType());
}
}
}
