{
  Optional<Path> infoPlistPath;
  if (targetNode.getConstructorArg().getInfoPlist().isPresent()) {
    infoPlistPath=Optional.of(sourcePathResolver.getPath(targetNode.getConstructorArg().getInfoPlist().get()));
  }
 else {
    infoPlistPath=Optional.absent();
  }
  PBXNativeTarget target=generateBinaryTarget(project,Optional.of(targetNode),binaryNode,bundleToTargetProductType(targetNode,binaryNode),"%s." + getExtensionString(targetNode.getConstructorArg()),infoPlistPath,true,collectRecursiveResources(ImmutableList.of(targetNode)),collectRecursiveAssetCatalogs(ImmutableList.of(targetNode)));
  Iterable<TargetNode<?>> copiedRules=AppleBuildRules.getRecursiveTargetNodeDependenciesOfTypes(targetGraph,AppleBuildRules.RecursiveDependenciesMode.COPYING,targetNode,Optional.of(AppleBuildRules.XCODE_TARGET_BUILD_RULE_TYPES));
  generateCopyFilesBuildPhases(target,copiedRules);
  LOG.debug("Generated iOS bundle target %s",target);
  return target;
}
