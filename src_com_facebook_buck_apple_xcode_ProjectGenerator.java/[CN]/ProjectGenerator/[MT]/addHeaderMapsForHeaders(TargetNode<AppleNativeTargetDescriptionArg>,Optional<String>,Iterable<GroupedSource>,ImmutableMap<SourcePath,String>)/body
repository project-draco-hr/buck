{
  HeaderMap.Builder publicMapBuilder=HeaderMap.builder();
  HeaderMap.Builder targetMapBuilder=HeaderMap.builder();
  HeaderMap.Builder targetUserMapBuilder=HeaderMap.builder();
  addGroupedSourcesToHeaderMaps(publicMapBuilder,targetMapBuilder,targetUserMapBuilder,Paths.get(headerPathPrefix.or(getProductName(targetNode.getBuildTarget()))),groupedSources,sourceFlags);
  writeHeaderMap(publicMapBuilder.build(),targetNode,HeaderMapType.PUBLIC_HEADER_MAP);
  writeHeaderMap(targetMapBuilder.build(),targetNode,HeaderMapType.TARGET_HEADER_MAP);
  writeHeaderMap(targetUserMapBuilder.build(),targetNode,HeaderMapType.TARGET_USER_HEADER_MAP);
}
