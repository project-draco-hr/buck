{
  PBXFrameworksBuildPhase frameworksBuildPhase=new PBXFrameworksBuildPhase();
  target.getBuildPhases().add(frameworksBuildPhase);
  for (  String framework : frameworks) {
    Path path=Paths.get(framework);
    if (path.startsWith("$SDKROOT")) {
      Path sdkRootRelativePath=path.subpath(1,path.getNameCount());
      PBXFileReference fileReference=sharedFrameworksGroup.getOrCreateFileReferenceBySourceTreePath(new SourceTreePath(PBXReference.SourceTree.SDKROOT,sdkRootRelativePath));
      frameworksBuildPhase.getFiles().add(new PBXBuildFile(fileReference));
    }
 else     if (!path.toString().startsWith("$")) {
      PBXFileReference fileReference=sharedFrameworksGroup.getOrCreateFileReferenceBySourceTreePath(new SourceTreePath(PBXReference.SourceTree.GROUP,relativizeBuckRelativePathToGeneratedProject(buildTarget,path.toString())));
      frameworksBuildPhase.getFiles().add(new PBXBuildFile(fileReference));
    }
  }
  for (  PBXFileReference archive : archives) {
    frameworksBuildPhase.getFiles().add(new PBXBuildFile(archive));
  }
}
