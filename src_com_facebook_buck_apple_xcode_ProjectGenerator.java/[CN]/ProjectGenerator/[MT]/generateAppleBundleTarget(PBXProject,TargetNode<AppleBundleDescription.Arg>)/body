{
  Optional<Path> infoPlistPath;
  if (targetNode.getConstructorArg().infoPlist.isPresent()) {
    infoPlistPath=Optional.of(resolver.getPath(targetNode.getConstructorArg().infoPlist.get()));
  }
 else {
    infoPlistPath=Optional.absent();
  }
  PBXNativeTarget target=generateBinaryTarget(project,Optional.of(targetNode),(TargetNode<AppleNativeTargetDescriptionArg>)Preconditions.checkNotNull(targetGraph.get(targetNode.getConstructorArg().binary)),bundleToTargetProductType(targetNode),"%s." + targetNode.getConstructorArg().getExtensionString(),infoPlistPath,true,collectRecursiveResources(targetNode),collectRecursiveAssetCatalogs(targetNode));
  Iterable<TargetNode<?>> copiedRules=AppleBuildRules.getRecursiveTargetNodeDependenciesOfTypes(targetGraph,AppleBuildRules.RecursiveDependenciesMode.COPYING,targetNode,AppleLibraryDescription.TYPE,AppleBinaryDescription.TYPE,AppleBundleDescription.TYPE);
  generateCopyFilesBuildPhases(project,target,copiedRules);
  LOG.debug("Generated iOS bundle target %s",target);
  return target;
}
