{
  this.partialGraph=partialGraph;
  this.initialTargets=initialTargets;
  this.projectFilesystem=projectFilesystem;
  this.executionContext=executionContext;
  this.outputDirectory=outputDirectory;
  this.projectName=projectName;
  this.options=Sets.immutableEnumSet(Arrays.asList(options));
  this.projectPath=outputDirectory.resolve(projectName + ".xcodeproj");
  this.repoRootRelativeToOutputDirectory=this.outputDirectory.normalize().toAbsolutePath().relativize(projectFilesystem.getRootPath().toAbsolutePath());
  this.project=new PBXProject(projectName);
  project.getBuildConfigurationList().getBuildConfigurationsByName().getUnchecked("Debug");
  project.getBuildConfigurationList().getBuildConfigurationsByName().getUnchecked("Release");
  this.buildRuleToXcodeTarget=CacheBuilder.newBuilder().build(new CacheLoader<BuildRule,Optional<PBXTarget>>(){
    @Override public Optional<PBXTarget> load(    BuildRule key) throws Exception {
      return generateTargetForBuildRule(key);
    }
  }
);
}
