{
  ImmutableList<SourceWithFlags> input=ImmutableList.of(SourceWithFlags.of(new TestSourcePath("Group1/foo.m")),SourceWithFlags.of(new TestSourcePath("Group1/bar.m"),ImmutableList.of("-Wall")),SourceWithFlags.of(new TestSourcePath("Group2/baz.m")),SourceWithFlags.of(new TestSourcePath("Group2/blech.m"),ImmutableList.of("-fobjc-arc")));
  SourcePathResolver resolver=new SourcePathResolver(new BuildRuleResolver());
  ImmutableList<GroupedSource> sources=RuleUtils.createGroupsFromSourcePaths(resolver.getPathFunction(),input,ImmutableSortedSet.<SourcePath>of(),ImmutableSortedSet.<SourcePath>of());
  assertEquals(ImmutableList.of(GroupedSource.ofSourceGroup("Group1",ImmutableList.of(GroupedSource.ofSourceWithFlags(SourceWithFlags.of(new TestSourcePath("Group1/bar.m"),ImmutableList.of("-Wall"))),GroupedSource.ofSourceWithFlags(SourceWithFlags.of(new TestSourcePath("Group1/foo.m"))))),GroupedSource.ofSourceGroup("Group2",ImmutableList.of(GroupedSource.ofSourceWithFlags(SourceWithFlags.of(new TestSourcePath("Group2/baz.m"))),GroupedSource.ofSourceWithFlags(SourceWithFlags.of(new TestSourcePath("Group2/blech.m"),ImmutableList.of("-fobjc-arc")))))),sources);
}
