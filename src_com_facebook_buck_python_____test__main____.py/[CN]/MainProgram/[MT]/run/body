def run(self):
    test_suite = self.load_tests()
    if self.options.list:
        for test in self.get_test_names(test_suite):
            print(test)
        return 0
    else:
        result = self.run_tests(test_suite)
        if (self.options.output is not None):
            with open(self.options.output, 'w') as f:
                json.dump(result.getResults(), f, indent=4, sort_keys=True)
        return 0
