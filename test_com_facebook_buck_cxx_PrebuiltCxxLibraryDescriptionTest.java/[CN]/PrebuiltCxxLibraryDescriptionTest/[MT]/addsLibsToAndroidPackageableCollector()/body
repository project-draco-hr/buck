{
  BuildRuleResolver resolver=new BuildRuleResolver();
  ProjectFilesystem filesystem=new AllExistingProjectFilesystem();
  PrebuiltCxxLibraryBuilder libBuilder=new PrebuiltCxxLibraryBuilder(TARGET);
  PrebuiltCxxLibrary lib=(PrebuiltCxxLibrary)libBuilder.build(resolver,filesystem,TargetGraphFactory.newInstance(libBuilder.build()));
  PrebuiltCxxLibraryDescription.Arg arg=libBuilder.build().getConstructorArg();
  assertEquals(ImmutableMap.<String,SourcePath>of(getSharedLibrarySoname(arg),new PathSourcePath(filesystem,getSharedLibraryPath(arg))),lib.getSharedLibraries(CXX_PLATFORM));
}
