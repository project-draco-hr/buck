{
  BuildRuleResolver resolver=new BuildRuleResolver();
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  ProjectFilesystem filesystem=new FakeProjectFilesystem();
  Set<TargetNode<?>> targetNodes=Sets.newHashSet();
  PrebuiltCxxLibrary prebuiltCxxLibrary=(PrebuiltCxxLibrary)new PrebuiltCxxLibraryBuilder(TARGET).setForceStatic(true).build(resolver,filesystem,targetNodes);
  NativeLinkableInput nativeLinkableInput=prebuiltCxxLibrary.getNativeLinkableInput(TargetGraphFactory.newInstance(targetNodes),CxxPlatformUtils.DEFAULT_PLATFORM,Linker.LinkableDepType.SHARED);
  assertThat(pathResolver.getPath(nativeLinkableInput.getInputs().get(0)).toString(),Matchers.endsWith(".a"));
}
