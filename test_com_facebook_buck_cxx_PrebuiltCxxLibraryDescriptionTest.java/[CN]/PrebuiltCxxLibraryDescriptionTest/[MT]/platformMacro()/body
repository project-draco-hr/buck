{
  Optional<String> libDir=Optional.of("libs/$(platform)");
  Optional<String> libName=Optional.of("test-$(platform)");
  Optional<String> soname=Optional.absent();
  CxxPlatform platform1=CxxPlatformUtils.DEFAULT_PLATFORM.withFlavor(ImmutableFlavor.of("PLATFORM1"));
  CxxPlatform platform2=CxxPlatformUtils.DEFAULT_PLATFORM.withFlavor(ImmutableFlavor.of("PLATFORM2"));
  assertEquals("libtest-PLATFORM1.so",PrebuiltCxxLibraryDescription.getSoname(TARGET,platform1,soname,libName));
  assertEquals("libtest-PLATFORM2.so",PrebuiltCxxLibraryDescription.getSoname(TARGET,platform2,soname,libName));
  assertEquals(TARGET.getBasePath().resolve("libs/PLATFORM1/libtest-PLATFORM1.so"),PrebuiltCxxLibraryDescription.getSharedLibraryPath(TARGET,platform1,libDir,libName));
  assertEquals(TARGET.getBasePath().resolve("libs/PLATFORM1/libtest-PLATFORM1.a"),PrebuiltCxxLibraryDescription.getStaticLibraryPath(TARGET,platform1,libDir,libName));
  assertEquals(TARGET.getBasePath().resolve("libs/PLATFORM2/libtest-PLATFORM2.so"),PrebuiltCxxLibraryDescription.getSharedLibraryPath(TARGET,platform2,libDir,libName));
  assertEquals(TARGET.getBasePath().resolve("libs/PLATFORM2/libtest-PLATFORM2.a"),PrebuiltCxxLibraryDescription.getStaticLibraryPath(TARGET,platform2,libDir,libName));
}
