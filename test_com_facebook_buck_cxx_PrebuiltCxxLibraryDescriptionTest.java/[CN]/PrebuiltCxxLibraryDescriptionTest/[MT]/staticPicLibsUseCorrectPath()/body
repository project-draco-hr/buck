{
  BuildRuleResolver resolver=new BuildRuleResolver();
  ProjectFilesystem filesystem=new FakeProjectFilesystem();
  PrebuiltCxxLibraryBuilder libBuilder=new PrebuiltCxxLibraryBuilder(TARGET);
  TargetGraph targetGraph=TargetGraphFactory.newInstance(libBuilder.build());
  PrebuiltCxxLibrary lib=(PrebuiltCxxLibrary)libBuilder.build(resolver,filesystem,targetGraph);
  NativeLinkableInput nativeLinkableInput=lib.getNativeLinkableInput(targetGraph,CXX_PLATFORM,Linker.LinkableDepType.STATIC_PIC);
  SourcePath input=nativeLinkableInput.getInputs().get(0);
  assertThat(input,Matchers.instanceOf(PathSourcePath.class));
  assertThat(((PathSourcePath)input).getRelativePath(),Matchers.equalTo(getStaticLibraryPath(libBuilder.build().getConstructorArg())));
}
