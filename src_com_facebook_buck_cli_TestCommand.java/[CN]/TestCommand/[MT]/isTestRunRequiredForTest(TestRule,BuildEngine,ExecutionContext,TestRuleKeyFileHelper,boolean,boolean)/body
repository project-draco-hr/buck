{
  boolean isTestRunRequired;
  BuildRuleSuccess success;
  if (executionContext.isDebugEnabled()) {
    isTestRunRequired=true;
  }
 else   if (isRunningWithTestSelectors) {
    isTestRunRequired=true;
  }
 else   if (((success=cachingBuildEngine.getBuildRuleResult(test.getBuildTarget())) != null) && success.getType() == BuildRuleSuccess.Type.MATCHING_RULE_KEY && isResultsCacheEnabled && test.hasTestResultFiles(executionContext) && testRuleKeyFileHelper.isRuleKeyInDir(test)) {
    isTestRunRequired=false;
  }
 else {
    isTestRunRequired=true;
  }
  return isTestRunRequired;
}
