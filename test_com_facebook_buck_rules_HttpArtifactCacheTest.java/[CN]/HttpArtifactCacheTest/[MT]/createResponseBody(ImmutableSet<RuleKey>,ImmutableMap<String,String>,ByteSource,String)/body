{
  try (ByteArrayOutputStream out=new ByteArrayOutputStream();DataOutputStream dataOut=new DataOutputStream(out)){
    byte[] rawMetadata=HttpArtifactCache.createMetadataHeader(ruleKeys,metadata,source,HASH_FUNCTION);
    dataOut.writeInt(rawMetadata.length);
    dataOut.write(rawMetadata);
    dataOut.write(data.getBytes(Charsets.UTF_8));
    return ResponseBody.create(OCTET_STREAM,out.toByteArray());
  }
 }
