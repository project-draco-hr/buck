{
  FakeProjectFilesystem filesystem=new FakeProjectFilesystem();
  File output=new File("output/file");
  filesystem.writeContentsToPath("data",output.toPath());
  HttpArtifactCache cache=new HttpArtifactCache(null,null,new URL("http://localhost:8080"),true,filesystem,HASH_FUNCTION){
    @Override protected Response storeCall(    Request request) throws IOException {
      throw new IOException();
    }
  }
;
  cache.store(new RuleKey("00000000000000000000000000000000"),output);
  cache.close();
}
