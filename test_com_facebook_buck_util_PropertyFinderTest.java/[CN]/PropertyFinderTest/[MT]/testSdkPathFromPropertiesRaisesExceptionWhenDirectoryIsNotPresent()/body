{
  String path=Paths.get("/path/to/sdk").toAbsolutePath().toString();
  Properties properties=new Properties();
  properties.setProperty("sdk.dir",path);
  ImmutableMap<String,String> systemEnvironment=ImmutableMap.of();
  HostFilesystem hostFilesystem=FakeHostFilesystem.empty();
  thrown.expect(RuntimeException.class);
  thrown.expectMessage(String.format("Properties file local.properties contains invalid path [%s] for key sdk.dir.",path));
  DefaultPropertyFinder.findDirectoryByPropertiesThenEnvironmentVariable(Optional.of(properties),hostFilesystem,systemEnvironment,"sdk.dir");
}
