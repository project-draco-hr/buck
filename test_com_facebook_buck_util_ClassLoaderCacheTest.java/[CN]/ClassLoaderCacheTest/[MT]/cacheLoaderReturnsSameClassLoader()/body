{
  try (ClassLoaderCache clc=new ClassLoaderCache()){
    ClassLoader dummyParent=ClassLoader.getSystemClassLoader();
    ImmutableList<Path> dummyClassPath=ImmutableList.of(Paths.get(DUMMYDIR,"foo"),Paths.get(DUMMYDIR,"bar"));
    ClassLoader cl1=clc.getClassLoaderForClassPath(dummyParent,dummyClassPath);
    ClassLoader cl2=clc.getClassLoaderForClassPath(dummyParent,dummyClassPath);
    assertSame(cl1,cl2);
    URL[] dummyUrls=FluentIterable.from(dummyClassPath).transform(PATH_TO_URL).toArray(URL.class);
    assertArrayEquals(dummyUrls,((URLClassLoader)cl1).getURLs());
  }
 }
