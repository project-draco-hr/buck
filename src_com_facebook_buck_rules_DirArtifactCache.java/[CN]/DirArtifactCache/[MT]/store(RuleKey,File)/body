{
  if (!ruleKey.isIdempotent()) {
    return;
  }
  File cacheEntry=new File(cacheDir,ruleKey.toString());
  try {
    File tmpCacheEntry=File.createTempFile(ruleKey.toString(),".tmp",cacheDir);
    Files.copy(output,tmpCacheEntry);
    Files.move(tmpCacheEntry,cacheEntry);
  }
 catch (  IOException e) {
    logger.warning(String.format("Artifact store(%s, %s) error: %s",ruleKey,output.getPath(),e.getMessage()));
  }
}
