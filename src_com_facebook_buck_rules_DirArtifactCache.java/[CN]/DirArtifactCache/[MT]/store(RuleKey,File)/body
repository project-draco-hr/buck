{
  File cacheEntry=new File(cacheDir,ruleKey.toString());
  File tmpCacheEntry=null;
  try {
    tmpCacheEntry=File.createTempFile(ruleKey.toString(),".tmp",cacheDir);
    Files.copy(output,tmpCacheEntry);
    Files.move(tmpCacheEntry,cacheEntry);
  }
 catch (  IOException e) {
    logger.warning(String.format("Artifact store(%s, %s) error: %s",ruleKey,output.getPath(),e.getMessage()));
    if (tmpCacheEntry != null) {
      tmpCacheEntry.delete();
    }
  }
}
