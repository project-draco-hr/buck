@staticmethod
def write_to_dir(buck_log_dir):
    filename_time = time.strftime('%Y-%m-%d.%H-%M-%S')
    trace_filename = os.path.join(buck_log_dir, 'launch.{0}.{1}.trace'.format(filename_time, uuid4()))
    trace_filename_link = os.path.join(buck_log_dir, 'launch.trace')
    try:
        os.makedirs(buck_log_dir)
    except OSError as e:
        if (e.errno != errno.EEXIST):
            raise
    json.dump(Tracing._trace_events, file(trace_filename, 'w'))
    try:
        os.symlink(trace_filename, trace_filename_link)
    except OSError as e:
        if (e.errno == errno.EEXIST):
            os.remove(trace_filename_link)
            os.symlink(trace_filename, trace_filename_link)
    Tracing.clean_up_old_logs(buck_log_dir)
