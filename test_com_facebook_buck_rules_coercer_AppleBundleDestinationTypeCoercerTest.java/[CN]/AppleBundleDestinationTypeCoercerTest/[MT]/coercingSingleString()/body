{
  BuildRuleResolver buildRuleResolver=new BuildRuleResolver();
  FakeProjectFilesystem filesystem=new FakeProjectFilesystem();
  Path basePath=Paths.get("base");
  TypeCoercer<String> stringTypeCoercer=new IdentityTypeCoercer<>(String.class);
  TypeCoercer<AppleBundleDestination> destinationTypeCoercer=new AppleBundleDestinationTypeCoercer(stringTypeCoercer);
  AppleBundleDestination.SubfolderSpec subfolderSpec=AppleBundleDestination.SubfolderSpec.EXECUTABLES;
  AppleBundleDestination destination=destinationTypeCoercer.coerce(buildRuleResolver,filesystem,basePath,subfolderSpec.toString());
  assertEquals(destination,new AppleBundleDestination(subfolderSpec,Optional.<String>absent()));
}
