{
  Optional<String> configPath=getValue("tools","python");
  if (configPath.isPresent()) {
    File python=new File(configPath.get());
    if (isExecutableFile(python)) {
      return python.getAbsolutePath();
    }
    throw new HumanReadableException("Not a python executable: " + configPath.get());
  }
 else {
    for (    String interpreterName : PYTHON_INTERPRETER_NAMES) {
      for (      String path : getEnv("PATH",File.pathSeparator)) {
        for (        String pathExt : getEnv("PATHEXT",File.pathSeparator)) {
          File python=new File(path,interpreterName + pathExt);
          if (isExecutableFile(python)) {
            return python.getAbsolutePath();
          }
        }
      }
    }
    File jython=new File(getProperty("buck.path_to_python_interp","bin/jython"));
    if (isExecutableFile(jython)) {
      return jython.getAbsolutePath();
    }
    throw new HumanReadableException("No python or jython found.");
  }
}
