{
  Path cacheDir=getCacheDir();
  File dir=cacheDir.toFile();
  boolean doStore=readCacheMode("dir_mode",DEFAULT_DIR_CACHE_MODE);
  try {
    return new DirArtifactCache(dir,doStore,getCacheDirMaxSizeBytes());
  }
 catch (  IOException e) {
    throw new HumanReadableException("Failure initializing artifact cache directory: %s",dir);
  }
}
