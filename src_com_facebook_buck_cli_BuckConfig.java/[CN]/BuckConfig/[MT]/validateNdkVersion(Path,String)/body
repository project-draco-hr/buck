{
  Optional<String> minVersion=getMinimumNdkVersion();
  Optional<String> maxVersion=getMaximumNdkVersion();
  if (minVersion.isPresent() && maxVersion.isPresent()) {
    if (ndkVersion.length() < 2) {
      throw new HumanReadableException("Invalid NDK version: %s",ndkVersion);
    }
    if (ndkVersion.compareTo(minVersion.get()) < 0 || ndkVersion.compareTo(maxVersion.get()) > 0) {
      throw new HumanReadableException("Supported NDK versions are between %s and %s but Buck is configured to use %s from %s",minVersion.get(),maxVersion.get(),ndkVersion,ndkPath.toAbsolutePath());
    }
  }
 else   if (minVersion.isPresent() || maxVersion.isPresent()) {
    throw new HumanReadableException("Either both min_version and max_version are provided or neither are");
  }
}
