{
  String host=getValue("cache","http_host").or("localhost");
  int port=Integer.parseInt(getValue("cache","http_port").or(DEFAULT_HTTP_CACHE_PORT));
  int timeoutSeconds=Integer.parseInt(getValue("cache","http_timeout_seconds").or(DEFAULT_HTTP_CACHE_TIMEOUT_SECONDS));
  boolean doStore=readCacheMode("http_mode",DEFAULT_HTTP_CACHE_MODE);
  String localhost;
  try {
    localhost=InetAddress.getLocalHost().getHostName();
  }
 catch (  UnknownHostException e) {
    localhost="<unknown>";
  }
  return new HttpArtifactCache(host,port,timeoutSeconds,doStore,projectFilesystem,buckEventBus,Hashing.crc32(),ImmutableMap.of("X-BuckCache-User",System.getProperty("user.name"),"X-BuckCache-Host",localhost));
}
