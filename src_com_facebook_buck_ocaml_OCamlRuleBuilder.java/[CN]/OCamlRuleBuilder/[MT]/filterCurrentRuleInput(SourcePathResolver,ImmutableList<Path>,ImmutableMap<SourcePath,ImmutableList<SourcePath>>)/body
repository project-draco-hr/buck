{
  ImmutableMap.Builder<SourcePath,ImmutableList<SourcePath>> builder=ImmutableMap.builder();
  for (  ImmutableMap.Entry<SourcePath,ImmutableList<SourcePath>> entry : deps.entrySet()) {
    if (mlInput.contains(resolver.getPath(entry.getKey()))) {
      builder.put(entry.getKey(),FluentIterable.from(entry.getValue()).filter(new Predicate<SourcePath>(){
        @Override public boolean apply(        SourcePath input){
          return mlInput.contains(resolver.getPath(input));
        }
      }
).toList());
    }
  }
  return builder.build();
}
