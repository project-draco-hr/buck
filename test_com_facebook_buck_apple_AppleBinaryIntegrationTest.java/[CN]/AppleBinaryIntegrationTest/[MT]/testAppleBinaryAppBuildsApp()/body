{
  assumeTrue(Platform.detect() == Platform.MACOS);
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"apple_binary_builds_something",tmp);
  workspace.setUp();
  workspace.runBuckCommand("build","//Apps/TestApp:TestApp#app").assertSuccess();
  assertThat(Files.exists(getGenDir().resolve("Apps/TestApp/")),is(true));
  Path appPath=getGenDir().resolve("Apps/TestApp/TestApp#app,no-include-frameworks/TestApp.app/");
  assertThat(Files.exists(appPath.resolve("Info.plist")),is(true));
  assertThat(workspace.runCommand("file",appPath.resolve("TestApp").toString()).getStdout().get(),containsString("executable"));
}
