{
  if (artifactCache == null) {
synchronized (this) {
      if (artifactCache == null) {
        Preconditions.checkNotNull(options,"getArtifactCache() should not be invoked before runCommand().");
        artifactCache=artifactCacheFactory.newInstance(options);
      }
    }
  }
  return artifactCache;
}
