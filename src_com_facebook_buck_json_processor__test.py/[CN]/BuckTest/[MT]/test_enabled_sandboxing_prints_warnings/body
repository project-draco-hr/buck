def test_enabled_sandboxing_prints_warnings(self):
    self.enable_build_file_sandboxing = True
    build_file = ProjectFile(path='BUCK', contents='import ssl')
    py_file = ProjectFile(path='foo.py', contents=())
    self.write_files(build_file, py_file)
    build_file_processor = self.create_build_file_processor()
    build_file_processor.install_builtins(__builtin__.__dict__)
    diagnostics = set()
    try:
        out = StringIO.StringIO()
        sys.stdout = out
        build_file_path = os.path.join(self.project_root, build_file.path)
        build_file_processor.process(build_file.path, diagnostics)
        self.assertEqual(sys.stdout.getvalue().strip(), ('Importing module ssl in file %s is discouraged' % build_file_path))
    finally:
        sys.stdout = sys.__stdout__
