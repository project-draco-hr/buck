{
  String url=toModuleDirRelativeString(contentRootPath,moduleLocationBasePath);
  ImmutableSet<IjFolder> simplifiedFolders=sourceRootSimplifier.simplify(SimplificationLimit.of(contentRootPath.getNameCount()),folders);
  ImmutableSortedSet<IjSourceFolder> sourceFolders=FluentIterable.from(simplifiedFolders).transform(new Function<IjFolder,IjSourceFolder>(){
    @Override public IjSourceFolder apply(    IjFolder input){
      return createSourceFolder(input,moduleLocationBasePath);
    }
  }
).toSortedSet(Ordering.natural());
  return ContentRoot.builder().setUrl(url).setFolders(sourceFolders).build();
}
