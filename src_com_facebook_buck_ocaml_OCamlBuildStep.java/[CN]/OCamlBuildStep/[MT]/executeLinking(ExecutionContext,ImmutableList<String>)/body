{
  ImmutableList.Builder<String> flags=ImmutableList.builder();
  flags.addAll(ocamlContext.getFlags());
  flags.addAll(ocamlContext.getCommonCLinkerFlags());
  OCamlLinkStep linkStep=new OCamlLinkStep(filesystem.getRootPath(),resolver,new OCamlLinkStep.Args(cxxCompilerEnvironment,cxxCompiler,ocamlContext.getOcamlCompiler().get(),ocamlContext.getOutput(),ocamlContext.getLinkableInput().getArgs(),ocamlContext.getNativeLinkableInput().getArgs(),linkerInputs,flags.build(),ocamlContext.isLibrary(),false));
  return linkStep.execute(context);
}
