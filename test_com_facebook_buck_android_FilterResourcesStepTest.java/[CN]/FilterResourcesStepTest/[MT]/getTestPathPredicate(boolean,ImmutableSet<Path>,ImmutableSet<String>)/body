{
  FilteredDirectoryCopier copier=EasyMock.createMock(FilteredDirectoryCopier.class);
  Capture<Predicate<Path>> capturedPredicate=newCapture();
  copier.copyDirs(EasyMock.<ProjectFilesystem>anyObject(),EasyMock.<Map<Path,Path>>anyObject(),EasyMock.capture(capturedPredicate));
  EasyMock.replay(copier);
  FilterResourcesStep step=new FilterResourcesStep(ImmutableBiMap.<Path,Path>of(),false,enableStringWhitelisting,whitelistedStringDirs,locales,copier,null,null,null);
  assertEquals(0,step.execute(TestExecutionContext.newInstance()));
  EasyMock.verify(copier);
  return capturedPredicate.getValue();
}
