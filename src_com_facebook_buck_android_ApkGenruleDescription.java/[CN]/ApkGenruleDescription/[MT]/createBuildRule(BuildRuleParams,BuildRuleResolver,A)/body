{
  if (!(args.apk instanceof InstallableApk)) {
    throw new HumanReadableException("The 'apk' argument of %s, %s, must correspond to an " + "installable rule, such as android_binary() or apk_genrule().",params.getBuildTarget(),args.apk.getFullyQualifiedName());
  }
  InstallableApk installableApk=(InstallableApk)args.apk;
  return new ApkGenrule(params,args.srcs.get(),args.cmd,args.bash,args.cmdExe,params.getPathAbsolutifier(),installableApk);
}
