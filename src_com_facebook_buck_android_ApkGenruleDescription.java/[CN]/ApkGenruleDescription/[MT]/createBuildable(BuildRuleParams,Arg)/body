{
  if (!(args.apk.getBuildable() instanceof InstallableApk)) {
    throw new HumanReadableException("The 'apk' argument of %s, %s, must correspond to an " + "installable rule, such as android_binary() or apk_genrule().",params.getBuildTarget(),args.apk.getFullyQualifiedName());
  }
  InstallableApk installableApk=(InstallableApk)args.apk.getBuildable();
  return new ApkGenrule(params.getBuildTarget(),args.srcs.get(),args.cmd,args.bash,args.cmdExe,params.getDeps(),params.getPathAbsolutifier(),installableApk);
}
