{
  BuildRuleResolver resolver=new BuildRuleResolver();
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  FakeBuildRule fake1=new FakeBuildRule("//:fake1",pathResolver);
  fake1.setRuleKey(RuleKey.TO_RULE_KEY.apply("deadbeef"));
  FakeBuildRule fake2=new FakeBuildRule("//:fake2",pathResolver);
  fake2.setRuleKey(RuleKey.TO_RULE_KEY.apply("feeddeed"));
  resolver.addToIndex(fake1);
  resolver.addToIndex(fake2);
  assertEquals(createEmptyRuleKey(pathResolver).setReflectively("key",new BuildTargetSourcePath(fake1.getBuildTarget(),Paths.get("location"))).build(),createEmptyRuleKey(pathResolver).setReflectively("key",new BuildTargetSourcePath(fake1.getBuildTarget(),Paths.get("location"))).build());
  assertNotEquals(createEmptyRuleKey(pathResolver).setReflectively("key",new BuildTargetSourcePath(fake1.getBuildTarget(),Paths.get("location"))).build(),createEmptyRuleKey(pathResolver).setReflectively("key",new BuildTargetSourcePath(fake1.getBuildTarget(),Paths.get("different"))).build());
  assertNotEquals(createEmptyRuleKey(pathResolver).setReflectively("key",new BuildTargetSourcePath(fake1.getBuildTarget(),Paths.get("location"))).build(),createEmptyRuleKey(pathResolver).setReflectively("key",new BuildTargetSourcePath(fake2.getBuildTarget(),Paths.get("location"))).build());
  assertNotEquals(createEmptyRuleKey(pathResolver).setReflectively("key",new BuildTargetSourcePath(fake1.getBuildTarget(),Paths.get("location"))).build(),createEmptyRuleKey(pathResolver).setReflectively("different-key",new BuildTargetSourcePath(fake1.getBuildTarget(),Paths.get("location"))).build());
}
