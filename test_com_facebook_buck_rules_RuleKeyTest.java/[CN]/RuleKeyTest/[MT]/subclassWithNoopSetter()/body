{
class NoopSetterRuleKeyBuilder extends RuleKeyBuilder {
    public NoopSetterRuleKeyBuilder(    SourcePathResolver pathResolver,    FileHashCache hashCache,    RuleKeyBuilderFactory defaultRuleKeyBuilderFactory){
      super(pathResolver,hashCache,defaultRuleKeyBuilderFactory);
    }
    @Override protected RuleKeyBuilder setSourcePath(    SourcePath sourcePath){
      return this;
    }
  }
  SourcePathResolver pathResolver=new SourcePathResolver(new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer()));
  FileHashCache hashCache=new FakeFileHashCache(ImmutableMap.<Path,HashCode>of());
  RuleKeyBuilderFactory ruleKeyBuilderFactory=new DefaultRuleKeyBuilderFactory(hashCache,pathResolver);
  RuleKey nullRuleKey=new NoopSetterRuleKeyBuilder(pathResolver,hashCache,ruleKeyBuilderFactory).build();
  RuleKey noopRuleKey=new NoopSetterRuleKeyBuilder(pathResolver,hashCache,ruleKeyBuilderFactory).setReflectively("key",new FakeSourcePath("value")).build();
  assertThat(noopRuleKey,is(equalTo(nullRuleKey)));
}
