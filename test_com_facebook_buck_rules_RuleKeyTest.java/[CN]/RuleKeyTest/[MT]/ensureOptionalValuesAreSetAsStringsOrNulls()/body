{
  RuleKey.Builder.RuleKeyPair reflective=createEmptyRuleKey().setReflectively("food",Optional.of("cheese")).setReflectively("empty",Optional.<String>absent()).build();
  RuleKey.Builder.RuleKeyPair manual=createEmptyRuleKey().set("food",Optional.of("cheese")).set("empty",Optional.<String>absent()).build();
  assertEquals(manual.getTotalRuleKey(),reflective.getTotalRuleKey());
}
