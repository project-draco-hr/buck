{
  BuildTarget target=BuildTargetFactory.newInstance("//cheese:peas");
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(target).build();
  SourcePathResolver pathResolver=new SourcePathResolver(new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer()));
  DefaultFileHashCache hashCache=new DefaultFileHashCache(new FakeProjectFilesystem());
  BuildRule buildRule1=new TestRuleKeyAppendableBuildRule(params,pathResolver,"foo","bar");
  BuildRule buildRule2=new TestRuleKeyAppendableBuildRule(params,pathResolver,"foo","xyzzy");
  RuleKey ruleKey1=new DefaultRuleKeyBuilderFactory(hashCache,pathResolver).build(buildRule1);
  RuleKey ruleKey2=new DefaultRuleKeyBuilderFactory(hashCache,pathResolver).build(buildRule2);
  assertNotEquals(ruleKey1,ruleKey2);
}
