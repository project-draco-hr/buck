{
  BuildTarget target=BuildTargetFactory.newInstance("//cheese:peas");
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(target).build();
  SourcePathResolver pathResolver=new SourcePathResolver(new BuildRuleResolver());
  BuildRule buildRule1=new TestRuleKeyAppendableBuildRule(params,pathResolver,"foo","bar");
  BuildRule buildRule2=new TestRuleKeyAppendableBuildRule(params,pathResolver,"foo","xyzzy");
  DefaultRuleKeyBuilderFactory factory=new DefaultRuleKeyBuilderFactory(new NullFileHashCache(),pathResolver);
  RuleKeyPair ruleKey1=factory.newInstance(buildRule1).build();
  RuleKeyPair ruleKey2=factory.newInstance(buildRule2).build();
  assertNotEquals(ruleKey1,ruleKey2);
}
