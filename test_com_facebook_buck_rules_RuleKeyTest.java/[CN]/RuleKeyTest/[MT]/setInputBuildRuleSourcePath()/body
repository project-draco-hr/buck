{
  FakeBuildRule fake1=new FakeBuildRule("//:fake1");
  fake1.setRuleKey(RuleKey.TO_RULE_KEY.apply("deadbeef"));
  FakeBuildRule fake2=new FakeBuildRule("//:fake2");
  fake2.setRuleKey(RuleKey.TO_RULE_KEY.apply("feeddeed"));
  assertEquals(createEmptyRuleKey().setInput("key",new BuildRuleSourcePath(fake1,Paths.get("location"))).build(),createEmptyRuleKey().setInput("key",new BuildRuleSourcePath(fake1,Paths.get("different"))).build());
  assertNotEquals(createEmptyRuleKey().setInput("key",new BuildRuleSourcePath(fake1,Paths.get("location"))).build(),createEmptyRuleKey().setInput("key",new BuildRuleSourcePath(fake2,Paths.get("location"))).build());
  assertNotEquals(createEmptyRuleKey().setInput("key",new BuildRuleSourcePath(fake1,Paths.get("location"))).build(),createEmptyRuleKey().setInput("different-key",new BuildRuleSourcePath(fake1,Paths.get("location"))).build());
}
