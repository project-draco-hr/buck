{
  ImmutableSortedSet<Label> labels=ImmutableSortedSet.of(new Label("one"),new Label("two"));
  ImmutableSortedSet<String> stringLabels=ImmutableSortedSet.copyOf(Iterables.transform(labels,Functions.toStringFunction()));
  RuleKey.Builder.RuleKeyPair reflective=createEmptyRuleKey(new SourcePathResolver(new BuildRuleResolver())).setReflectively("labels",labels).build();
  RuleKey.Builder.RuleKeyPair manual=createEmptyRuleKey(new SourcePathResolver(new BuildRuleResolver())).set("labels",stringLabels).build();
  assertEquals(manual.getTotalRuleKey(),reflective.getTotalRuleKey());
}
