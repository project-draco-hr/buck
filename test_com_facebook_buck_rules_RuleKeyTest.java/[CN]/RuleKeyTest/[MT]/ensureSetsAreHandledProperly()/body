{
  BuildTarget target=BuildTargetFactory.newInstance("//foo/bar:baz");
  FakeBuildRule rule=new FakeBuildRule(new BuildRuleType("example"),target);
  ImmutableSortedSet<SourcePath> sourcePaths=ImmutableSortedSet.<SourcePath>of(new BuildRuleSourcePath(rule),new FileSourcePath("alpha/beta"));
  ImmutableSet<String> strings=ImmutableSet.of("one","two");
  RuleKey.Builder.RuleKeyPair reflective=createEmptyRuleKey().setReflectively("sourcePaths",sourcePaths).setReflectively("strings",strings).build();
  RuleKey.Builder.RuleKeyPair manual=createEmptyRuleKey().setSourcePaths("sourcePaths",sourcePaths).set("strings",strings).build();
  assertEquals(manual.getTotalRuleKey(),reflective.getTotalRuleKey());
}
