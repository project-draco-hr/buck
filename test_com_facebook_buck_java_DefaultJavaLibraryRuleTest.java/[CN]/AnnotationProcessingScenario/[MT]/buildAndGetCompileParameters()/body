{
  DefaultJavaLibraryRule javaLibrary=createJavaLibraryRule();
  buildContext=createBuildContext(javaLibrary,"");
  List<Step> steps=javaLibrary.buildInternal(buildContext);
  JavacInMemoryStep javacCommand=lastJavacCommand(steps);
  executionContext=ExecutionContext.builder().setProjectFilesystem(new ProjectFilesystem(new File("."))).setConsole(new Console(Verbosity.SILENT,System.out,System.err,Ansi.withoutTty())).setDebugEnabled(true).build();
  ImmutableList<String> options=javacCommand.getOptions(executionContext,ImmutableSet.<String>of());
  return options;
}
