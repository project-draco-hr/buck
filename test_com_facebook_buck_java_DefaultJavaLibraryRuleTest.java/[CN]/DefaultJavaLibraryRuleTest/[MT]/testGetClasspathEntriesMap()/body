{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  BuildTarget libraryOneTarget=BuildTargetFactory.newInstance("//:libone");
  JavaLibraryRule libraryOne=ruleResolver.buildAndAddToIndex(DefaultJavaLibraryRule.newJavaLibraryRuleBuilder(new FakeBuildRuleBuilderParams()).setBuildTarget(libraryOneTarget).addSrc(Paths.get("java/src/com/libone/Bar.java")));
  BuildTarget libraryTwoTarget=BuildTargetFactory.newInstance("//:libtwo");
  JavaLibraryRule libraryTwo=ruleResolver.buildAndAddToIndex(DefaultJavaLibraryRule.newJavaLibraryRuleBuilder(new FakeBuildRuleBuilderParams()).setBuildTarget(libraryTwoTarget).addSrc(Paths.get("java/src/com/libtwo/Foo.java")).addDep(BuildTargetFactory.newInstance("//:libone")));
  BuildTarget parentTarget=BuildTargetFactory.newInstance("//:parent");
  JavaLibraryRule parent=ruleResolver.buildAndAddToIndex(DefaultJavaLibraryRule.newJavaLibraryRuleBuilder(new FakeBuildRuleBuilderParams()).setBuildTarget(parentTarget).addSrc(Paths.get("java/src/com/parent/Meh.java")).addDep(BuildTargetFactory.newInstance("//:libtwo")));
  assertEquals(ImmutableSetMultimap.of(libraryOne,"buck-out/gen/lib__libone__output/libone.jar",libraryTwo,"buck-out/gen/lib__libtwo__output/libtwo.jar",parent,"buck-out/gen/lib__parent__output/parent.jar"),parent.getTransitiveClasspathEntries());
}
