{
  FileSystem vfs=FakeFilesystems.windowsTurkishFilesystem();
  Path root=vfs.getPath("C:\\foo");
  Files.createDirectories(root);
  Files.createFile(root.resolve("bar"));
  ProjectFilesystem filesystem=new ProjectFilesystem(root);
  assertThat("Relative path exact match should be true on case-insensitive filesystem",filesystem.isSameRelativePathIfFileExists(Paths.get("bar"),Paths.get("bar")),is(true));
  assertThat("Relative path case-insensitive match should be true on case-insensitive filesystem",filesystem.isSameRelativePathIfFileExists(Paths.get("bar"),Paths.get("BAR")),is(true));
  assertThat("Relative path mismatch should be false on case-insensitive filesystem",filesystem.isSameRelativePathIfFileExists(Paths.get("bar"),Paths.get("baz")),is(false));
  assertThat("Relative path for non-existent file should be false on case-insensitive filesystem",filesystem.isSameRelativePathIfFileExists(Paths.get("baz"),Paths.get("blech")),is(false));
  Files.createFile(root.resolve("P\u0130CASA.\u0130N\u0130"));
  assertThat("Relative path case-insensitive dotted i match should be true on Turkish filesystem",filesystem.isSameRelativePathIfFileExists(Paths.get("P\u0130CASA.\u0130N\u0130"),Paths.get("picasa.ini")),is(true));
  assertThat("Relative path case-insensitive dotless i match should be false on Turkish filesystem",filesystem.isSameRelativePathIfFileExists(Paths.get("picasa.ini"),Paths.get("PICASA.INI")),is(false));
}
