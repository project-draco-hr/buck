{
  try (InputStream in=new BufferedInputStream(new FileInputStream(sourceFile.toFile()));OutputStream out=new BufferedOutputStream(new FileOutputStream(getDestinationFile().toFile()));XZOutputStream xzOut=new XZOutputStream(out,new LZMA2Options(compressionLevel),check)){
    ByteStreams.copy(in,xzOut);
    xzOut.finish();
    if (!keep) {
      context.getProjectFilesystem().deleteFileAtPath(sourceFile);
    }
  }
 catch (  IOException e) {
    LOG.error(e);
    return 1;
  }
  return 0;
}
