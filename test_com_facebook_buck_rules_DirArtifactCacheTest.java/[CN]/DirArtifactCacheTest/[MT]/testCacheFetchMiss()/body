{
  File cacheDir=tmpDir.newFolder();
  File fileX=tmpDir.newFile("x");
  dirArtifactCache=new DirArtifactCache(cacheDir,true,Optional.of(0L));
  Files.write("x",fileX,Charsets.UTF_8);
  BuildRule inputRuleX=new BuildRuleForTest(fileX);
  RuleKey ruleKeyX=RuleKey.builder(inputRuleX,fileHashCache).build().getTotalRuleKey();
  assertEquals(CacheResult.MISS,dirArtifactCache.fetch(ruleKeyX,fileX));
}
