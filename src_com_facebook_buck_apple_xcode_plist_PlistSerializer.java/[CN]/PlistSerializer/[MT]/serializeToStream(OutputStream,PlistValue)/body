{
  Transformer transformer;
  try {
    transformer=TransformerFactory.newInstance().newTransformer();
  }
 catch (  TransformerConfigurationException e) {
    throw new RuntimeException(e);
  }
  Document document=serializeToXML(value);
  DOMSource source=new DOMSource(document);
  StreamResult result=new StreamResult(stream);
  try {
    transformer.transform(source,result);
  }
 catch (  TransformerException e) {
    throw new RuntimeException(e);
  }
}
