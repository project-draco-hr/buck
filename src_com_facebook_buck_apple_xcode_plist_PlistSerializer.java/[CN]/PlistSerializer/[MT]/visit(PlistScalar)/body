{
  Element elem;
switch (scalar.getType()) {
case STRING:
    elem=doc.createElement("string");
  elem.appendChild(doc.createTextNode(scalar.getStringValue()));
return elem;
case INTEGER:
elem=doc.createElement("integer");
elem.appendChild(doc.createTextNode(Integer.toString(scalar.getIntValue())));
return elem;
case BOOLEAN:
return doc.createElement(scalar.getBooleanValue() ? "true" : "false");
default :
throw new RuntimeException("Unhandled scalar type: " + scalar.getType());
}
}
