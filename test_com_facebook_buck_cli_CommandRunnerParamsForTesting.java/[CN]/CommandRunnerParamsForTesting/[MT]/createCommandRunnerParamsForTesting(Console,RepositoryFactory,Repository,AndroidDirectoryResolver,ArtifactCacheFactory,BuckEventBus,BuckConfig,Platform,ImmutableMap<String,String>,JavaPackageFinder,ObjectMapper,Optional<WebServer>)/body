{
  ParserConfig parserConfig=new ParserConfig(config);
  PythonBuckConfig pythonBuckConfig=new PythonBuckConfig(config,new ExecutableFinder());
  return new CommandRunnerParams(console,repository,Main.createAndroidPlatformTargetSupplier(androidDirectoryResolver,new FakeBuckConfig(),eventBus),artifactCacheFactory,eventBus,Parser.createParser(repositoryFactory,pythonBuckConfig.getPythonInterpreter(),parserConfig.getAllowEmptyGlobs(),parserConfig.getEnforceBuckPackageBoundary(),parserConfig.getTempFilePatterns(),parserConfig.getBuildFileName(),parserConfig.getDefaultIncludes(),new RuleKeyBuilderFactory(){
    @Override public RuleKey.Builder newInstance(    BuildRule buildRule,    SourcePathResolver resolver){
      return RuleKey.builder(buildRule,resolver,new NullFileHashCache());
    }
  }
),platform,environment,javaPackageFinder,objectMapper,new DefaultClock(),Optional.<ProcessManager>absent(),webServer);
}
