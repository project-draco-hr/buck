{
  ImmutableMap.Builder<Path,SourcePath> libs=ImmutableMap.builder();
  if (!headerOnly && linkage != Linkage.STATIC) {
    String sharedLibrarySoname=soname.or(CxxDescriptionEnhancer.getSharedLibrarySoname(getBuildTarget(),cxxPlatform));
    BuildRule sharedLibraryBuildRule=CxxDescriptionEnhancer.requireBuildRule(params,ruleResolver,cxxPlatform.getFlavor(),CxxDescriptionEnhancer.SHARED_FLAVOR);
    libs.put(Paths.get(sharedLibrarySoname),new BuildTargetSourcePath(sharedLibraryBuildRule.getProjectFilesystem(),sharedLibraryBuildRule.getBuildTarget()));
  }
  return PythonPackageComponents.of(ImmutableMap.<Path,SourcePath>of(),ImmutableMap.<Path,SourcePath>of(),libs.build());
}
