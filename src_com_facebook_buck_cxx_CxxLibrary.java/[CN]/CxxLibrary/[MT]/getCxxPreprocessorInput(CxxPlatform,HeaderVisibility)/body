{
  BuildRule rule=CxxDescriptionEnhancer.requireBuildRule(params,ruleResolver,cxxPlatform.getFlavor(),CxxDescriptionEnhancer.getHeaderSymlinkTreeFlavor(headerVisibility));
  Preconditions.checkState(rule instanceof SymlinkTree);
  SymlinkTree symlinkTree=(SymlinkTree)rule;
  return CxxPreprocessorInput.builder().addRules(symlinkTree.getBuildTarget()).putAllPreprocessorFlags(exportedPreprocessorFlags.apply(cxxPlatform)).setIncludes(CxxHeaders.builder().putAllNameToPathMap(symlinkTree.getLinks()).putAllFullNameToPathMap(symlinkTree.getFullLinks()).build()).addIncludeRoots(symlinkTree.getRoot()).addAllFrameworkRoots(frameworkSearchPaths).build();
}
