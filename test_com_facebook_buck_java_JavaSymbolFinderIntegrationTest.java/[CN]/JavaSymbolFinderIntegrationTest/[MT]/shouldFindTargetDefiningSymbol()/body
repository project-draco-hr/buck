{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"symbol_finder",temporaryFolder);
  workspace.setUp();
  ProjectFilesystem projectFilesystem=new ProjectFilesystem(temporaryFolder.getRootPath());
  BuckConfig config=BuckConfig.createFromFiles(projectFilesystem,ImmutableList.of(projectFilesystem.getFileForRelativePath(".buckconfig")),Platform.detect(),ImmutableMap.copyOf(System.getenv()));
  ParserConfig parserConfig=new ParserConfig(config);
  PythonBuckConfig pythonBuckConfig=new PythonBuckConfig(config,new ExecutableFinder());
  ImmutableSet<Description<?>> allDescriptions=DefaultKnownBuildRuleTypes.getDefaultKnownBuildRuleTypes(projectFilesystem).getAllDescriptions();
  SrcRootsFinder srcRootsFinder=new SrcRootsFinder(projectFilesystem);
  ProjectBuildFileParserFactory projectBuildFileParserFactory=new DefaultProjectBuildFileParserFactory(projectFilesystem.getRootPath(),pythonBuckConfig.getPythonInterpreter(),parserConfig.getAllowEmptyGlobs(),parserConfig.getBuildFileName(),parserConfig.getDefaultIncludes(),allDescriptions);
  BuckEventBus buckEventBus=BuckEventBusFactory.newInstance();
  JavaSymbolFinder finder=new JavaSymbolFinder(projectFilesystem,srcRootsFinder,DEFAULT_JAVAC_OPTIONS,projectBuildFileParserFactory,config,buckEventBus,new TestConsole(),ImmutableMap.copyOf(System.getenv()));
  SetMultimap<String,BuildTarget> foundTargets=finder.findTargetsForSymbols(ImmutableSet.of("com.example.a.A"));
  assertEquals("JavaSymbolFinder failed to find the right target.",ImmutableSetMultimap.of("com.example.a.A",BuildTarget.builder("//java/com/example/a","a").build()),foundTargets);
}
