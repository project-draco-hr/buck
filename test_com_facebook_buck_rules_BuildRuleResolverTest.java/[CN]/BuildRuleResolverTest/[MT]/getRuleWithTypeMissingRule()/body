{
  BuildRuleResolver resolver=new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer());
  expectedException.expect(HumanReadableException.class);
  expectedException.expectMessage(Matchers.containsString("could not be resolved"));
  resolver.getRuleWithType(BuildTargetFactory.newInstance("//:non-existent"),BuildRule.class);
}
