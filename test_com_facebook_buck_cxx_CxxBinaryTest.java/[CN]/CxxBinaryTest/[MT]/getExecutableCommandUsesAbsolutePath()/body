{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  SourcePathResolver pathResolver=new SourcePathResolver(ruleResolver);
  BuildRuleParams linkParams=new FakeBuildRuleParamsBuilder("//:link").build();
  Path bin=Paths.get("path/to/exectuable");
  CxxLink cxxLink=ruleResolver.addToIndex(new CxxLink(linkParams,pathResolver,CxxPlatformUtils.DEFAULT_PLATFORM.getLd(),bin,ImmutableList.<Arg>of(),ImmutableSet.<Path>of(),CxxPlatformUtils.DEFAULT_PLATFORM.getDebugPathSanitizer()));
  BuildRuleParams params=new FakeBuildRuleParamsBuilder("//:target").build();
  CxxBinary binary=ruleResolver.addToIndex(new CxxBinary(params,ruleResolver,pathResolver,bin,cxxLink,new CommandTool.Builder().addArg(new BuildTargetSourcePath(cxxLink.getBuildTarget())).build(),ImmutableSortedSet.<FrameworkPath>of(),ImmutableList.<BuildTarget>of()));
  ImmutableList<String> command=binary.getExecutableCommand().getCommandPrefix(pathResolver);
  assertTrue(Paths.get(command.get(0)).isAbsolute());
}
