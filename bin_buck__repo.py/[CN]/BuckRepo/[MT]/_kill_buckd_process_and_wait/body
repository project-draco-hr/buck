def _kill_buckd_process_and_wait(self, buckd_pid):
    try:
        print('Killing existing buckd process.', file=sys.stderr)
        os.kill(buckd_pid, signal.SIGTERM)
        print('Waiting for existing buckd process to exit.', file=sys.stderr)
        for count in range(100):
            time.sleep(0.1)
            os.kill(buckd_pid, signal.SIG_DFL)
        else:
            raise BuckRepoException('Could not kill existing buck process after 10 seconds!')
    except OSError as e:
        if (e.errno != errno.ESRCH):
            raise
