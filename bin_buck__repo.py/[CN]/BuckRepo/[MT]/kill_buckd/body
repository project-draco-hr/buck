def kill_buckd(self):
    with Tracing('BuckRepo.kill_buckd'):
        buckd_port = self._buck_project.get_buckd_port()
        buckd_pid = self._buck_project.get_buckd_pid()
        if (buckd_port and buckd_pid):
            if (not buckd_port.isdigit()):
                print("WARNING: Corrupt buckd port: '{0}'.".format(buckd_port))
            if (not buckd_pid.isdigit()):
                print("WARNING: Corrupt buckd pid: '{0}'.".format(buckd_pid))
            if (buckd_port.isdigit() and buckd_pid.isdigit()):
                print('Shutting down nailgun server...', file=sys.stderr)
                command = [self._buck_client_file]
                command.append('ng-stop')
                command.append('--nailgun-port')
                command.append(buckd_port)
                try:
                    subprocess.check_call(command, cwd=self._buck_project.root, stdout=DEV_NULL, stderr=DEV_NULL)
                except subprocess.CalledProcessError as e:
                    if ((e.returncode != NAILGUN_CONNECTION_REFUSED_CODE) and (e.returncode != NAILGUN_CONNECTION_BROKEN_CODE)):
                        raise
        self._buck_project.clean_up_buckd()
