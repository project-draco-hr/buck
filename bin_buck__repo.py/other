from __future__ import print_function
import errno
import os
import pty
import re
import socket
import signal
import subprocess
import sys
import tempfile
import textwrap
import time
JAVA_CLASSPATHS = ['src', 'build/abi_processor/classes', 'build/classes', 'build/dx_classes', 'lib/args4j-2.0.28.jar', 'lib/ddmlib-22.5.3.jar', 'lib/guava-15.0.jar', 'lib/ini4j-0.5.2.jar', 'lib/jackson-annotations-2.0.5.jar', 'lib/jackson-core-2.0.5.jar', 'lib/jackson-databind-2.0.5.jar', 'lib/jsr305.jar', 'lib/nailgun-server-0.9.2-SNAPSHOT.jar', 'lib/sdklib.jar', 'third-party/java/asm/asm-debug-all-4.1.jar', 'third-party/java/astyanax/astyanax-cassandra-1.56.38.jar', 'third-party/java/astyanax/astyanax-core-1.56.38.jar', 'third-party/java/astyanax/astyanax-thrift-1.56.38.jar', 'third-party/java/astyanax/cassandra-1.2.3.jar', 'third-party/java/astyanax/cassandra-thrift-1.2.3.jar', 'third-party/java/astyanax/commons-cli-1.1.jar', 'third-party/java/astyanax/commons-codec-1.2.jar', 'third-party/java/astyanax/commons-lang-2.6.jar', 'third-party/java/astyanax/high-scale-lib-1.1.2.jar', 'third-party/java/astyanax/joda-time-2.2.jar', 'third-party/java/astyanax/libthrift-0.7.0.jar', 'third-party/java/astyanax/log4j-1.2.16.jar', 'third-party/java/astyanax/slf4j-api-1.7.2.jar', 'third-party/java/astyanax/slf4j-log4j12-1.7.2.jar', 'third-party/java/closure-templates/soy-2012-12-21-no-guava.jar', 'third-party/java/gson/gson-2.2.4.jar', 'third-party/java/eclipse/org.eclipse.core.contenttype_3.4.200.v20130326-1255.jar', 'third-party/java/eclipse/org.eclipse.core.jobs_3.5.300.v20130429-1813.jar', 'third-party/java/eclipse/org.eclipse.core.resources_3.8.101.v20130717-0806.jar', 'third-party/java/eclipse/org.eclipse.core.runtime_3.9.100.v20131218-1515.jar', 'third-party/java/eclipse/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar', 'third-party/java/eclipse/org.eclipse.equinox.preferences_3.5.100.v20130422-1538.jar', 'third-party/java/eclipse/org.eclipse.jdt.core_3.9.2.v20140114-1555.jar', 'third-party/java/eclipse/org.eclipse.osgi_3.9.1.v20140110-1610.jar', 'third-party/java/dd-plist/dd-plist.jar', 'third-party/java/jetty/jetty-all-9.0.4.v20130625.jar', 'third-party/java/jetty/servlet-api.jar', 'third-party/java/xz-java-1.3/xz-1.3.jar', 'third-party/java/commons-compress/commons-compress-1.8.1.jar']
BUCK_DIR_JAVA_ARGS = {'testrunner_classes': 'build/testrunner/classes', 'abi_processor_classes': 'build/abi_processor/classes', 'path_to_emma_jar': 'third-party/java/emma-2.0.5312/out/emma-2.0.5312.jar', 'path_to_asm_jar': 'third-party/java/asm/asm-debug-all-4.1.jar', 'logging_config_file': 'config/logging.properties', 'path_to_python_interp': 'bin/jython', 'path_to_buck_py': 'src/com/facebook/buck/parser/buck.py', 'path_to_compile_asset_catalogs_py': 'src/com/facebook/buck/apple/compile_asset_catalogs.py', 'path_to_compile_asset_catalogs_build_phase_sh': 'src/com/facebook/buck/apple/compile_asset_catalogs_build_phase.sh', 'path_to_intellij_py': 'src/com/facebook/buck/command/intellij.py', 'path_to_jacoco_jars': 'third-party/java/jacoco-0.6.4/out', 'path_to_static_content': 'webserver/static', 'path_to_pex': 'src/com/facebook/buck/python/pex.py', 'quickstart_origin_dir': 'src/com/facebook/buck/cli/quickstart/android', 'dx': 'third-party/java/dx-from-kitkat/etc/dx', 'android_agent_path': 'assets/android/agent.apk', }
MAX_BUCKD_RUN_COUNT = 64
BUCKD_CLIENT_TIMEOUT_MILLIS = 60000
GC_MAX_PAUSE_TARGET = 15000
BUCKD_LOG_FILE_PATTERN = re.compile('^NGServer.* port (\\d+)\\.$')
DEV_NULL = open(os.devnull, 'w')
