{
  while (shouldWaitForWork()) {
    try (BuildTargetProcessingScope processingScope=startProcessingBuildTarget()){
      if (permState.hasCachedTargetNodeForBuildTarget(processingScope.getBuildTarget())) {
        continue;
      }
      TargetNode<?> node;
      try (SimplePerfEvent.Scope scope=Parser.getTargetNodeEventScope(eventBus,processingScope.getBuildTarget())){
        try {
          node=getTargetNode(processingScope.getBuildTarget());
        }
 catch (        BuildFileParseException|BuildTargetException|IOException e) {
          abortDoingMoreWork();
          return;
        }
      }
       processingScope.addDepsToProcess(FluentIterable.from(node.getDeps()).filter(permState.getHasCachedTargetNodeForBuildTargetPredicate()).toSet());
    }
 catch (    TimeoutException e) {
      continue;
    }
catch (    InterruptedException e) {
      abortDoingMoreWork();
      return;
    }
  }
}
