{
  super(hashCache,pathResolver,new Function<Pair<RuleKeyBuilder,BuildRule>,RuleKeyBuilder>(){
    @Override public RuleKeyBuilder apply(    Pair<RuleKeyBuilder,BuildRule> input){
      Preconditions.checkArgument(input.getSecond() instanceof AbiRule,String.format("Expected an AbiRule, but '%s' was a '%s'.",input.getSecond().getBuildTarget().getFullyQualifiedName(),input.getSecond().getType()));
      AbiRule abiRule=(AbiRule)input.getSecond();
      return input.getFirst().setReflectively("buck.deps",abiRule.getAbiKeyForDeps());
    }
  }
);
}
