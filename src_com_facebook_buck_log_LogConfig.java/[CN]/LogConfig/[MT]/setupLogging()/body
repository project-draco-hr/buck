{
  Files.createDirectories(BuckConstant.LOG_PATH);
  deleteOldLogFiles();
  ImmutableList.Builder<InputStream> inputStreamsBuilder=ImmutableList.builder();
  if (!LogConfigPaths.MAIN_PATH.isPresent()) {
    System.err.format("Error: Couldn't read system property %s (it should be set by buck_common or buck.cmd)\n",LogConfigPaths.BUCK_CONFIG_FILE_PROPERTY);
  }
 else {
    if (!addInputStreamForPath(LogConfigPaths.MAIN_PATH.get(),inputStreamsBuilder)) {
      System.err.format("Error: Couldn't open logging properties file %s\n",LogConfigPaths.MAIN_PATH.get());
    }
  }
  addInputStreamForPath(LogConfigPaths.PROJECT_PATH,inputStreamsBuilder);
  addInputStreamForPath(LogConfigPaths.LOCAL_PATH,inputStreamsBuilder);
  try (InputStream is=new SequenceInputStream(Iterators.asEnumeration(inputStreamsBuilder.build().iterator()))){
    LogManager.getLogManager().readConfiguration(is);
  }
 }
