{
  return new Callable<TestResults>(){
    @Override public TestResults call() throws Exception {
      Set<String> testClassNames=getClassNamesForSources();
      if (testClassNames.isEmpty()) {
        return TestResults.getEmptyTestResults();
      }
      File outputDirectory=new File(getPathToTestOutput());
      List<TestCaseSummary> summaries=Lists.newArrayListWithCapacity(testClassNames.size());
      for (      String testClass : testClassNames) {
        File testResultFile=new File(outputDirectory,testClass + ".xml");
        TestCaseSummary summary=XmlTestResultParser.parse(testResultFile);
        summaries.add(summary);
      }
      return new TestResults(summaries);
    }
  }
;
}
