{
  SortedSet<HasJavaAbi> rulesWithAbiToConsider=Sets.newTreeSet(BUILD_TARGET_COMPARATOR);
  for (  BuildRule dep : getDeps()) {
    if (dep.getBuildable() instanceof HasJavaAbi || dep instanceof HasJavaAbi) {
      if (dep.getBuildable() instanceof JavaLibraryRule) {
        JavaLibraryRule javaRule=(JavaLibraryRule)dep.getBuildable();
        rulesWithAbiToConsider.addAll(javaRule.getOutputClasspathEntries().keys());
      }
 else {
        rulesWithAbiToConsider.add((HasJavaAbi)dep);
      }
    }
  }
  return rulesWithAbiToConsider;
}
