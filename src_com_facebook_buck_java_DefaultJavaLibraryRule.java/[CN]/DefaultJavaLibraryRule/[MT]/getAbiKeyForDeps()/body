{
  SortedSet<JavaLibraryRule> rulesWithAbiToConsider=Sets.newTreeSet();
  for (  BuildRule dep : getDeps()) {
    if (dep instanceof JavaLibraryRule) {
      JavaLibraryRule javaRule=(JavaLibraryRule)dep;
      rulesWithAbiToConsider.addAll(javaRule.getOutputClasspathEntries().keys());
    }
  }
  Hasher hasher=Hashing.sha1().newHasher();
  for (  JavaLibraryRule ruleWithAbiToConsider : rulesWithAbiToConsider) {
    if (ruleWithAbiToConsider == this) {
      continue;
    }
    Sha1HashCode abiKey=ruleWithAbiToConsider.getAbiKey();
    hasher.putUnencodedChars(abiKey.getHash());
  }
  return new Sha1HashCode(hasher.hash().toString());
}
