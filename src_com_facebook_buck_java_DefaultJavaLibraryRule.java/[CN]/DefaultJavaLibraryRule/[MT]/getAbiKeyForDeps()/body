{
  Hasher hasher=Hashing.sha1().newHasher();
  for (  BuildRule dep : getDeclaredClasspathEntries().keys()) {
    if (dep == this) {
      continue;
    }
    if (dep instanceof JavaLibraryRule) {
      JavaLibraryRule javaRule=(JavaLibraryRule)dep;
      Optional<Sha1HashCode> abiKey=javaRule.getAbiKey();
      if (!abiKey.isPresent()) {
        return Optional.absent();
      }
      hasher.putString(abiKey.get().getHash());
    }
  }
  return Optional.of(new Sha1HashCode(hasher.hash().toString()));
}
