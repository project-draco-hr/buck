{
  this.buildTarget=Preconditions.checkNotNull(buildTarget);
  this.pathToMetadataDirectory=BuildInfo.getPathToMetadataDirectory(buildTarget);
  this.projectFilesystem=Preconditions.checkNotNull(projectFilesystem);
  this.metadataToWrite=Maps.newHashMap();
  metadataToWrite.put(BuildInfo.METADATA_KEY_FOR_RULE_KEY,Preconditions.checkNotNull(ruleKey).toString());
  metadataToWrite.put(BuildInfo.METADATA_KEY_FOR_RULE_KEY_WITHOUT_DEPS,Preconditions.checkNotNull(rukeKeyWithoutDeps).toString());
  this.ruleKey=ruleKey;
  this.pathsToOutputFiles=Sets.newHashSet();
  this.pathsToOutputDirectories=Sets.newHashSet();
  this.directoryTraverser=directoryTraverser;
}
