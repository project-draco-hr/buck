{
  Callable<BuildRuleSuccess> callable=new Callable<BuildRuleSuccess>(){
    @Override public BuildRuleSuccess call() throws Exception {
      AbstractCachingBuildRule buildRule=AbstractCachingBuildRule.this;
      List<Step> steps=buildInternal(context);
      StepRunner stepRunner=context.getCommandRunner();
      for (      Step command : steps) {
        stepRunner.runStep(command);
      }
      resetOutputKey();
      buildRule.writeSuccessFile();
      return new BuildRuleSuccess(buildRule);
    }
  }
;
  return context.getCommandRunner().getListeningExecutorService().submit(callable);
}
