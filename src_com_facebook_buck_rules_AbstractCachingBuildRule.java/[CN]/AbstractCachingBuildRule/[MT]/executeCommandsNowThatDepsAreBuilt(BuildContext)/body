{
  Callable<BuildRuleSuccess> callable=new Callable<BuildRuleSuccess>(){
    @Override public BuildRuleSuccess call() throws Exception {
      AbstractCachingBuildRule buildRule=AbstractCachingBuildRule.this;
      List<Command> commands=buildInternal(context);
      CommandRunner commandRunner=context.getCommandRunner();
      for (      Command command : commands) {
        commandRunner.runCommand(command);
      }
      buildRule.writeSuccessFile();
      return new BuildRuleSuccess(buildRule);
    }
  }
;
  return context.getCommandRunner().getListeningExecutorService().submit(callable);
}
