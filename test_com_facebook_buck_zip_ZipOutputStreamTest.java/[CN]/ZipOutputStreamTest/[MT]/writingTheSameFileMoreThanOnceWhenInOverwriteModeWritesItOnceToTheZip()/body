{
  try (CustomZipOutputStream out=ZipOutputStreams.newOutputStream(output,OVERWRITE_EXISTING)){
    ZipEntry entry=new ZipEntry("example.txt");
    out.putNextEntry(entry);
    out.write("cheese".getBytes());
    out.putNextEntry(entry);
    out.write("cake".getBytes());
  }
   List<String> names=Lists.newArrayList();
  try (ZipInputStream in=new ZipInputStream(new FileInputStream(output))){
    for (ZipEntry entry=in.getNextEntry(); entry != null; entry=in.getNextEntry()) {
      assertEquals("example.txt",entry.getName());
      names.add(entry.getName());
      String out=CharStreams.toString(new InputStreamReader(in));
      assertEquals("cake",out);
    }
  }
   assertEquals(1,names.size());
}
