{
  try (CustomZipOutputStream out=ZipOutputStreams.newOutputStream(output,APPEND_TO_ZIP)){
    ZipEntry entry=new ZipEntry("example.txt");
    out.putNextEntry(entry);
    out.write("cheese".getBytes());
    out.putNextEntry(entry);
    out.write("cake".getBytes());
  }
   List<String> names=Lists.newArrayList();
  try (ZipInputStream in=new ZipInputStream(Files.newInputStream(output))){
    for (ZipEntry entry=in.getNextEntry(); entry != null; entry=in.getNextEntry()) {
      names.add(entry.getName());
    }
  }
   assertEquals(ImmutableList.of("example.txt","example.txt"),names);
}
