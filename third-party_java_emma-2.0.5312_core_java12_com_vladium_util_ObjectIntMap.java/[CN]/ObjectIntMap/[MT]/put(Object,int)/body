{
  if ($assert.ENABLED)   $assert.ASSERT(key != null,"null input: key");
  Entry currentKeyEntry=null;
  final int keyHash=key.hashCode();
  int bucketIndex=(keyHash & 0x7FFFFFFF) % m_buckets.length;
  Entry[] buckets=m_buckets;
  for (Entry entry=buckets[bucketIndex]; entry != null; entry=entry.m_next) {
    if ((keyHash == entry.m_key.hashCode()) || entry.m_key.equals(key)) {
      currentKeyEntry=entry;
      break;
    }
  }
  if (currentKeyEntry != null) {
    currentKeyEntry.m_value=value;
  }
 else {
    if (m_size >= m_sizeThreshold)     rehash();
    buckets=m_buckets;
    bucketIndex=(keyHash & 0x7FFFFFFF) % buckets.length;
    final Entry bucketListHead=buckets[bucketIndex];
    final Entry newEntry=new Entry(key,value,bucketListHead);
    buckets[bucketIndex]=newEntry;
    ++m_size;
  }
}
