{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"publish",tmp);
  workspace.setUp();
  ProjectWorkspace.ProcessResult result=workspace.runBuckCommand("publish",PublishCommand.REMOTE_REPO_SHORT_ARG,publisher.getHttpd().getRootUri().toString(),"//:foo");
  result.assertSuccess();
  List<String> putRequestsPaths=publisher.getPutRequestsHandler().getPutRequestsPaths();
  assertThat(putRequestsPaths,hasItem(EXPECTED_PUT_URL_PATH));
  assertThat(putRequestsPaths,hasItem(EXPECTED_PUT_URL_PATH + ".sha1"));
}
