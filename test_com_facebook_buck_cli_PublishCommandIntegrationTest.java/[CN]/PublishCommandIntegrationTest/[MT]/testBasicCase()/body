{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"publish",tmp);
  workspace.setUp();
  ProjectWorkspace.ProcessResult result=workspace.runBuckCommand("publish",PublishCommand.INCLUDE_SOURCE_LONG_ARG,PublishCommand.REMOTE_REPO_SHORT_ARG,publisher.getHttpd().getRootUri().toString(),"//:foo");
  result.assertSuccess();
  List<String> putRequestsPaths=publisher.getPutRequestsHandler().getPutRequestsPaths();
  assertThat(putRequestsPaths,hasItem(EXPECTED_PUT_URL_PATH_BASE + JAR));
  assertThat(putRequestsPaths,hasItem(EXPECTED_PUT_URL_PATH_BASE + JAR + SHA1));
  assertThat(putRequestsPaths,hasItem(EXPECTED_PUT_URL_PATH_BASE + SRC_JAR));
  assertThat(putRequestsPaths,hasItem(EXPECTED_PUT_URL_PATH_BASE + SRC_JAR + SHA1));
}
