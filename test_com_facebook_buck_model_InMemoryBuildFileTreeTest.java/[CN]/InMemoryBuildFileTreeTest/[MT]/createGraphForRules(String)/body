{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  ImmutableSet.Builder<BuildTarget> targetsBuilder=ImmutableSet.builder();
  for (  String ruleName : ruleNames) {
    BuildTarget buildTarget=BuildTargetFactory.newInstance(ruleName);
    JavaLibraryBuilder.createBuilder(buildTarget).build(ruleResolver);
    targetsBuilder.add(buildTarget);
  }
  PartialGraph partialGraph=EasyMock.createMock(PartialGraph.class);
  EasyMock.expect(partialGraph.getTargets()).andReturn(targetsBuilder.build());
  EasyMock.replay(partialGraph);
  return partialGraph;
}
