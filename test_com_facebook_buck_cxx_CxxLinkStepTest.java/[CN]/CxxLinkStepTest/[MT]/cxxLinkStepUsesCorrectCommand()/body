{
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  ExecutionContext context=TestExecutionContext.newBuilder().setProjectFilesystem(projectFilesystem).build();
  ImmutableList<String> linker=ImmutableList.of("linker");
  Path output=Paths.get("output");
  ImmutableList<String> args=ImmutableList.of("-rpath","hello","a.o","libb.a");
  Path frameworkRoot=Paths.get("/System/Frameworks");
  CxxLinkStep cxxLinkStep=new CxxLinkStep(linker,output,args,ImmutableSet.of(frameworkRoot));
  ImmutableList<String> expected=ImmutableList.<String>builder().addAll(linker).add("-o",output.toString()).add("-F",frameworkRoot.toString()).addAll(args).build();
  ImmutableList<String> actual=cxxLinkStep.getShellCommand(context);
  assertEquals(expected,actual);
}
