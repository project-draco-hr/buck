{
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  ExecutionContext context=TestExecutionContext.newBuilder().setProjectFilesystem(projectFilesystem).build();
  ImmutableList<String> linker=ImmutableList.of("linker");
  Path output=Paths.get("output");
  ImmutableList<String> args=ImmutableList.of("-rpath","hello","a.o","libb.a");
  CxxLinkStep cxxLinkStep=new CxxLinkStep(linker,output,args);
  ImmutableList<String> expected=ImmutableList.<String>builder().addAll(linker).add("-o",output.toString()).addAll(args).build();
  ImmutableList<String> actual=cxxLinkStep.getShellCommand(context);
  assertEquals(expected,actual);
}
