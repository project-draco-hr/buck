{
  super(buildRuleParams);
  Preconditions.checkArgument(!sources.isEmpty(),"Must include at least one file (Android.mk?) in ndk_library rule");
  this.sources=ImmutableSortedSet.copyOf(sources);
  String basePathWithSlash=buildRuleParams.getBuildTarget().getBasePathWithSlash();
  Preconditions.checkArgument(basePathWithSlash.endsWith("/"));
  this.makefileDirectory=basePathWithSlash;
  this.buildArtifactsDirectory=String.format("%s/%s__lib%s/",BuckConstant.GEN_DIR,basePathWithSlash,getBuildTarget().getShortName());
  this.flags=ImmutableList.copyOf(flags);
}
