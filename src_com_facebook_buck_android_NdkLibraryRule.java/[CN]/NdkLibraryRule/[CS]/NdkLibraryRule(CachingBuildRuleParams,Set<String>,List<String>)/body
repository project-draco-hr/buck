{
  super(cachingBuildRuleParams);
  Preconditions.checkArgument(!sources.isEmpty(),"Must include at least one file (Android.mk?) in ndk_library rule");
  this.sources=ImmutableSortedSet.copyOf(sources);
  String basePathWithSlash=cachingBuildRuleParams.getBuildTarget().getBasePathWithSlash();
  Preconditions.checkArgument(basePathWithSlash.endsWith("/"));
  this.makefileDirectory=basePathWithSlash;
  this.buildArtifactsDirectory=String.format("%s/%s",BuckConstant.GEN_DIR,basePathWithSlash);
  this.flags=ImmutableList.copyOf(flags);
}
