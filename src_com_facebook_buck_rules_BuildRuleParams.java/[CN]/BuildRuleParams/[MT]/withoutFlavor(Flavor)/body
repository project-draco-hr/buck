{
  Set<Flavor> flavors=Sets.newHashSet(getBuildTarget().getFlavors());
  Preconditions.checkArgument(flavors.contains(flavor));
  flavors.remove(flavor);
  BuildTarget target=BuildTarget.builder(getBuildTarget().getUnflavoredBuildTarget()).addAllFlavors(flavors).build();
  return copyWithChanges(target,Suppliers.ofInstance(getDeclaredDeps()),Suppliers.ofInstance(getExtraDeps()));
}
