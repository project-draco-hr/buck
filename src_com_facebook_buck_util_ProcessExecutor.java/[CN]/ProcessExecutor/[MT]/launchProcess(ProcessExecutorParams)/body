{
  ProcessBuilder pb=new ProcessBuilder(params.getCommand());
  if (params.getDirectory().isPresent()) {
    pb.directory(params.getDirectory().get());
  }
  if (params.getEnvironment().isPresent()) {
    pb.environment().clear();
    pb.environment().putAll(params.getEnvironment().get());
  }
  if (params.getRedirectInput().isPresent()) {
    pb.redirectInput(params.getRedirectInput().get());
  }
  if (params.getRedirectOutput().isPresent()) {
    pb.redirectOutput(params.getRedirectOutput().get());
  }
  if (params.getRedirectError().isPresent()) {
    pb.redirectError(params.getRedirectError().get());
  }
  return pb.start();
}
