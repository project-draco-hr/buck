def _select_from(self, parent_path, is_dir, exists, listdir):
    if (not is_dir(parent_path)):
        return
    cf = parent_path._flavour.casefold
    for name in listdir(parent_path):
        casefolded = cf(name)
        if self.pat.match(casefolded):
            path = parent_path._make_child_relpath(name)
            for p in self.successor._select_from(path, is_dir, exists, listdir):
                yield p
