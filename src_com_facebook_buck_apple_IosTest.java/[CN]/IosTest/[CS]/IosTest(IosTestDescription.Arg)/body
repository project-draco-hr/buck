{
  infoPlist=Preconditions.checkNotNull(arg.infoPlist);
  configurations=XcodeRuleConfiguration.fromRawJsonStructure(arg.configs);
  headers=Preconditions.checkNotNull(arg.headers);
  frameworks=Preconditions.checkNotNull(arg.frameworks);
  sourceUnderTest=Preconditions.checkNotNull(arg.sourceUnderTest);
  ImmutableSortedSet.Builder<SourcePath> srcsBuilder=ImmutableSortedSet.naturalOrder();
  ImmutableMap.Builder<SourcePath,String> perFileCompileFlagsBuilder=ImmutableMap.builder();
  ImmutableList.Builder<GroupedSource> groupedSourcesBuilder=ImmutableList.builder();
  RuleUtils.extractSourcePaths(srcsBuilder,perFileCompileFlagsBuilder,groupedSourcesBuilder,arg.srcs);
  srcs=srcsBuilder.build();
  perFileCompilerFlags=perFileCompileFlagsBuilder.build();
  groupedSrcs=groupedSourcesBuilder.build();
}
