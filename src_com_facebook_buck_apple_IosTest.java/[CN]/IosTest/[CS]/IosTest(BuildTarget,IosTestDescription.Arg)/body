{
  super(target);
  infoPlist=Preconditions.checkNotNull(arg.infoPlist);
  configurations=XcodeRuleConfiguration.fromRawJsonStructure(arg.configs);
  frameworks=Preconditions.checkNotNull(arg.frameworks);
  sourceUnderTest=Preconditions.checkNotNull(arg.sourceUnderTest);
  Optional<String> argTestType=Preconditions.checkNotNull(arg.testType);
  testType=IosTestType.fromString(argTestType.or("octest"));
  ImmutableList.Builder<GroupedSource> srcsBuilder=ImmutableList.builder();
  ImmutableMap.Builder<SourcePath,String> perFileFlagsBuilder=ImmutableMap.builder();
  RuleUtils.extractSourcePaths(srcsBuilder,perFileFlagsBuilder,arg.srcs);
  srcs=srcsBuilder.build();
  perFileFlags=perFileFlagsBuilder.build();
}
