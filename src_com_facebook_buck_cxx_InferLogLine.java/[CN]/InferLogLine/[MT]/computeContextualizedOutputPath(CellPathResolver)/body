{
  int tokenPos=output.indexOf(CELL_TOKEN_SUFFIX);
  if (tokenPos < 0) {
    return cellPathResolver.getCellPath(Optional.<String>absent()).resolve(Paths.get(output));
  }
 else   if (tokenPos == 0) {
    throw new IOException("malformed input");
  }
 else {
    String cellName=output.substring(0,tokenPos);
    String outputWithoutCellToken=output.substring(tokenPos + CELL_TOKEN_SUFFIX.length());
    Path outputPath=Paths.get(outputWithoutCellToken);
    Path cellPath=cellPathResolver.getCellPath(Optional.of(cellName));
    return cellPath.resolve(outputPath);
  }
}
