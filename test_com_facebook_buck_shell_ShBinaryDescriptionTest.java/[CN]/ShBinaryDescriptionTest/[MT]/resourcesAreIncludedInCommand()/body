{
  BuildRuleResolver resolver=new BuildRuleResolver();
  TestSourcePath main=new TestSourcePath("main.sh");
  TestSourcePath resource=new TestSourcePath("resource.dat");
  ShBinary shBinary=(ShBinary)new ShBinaryBuilder(BuildTargetFactory.newInstance("//:rule")).setMain(main).setResources(ImmutableSet.<SourcePath>of(resource)).build(resolver);
  assertThat(shBinary.getExecutableCommand().getInputs(),Matchers.hasItem(resource));
}
