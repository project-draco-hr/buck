{
  BuildRuleResolver resolver=new BuildRuleResolver();
  TestSourcePath main=new TestSourcePath("main.sh");
  ShBinary shBinary=(ShBinary)new ShBinaryBuilder(BuildTargetFactory.newInstance("//:rule")).setMain(main).build(resolver);
  assertThat(shBinary.getExecutableCommand().getInputs(),Matchers.hasItem(main));
}
