{
  ImmutableList.Builder<SourcePath> inputs=ImmutableList.builder();
  inputs.addAll(preprocessor.getInputs());
  if (prefixHeader.isPresent()) {
    inputs.add(prefixHeader.get());
  }
  ImmutableMultimap<String,SourcePath> pathToSourcePathMap;
  try {
    pathToSourcePathMap=Multimaps.index(CxxHeaders.concat(includes).getFullNameToPathMap().values(),Functions.compose(Functions.toStringFunction(),resolver.getRelativePathFunction()));
  }
 catch (  CxxHeaders.ConflictingHeadersException e) {
    throw Throwables.propagate(e);
  }
  for (  String line : depFileLines) {
    inputs.addAll(pathToSourcePathMap.get(line));
  }
  return inputs.build();
}
