{
  FakeProcess fakeSimctlLaunchProcess=new FakeProcess(0,"com.facebook.MyNeatApp: 42","");
  ProcessExecutorParams fakeSimctlLaunchParams=ProcessExecutorParams.builder().setCommand(ImmutableList.of("xcrun","simctl","launch","-w","70200ED8-EEF1-4BDB-BCCF-3595B137D67D","com.facebook.MyNeatApp")).build();
  FakeProcessExecutor fakeProcessExecutor=new FakeProcessExecutor(ImmutableMap.of(fakeSimctlLaunchParams,fakeSimctlLaunchProcess));
  Optional<Long> launchedPID=AppleSimulatorRunning.launchInstalledBundleInSimulator(fakeProcessExecutor,"70200ED8-EEF1-4BDB-BCCF-3595B137D67D","com.facebook.MyNeatApp",true);
  assertThat(launchedPID,is(equalTo(Optional.of(42L))));
}
