{
  AssumeAndroidPlatform.assumeSdkIsAvailable();
  AssumeAndroidPlatform.assumeNdkIsAvailable();
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(new AndroidBinaryIntegrationTest(),"android_instrumentation_apk_integration_test",tmpFolder);
  workspace.setUp();
  workspace.runBuckCommand("build","//:app_cxx_lib_dep").assertSuccess();
  ZipInspector zipInspector=new ZipInspector(workspace.getPath("buck-out/gen/app_cxx_lib_dep.apk"));
  zipInspector.assertFileExists("lib/armeabi/libcxx.so");
  zipInspector.assertFileExists("lib/armeabi/libgnustl_shared.so");
  zipInspector.assertFileExists("lib/armeabi-v7a/libcxx.so");
  zipInspector.assertFileExists("lib/armeabi-v7a/libgnustl_shared.so");
  zipInspector.assertFileExists("lib/x86/libcxx.so");
  zipInspector.assertFileExists("lib/x86/libgnustl_shared.so");
}
