{
  BuildTarget buildTarget=new BuildTarget("//android/java/src","resources");
  DefaultJavaLibrary javaRule=new DefaultJavaLibrary(new FakeBuildRuleParams(buildTarget),ImmutableSet.<Path>of(),ImmutableSet.<SourcePath>of(new FileSourcePath("android/java/src/com/facebook/base/data.json"),new FileSourcePath("android/java/src/com/facebook/common/util/data.json")),Optional.<Path>absent(),ImmutableList.<String>of(),ImmutableSortedSet.<BuildRule>of(),ImmutableSet.<String>of(),JavacOptions.DEFAULTS);
  ImmutableList.Builder<Step> commands=ImmutableList.builder();
  JavaPackageFinder javaPackageFinder=createJavaPackageFinder();
  javaRule.addResourceCommands(stubContext,commands,BIN_PATH.resolve("android/java/src/lib__resources__classes"),javaPackageFinder);
  List<? extends Step> expected=ImmutableList.of(new MkdirAndSymlinkFileStep(Paths.get("android/java/src/com/facebook/base/data.json"),BIN_PATH.resolve("android/java/src/lib__resources__classes/com/facebook/base/data.json")),new MkdirAndSymlinkFileStep(Paths.get("android/java/src/com/facebook/common/util/data.json"),BIN_PATH.resolve("android/java/src/lib__resources__classes/com/facebook/common/util/data.json")));
  assertEquals(expected,commands.build());
  MoreAsserts.assertListEquals(expected,commands.build());
}
