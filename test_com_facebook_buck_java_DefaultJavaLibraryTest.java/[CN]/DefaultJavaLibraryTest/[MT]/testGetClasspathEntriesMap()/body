{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  BuildTarget libraryOneTarget=BuildTargetFactory.newInstance("//:libone");
  BuildRule libraryOne=JavaLibraryBuilder.createBuilder(libraryOneTarget).addSrc(Paths.get("java/src/com/libone/Bar.java")).build(ruleResolver);
  BuildTarget libraryTwoTarget=BuildTargetFactory.newInstance("//:libtwo");
  BuildRule libraryTwo=JavaLibraryBuilder.createBuilder(libraryTwoTarget).addSrc(Paths.get("java/src/com/libtwo/Foo.java")).addDep(libraryOne).build(ruleResolver);
  BuildTarget parentTarget=BuildTargetFactory.newInstance("//:parent");
  BuildRule parent=JavaLibraryBuilder.createBuilder(parentTarget).addSrc(Paths.get("java/src/com/parent/Meh.java")).addDep(libraryTwo).build(ruleResolver);
  assertEquals(ImmutableSetMultimap.of(libraryOne.getBuildable(),"buck-out/gen/lib__libone__output/libone.jar",libraryTwo.getBuildable(),"buck-out/gen/lib__libtwo__output/libtwo.jar",parent.getBuildable(),"buck-out/gen/lib__parent__output/parent.jar"),((HasClasspathEntries)parent.getBuildable()).getTransitiveClasspathEntries());
}
