{
  ProjectFilesystem projectFilesystem=new ProjectFilesystem(tmp.getRoot());
  BuildRule javaLibrary=createJavaLibraryRule(projectFilesystem);
  buildContext=createBuildContext(javaLibrary,null,projectFilesystem);
  List<Step> steps=javaLibrary.getBuildSteps(buildContext,new FakeBuildableContext());
  JavacInMemoryStep javacCommand=lastJavacCommand(steps);
  executionContext=TestExecutionContext.newBuilder().setProjectFilesystem(projectFilesystem).setConsole(new Console(Verbosity.SILENT,System.out,System.err,Ansi.withoutTty())).setDebugEnabled(true).build();
  ImmutableList<String> options=javacCommand.getOptions(executionContext,ImmutableSet.<Path>of());
  return options;
}
