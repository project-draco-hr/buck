{
  Map<String,Map<String,String>> sections=new HashMap<>();
  Map<String,String> javaSection=new HashMap<>();
  javaSection.put("thrift_library","//thrift:lib");
  sections.put("java",javaSection);
  FakeBuckConfig buckConfig=new FakeBuckConfig(sections);
  BuildRuleFactoryParams buildRuleFactoryParams=new BuildRuleFactoryParams(new HashMap<String,Object>(),new FakeProjectFilesystem(),createMock(BuildTargetParser.class),BuildTarget.builder("//test","test").build(),createMock(RuleKeyBuilderFactory.class));
  JavaThriftLibraryDescription description=new JavaThriftLibraryDescription(JavaCompilerEnvironment.DEFAULT,new JavaBuckConfig(buckConfig));
  assertEquals("Configured java thrift library is not a dep",ImmutableSet.of("//thrift:lib"),description.findDepsFromParams(buildRuleFactoryParams));
}
