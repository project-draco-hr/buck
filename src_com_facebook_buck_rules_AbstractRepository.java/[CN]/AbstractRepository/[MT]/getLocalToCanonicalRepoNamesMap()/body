{
  ImmutableMap.Builder<Optional<String>,Optional<String>> builder=ImmutableMap.builder();
  builder.put(Optional.<String>absent(),getName());
  ImmutableMap<String,Path> localNamePaths=getBuckConfig().getRepositoryPaths();
  ImmutableMap<Path,Optional<String>> canonicalPathNames=getRepositoryFactory().getCanonicalPathNames();
  for (  String localName : localNamePaths.keySet()) {
    Path canonicalPath=localNamePaths.get(localName);
    Optional<String> canonicalName=canonicalPathNames.get(canonicalPath);
    Preconditions.checkNotNull(canonicalName);
    builder.put(Optional.of(localName),canonicalName);
  }
  return builder.build();
}
