{
  ImmutableList.Builder<Step> steps=ImmutableList.builder();
  steps.add(new MakeCleanDirectoryStep(output.getParent()));
  steps.add(new ShellStep(){
    @Override public String getShortName(){
      return "bundle_react_native";
    }
    @Override protected ImmutableList<String> getShellCommandInternal(    ExecutionContext context){
      ProjectFilesystem filesystem=context.getProjectFilesystem();
      return ImmutableList.of(getResolver().getPath(jsPackager).toString(),"bundle","--entry-file",filesystem.resolve(getResolver().getPath(entryPath)).toString(),"--platform",platform.toString(),"--dev",isDevMode ? "true" : "false","--bundle-output",filesystem.resolve(output).toString());
    }
  }
);
  buildableContext.recordArtifact(output);
  return steps.build();
}
