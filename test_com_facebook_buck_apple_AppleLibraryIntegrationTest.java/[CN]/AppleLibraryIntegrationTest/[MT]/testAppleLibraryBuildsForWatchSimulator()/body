{
  assumeTrue(AppleNativeIntegrationTestUtils.isApplePlatformAvailable(ApplePlatform.builder().setName(ApplePlatform.Name.WATCHSIMULATOR).build()));
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"apple_library_builds_something",tmp);
  workspace.setUp();
  ProjectWorkspace.ProcessResult result=workspace.runBuckCommand("build","//Libraries/TestLibrary:TestLibrary#watchsimulator-i386,static");
  result.assertSuccess();
  assertTrue(Files.exists(tmp.getRootPath().resolve(BuckConstant.GEN_DIR)));
}
