{
  DirectoryTraversal impl=new DirectoryTraversal(file){
    @Override public void visit(    File file,    String relativePath) throws IOException {
      traversal.visit(new FileLikeInDirectory(file,relativePath));
    }
  }
;
  impl.traverse();
}
