{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"xcode_workspace_with_tests",tmp);
  workspace.setUp();
  ProcessResult result=workspace.runBuckCommand("targets","--show-target-hash","--detect-test-changes","//workspace:workspace");
  result.assertSuccess();
  String hash=parseAndVerifyTargetAndHash("//workspace:workspace",result.getStdout());
  String fileName="test/Test.m";
  Files.write("// This is not a test\n".getBytes(Charsets.UTF_8),workspace.getFile(fileName));
  ProcessResult result2=workspace.runBuckCommand("targets","--show-target-hash","--detect-test-changes","//workspace:workspace");
  result2.assertSuccess();
  String hash2=parseAndVerifyTargetAndHash("//workspace:workspace",result2.getStdout());
  assertNotEquals(hash,hash2);
}
