{
  if (object instanceof Collection) {
    Collection<?> collection=(Collection<?>)object;
    ImmutableList.Builder<XcodeRuleConfigurationLayer> layers=ImmutableList.builder();
    for (    Object element : collection) {
      layers.add(layerTypeCoercer.coerce(buildTargetParser,filesystem,pathRelativeToProjectRoot,element));
    }
    return new XcodeRuleConfiguration(layers.build());
  }
 else   if (object instanceof Map) {
    return new XcodeRuleConfiguration(ImmutableList.of(layerTypeCoercer.coerce(buildTargetParser,filesystem,pathRelativeToProjectRoot,object)));
  }
 else {
    throw CoerceFailedException.simple(object,getOutputClass(),"input object should be a collection or a map");
  }
}
