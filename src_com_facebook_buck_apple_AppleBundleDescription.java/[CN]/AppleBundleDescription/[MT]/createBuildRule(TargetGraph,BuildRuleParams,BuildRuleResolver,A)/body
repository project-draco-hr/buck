{
  Optional<AppleBundle.DebugInfoFormat> flavoredDebugInfoFormat;
  try {
    flavoredDebugInfoFormat=AppleBundle.DEBUG_INFO_FORMAT_FLAVOR_DOMAIN.getValue(ImmutableSet.copyOf(params.getBuildTarget().getFlavors()));
  }
 catch (  FlavorDomainException e) {
    throw new HumanReadableException("%s: %s",params.getBuildTarget(),e.getMessage());
  }
  return AppleDescriptions.createAppleBundle(cxxPlatformFlavorDomain,defaultCxxPlatform,platformFlavorsToAppleCxxPlatforms,targetGraph,params,resolver,codeSignIdentityStore,provisioningProfileStore,args.binary,args.extension,args.productName,args.infoPlist,args.infoPlistSubstitutions,args.deps.get(),args.getTests(),flavoredDebugInfoFormat.or(defaultDebugInfoFormat));
}
