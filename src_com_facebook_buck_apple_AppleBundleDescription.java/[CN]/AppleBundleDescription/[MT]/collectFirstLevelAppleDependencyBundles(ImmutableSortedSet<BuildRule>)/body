{
  ImmutableSet.Builder<SourcePath> extensionBundlePaths=ImmutableSet.builder();
  for (  BuildRule rule : deps) {
    if (rule instanceof AppleBundle) {
      AppleBundle appleBundle=(AppleBundle)rule;
      if (AppleBundleExtension.APPEX.toFileExtension().equals(appleBundle.getExtension()) || AppleBundleExtension.APP.toFileExtension().equals(appleBundle.getExtension())) {
        Path outputPath=Preconditions.checkNotNull(appleBundle.getPathToOutput(),"Path cannot be null for AppleBundle [%s].",appleBundle);
        SourcePath sourcePath=new BuildTargetSourcePath(appleBundle.getBuildTarget(),outputPath);
        extensionBundlePaths.add(sourcePath);
      }
    }
  }
  return extensionBundlePaths.build();
}
