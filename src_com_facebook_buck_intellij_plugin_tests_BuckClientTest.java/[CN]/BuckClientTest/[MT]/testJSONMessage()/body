{
  String msg="{\"timestamp\":1444139582383,\"nanoTime\":6792657544005," + "\"threadId\":190,\"buildId\":\"668d2288-c853-4de1-81dc-f307c7df045e\"," + "\"eventKey\":{\"value\":12326},\"buildArgs\":[\"sometarget\"],"+ "\"type\":\"BuildStarted\"}";
  TestQueue queue=new TestQueue();
  BuckEventHandler handler=new BuckEventHandler(queue,new Runnable(){
    @Override public void run(){
    }
  }
,new Runnable(){
    @Override public void run(){
    }
  }
);
  BuckClient client=new BuckClient(1234,handler);
  BuckSocket socket=new BuckSocket(handler);
  client.setSocket(socket);
  client.connect();
  socket.onMessage(msg);
  BuckEventInterface event=queue.getLastEvent();
  assertTrue(event instanceof BuckEventBuildStart);
}
