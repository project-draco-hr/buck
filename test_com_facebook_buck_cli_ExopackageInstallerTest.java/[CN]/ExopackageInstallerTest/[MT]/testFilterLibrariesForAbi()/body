{
  Path libsDir=Paths.get("example/libs");
  ImmutableMultimap<String,Path> allLibs=ImmutableMultimap.of(Strings.repeat("a",40),libsDir.resolve("armeabi-v7a").resolve("libmy1.so"),Strings.repeat("b",40),libsDir.resolve("armeabi-v7a").resolve("libmy2.so"),Strings.repeat("c",40),libsDir.resolve("armeabi").resolve("libmy2.so"),Strings.repeat("d",40),libsDir.resolve("armeabi").resolve("libmy3.so"),Strings.repeat("e",40),libsDir.resolve("x86").resolve("libmy1.so"));
  assertEquals(ImmutableSet.of(Strings.repeat("a",40),Strings.repeat("b",40)),ExopackageInstaller.filterLibrariesForAbi(libsDir,allLibs,"armeabi-v7a",ImmutableSet.<String>of()).keySet());
  assertEquals(ImmutableSet.of(Strings.repeat("d",40)),ExopackageInstaller.filterLibrariesForAbi(libsDir,allLibs,"armeabi",ImmutableSet.of("libmy1.so","libmy2.so")).keySet());
}
