{
  return ExecutionContext.builder().setConsole(new TestConsole()).setProjectFilesystem(new ProjectFilesystem(new File(".")){
    @Override public Path resolve(    Path path){
      return path;
    }
    @Override public Function<Path,Path> getAbsolutifier(){
      return IdentityPathAbsolutifier.getIdentityAbsolutifier();
    }
  }
).setEventBus(BuckEventBusFactory.newInstance()).setPlatform(Platform.detect()).setEnvironment(ImmutableMap.copyOf(System.getenv())).setJavaPackageFinder(new FakeJavaPackageFinder()).setObjectMapper(new ObjectMapper());
}
