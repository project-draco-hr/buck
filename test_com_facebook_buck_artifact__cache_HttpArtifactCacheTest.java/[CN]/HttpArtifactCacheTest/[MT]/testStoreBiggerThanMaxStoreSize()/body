{
  final RuleKey ruleKey=new RuleKey("00000000000000000000000000000000");
  final String data="data";
  FakeProjectFilesystem filesystem=new FakeProjectFilesystem();
  Path output=Paths.get("output/file");
  filesystem.writeContentsToPath(data,output);
  System.out.println(filesystem.getFileSize(output));
  HttpArtifactCache cache=new HttpArtifactCache("http",fetchService,storeService,true,filesystem,BUCK_EVENT_BUS,DIRECT_EXECUTOR_SERVICE,ERROR_TEXT_TEMPLATE,Optional.of(2L)){
    @Override protected HttpResponse storeCall(    Request.Builder requestBuilder) throws IOException {
      fail("should not have called store");
      throw new IllegalStateException();
    }
  }
;
  cache.storeImpl(ImmutableSet.of(ruleKey),ImmutableMap.<String,String>of(),output,createFinishedEventBuilder());
  cache.close();
}
