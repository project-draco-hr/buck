{
  SourcePathResolver pathResolver=new SourcePathResolver(new BuildRuleResolver());
  ExportFileDescription.Arg args=new ExportFileDescription().createUnpopulatedConstructorArg();
  args.src=Optional.of((SourcePath)new TestSourcePath("chips"));
  args.out=Optional.of("cake");
  ExportFile exportFile=new ExportFile(new FakeBuildRuleParamsBuilder(target).build(),pathResolver,args);
  assertIterablesEquals(singleton(Paths.get("chips")),exportFile.getInputsToCompareToOutput());
  FakeBuildRule rule=new FakeBuildRule(ExportFileDescription.TYPE,BuildTargetFactory.newInstance("//example:one"),pathResolver);
  args.src=Optional.of((SourcePath)new BuildTargetSourcePath(rule.getBuildTarget()));
  exportFile=new ExportFile(new FakeBuildRuleParamsBuilder(target).build(),pathResolver,args);
  assertTrue(Iterables.isEmpty(exportFile.getInputsToCompareToOutput()));
  args.src=Optional.absent();
  exportFile=new ExportFile(new FakeBuildRuleParamsBuilder(target).build(),pathResolver,args);
  assertIterablesEquals(singleton(Paths.get("example.html")),exportFile.getInputsToCompareToOutput());
}
