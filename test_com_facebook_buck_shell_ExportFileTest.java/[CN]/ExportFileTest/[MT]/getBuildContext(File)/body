{
  return ImmutableBuildContext.builder().setProjectFilesystem(new ProjectFilesystem(root.toPath())).setArtifactCache(EasyMock.createMock(ArtifactCache.class)).setEventBus(BuckEventBusFactory.newInstance()).setClock(new DefaultClock()).setBuildId(new BuildId()).setJavaPackageFinder(new JavaPackageFinder(){
    @Override public String findJavaPackageFolderForPath(    String pathRelativeToProjectRoot){
      return null;
    }
    @Override public String findJavaPackageForPath(    String pathRelativeToProjectRoot){
      return null;
    }
  }
).setActionGraph(new ActionGraph(new MutableDirectedGraph<BuildRule>())).setStepRunner(new StepRunner(){
    @Override public void runStep(    Step step) throws StepFailedException {
    }
    @Override public void runStepForBuildTarget(    Step step,    BuildTarget buildTarget) throws StepFailedException {
    }
    @Override public <T>ListenableFuture<T> runStepsAndYieldResult(    List<Step> steps,    Callable<T> interpretResults,    BuildTarget buildTarget){
      return null;
    }
    @Override public void runStepsInParallelAndWait(    List<Step> steps) throws StepFailedException {
    }
    @Override public <T>ListenableFuture<Void> addCallback(    ListenableFuture<List<T>> allBuiltDeps,    FutureCallback<List<T>> futureCallback){
      return Futures.immediateFuture(null);
    }
  }
).build();
}
