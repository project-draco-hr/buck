{
  FakeProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  FileHashCache fileHashCache=new DefaultFileHashCache(projectFilesystem);
  SourcePathResolver resolver=new SourcePathResolver(new BuildRuleResolver(TargetGraph.EMPTY,new DefaultTargetNodeToBuildRuleTransformer()));
  return new UncachedRuleKeyBuilder(resolver,new DefaultFileHashCache(projectFilesystem),new DefaultRuleKeyBuilderFactory(0,fileHashCache,resolver));
}
