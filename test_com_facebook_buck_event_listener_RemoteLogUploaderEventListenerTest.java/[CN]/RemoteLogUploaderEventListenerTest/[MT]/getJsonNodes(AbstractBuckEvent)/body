{
  TestRemoteLogger logger=new TestRemoteLogger();
  RemoteLogUploaderEventListener eventListener=new RemoteLogUploaderEventListener(objectMapper,logger,BUILD_ENVIRONMENT_DESCRIPTION);
  EventBus eventBus=new EventBus();
  eventBus.register(eventListener);
  AbstractBuckEvent configuredEvent=configureTestEvent(event);
  eventBus.post(configuredEvent);
  return FluentIterable.from(logger.loggedEntries).transform(new Function<String,JsonNode>(){
    @Override public JsonNode apply(    String input){
      try {
        return objectMapper.readTree(input);
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
);
}
