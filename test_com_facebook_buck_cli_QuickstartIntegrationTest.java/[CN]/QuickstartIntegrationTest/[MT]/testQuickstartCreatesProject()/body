{
  AssumeAndroidPlatform.assumeSdkIsAvailable();
  ProjectWorkspace quickstartWorkspace=TestDataHelper.createProjectWorkspaceForScenario(this,"empty_project",quickstartDirectory);
  quickstartWorkspace.setUp();
  ProcessResult result=quickstartWorkspace.runBuckCommand("quickstart","--dest-dir",destDir.getRoot().getAbsolutePath()).assertSuccess();
  ProjectWorkspace destinationWorkspace=TestDataHelper.createProjectWorkspaceForScenario(this,"quickstart_expected_project",destDir);
  destinationWorkspace.setUp();
  destinationWorkspace.verify();
  File readme=new File(destDir.getRoot(),"README.md");
  assertTrue("`buck quickstart` should create a README file.",readme.isFile());
  assertEquals("`buck quickstart` should output the contents of the README file to standard output.",Files.toString(readme,StandardCharsets.UTF_8),result.getStdout());
  File localProp=new File(destDir.getRoot(),"local.properties");
  Properties prop=new Properties();
  prop.load(new FileInputStream(localProp));
  assertTrue("`buck quickstart` should create a local.properties file.",localProp.isFile());
  String androidSdk=prop.getProperty("sdk.dir");
  assertTrue("`buck quickstart` should put the Android SDK in the local.properties file.",androidSdk != null && new File(androidSdk).isDirectory());
  result=destinationWorkspace.runBuckCommand("targets").assertSuccess();
  assertEquals("`buck targets` should display a list of targets.",Joiner.on('\n').join("//apps/myapp:app","//apps/myapp:debug_keystore","//apps/myapp:project_config","//java/com/example/activity:activity","//java/com/example/activity:project_config","//res/com/example/activity:project_config","//res/com/example/activity:res") + "\n",result.getStdout());
  destinationWorkspace.runBuckCommand("build","app").assertSuccess();
  File buckOut=destinationWorkspace.getFile("buck-out");
  assertTrue("`buck build` should create a buck-out directory.",buckOut.isDirectory());
}
