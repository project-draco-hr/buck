{
  final Path dest=MorePaths.absolutify(MorePaths.newPathInstance(destDir));
  if (dest.toFile().exists()) {
    MoreFiles.rmdir(dest);
  }
  Files.createDirectories(dest);
  new DirectoryTraversal(new File(srcDir)){
    @Override public void visit(    File srcFile,    String relativePath) throws IOException {
      if (pred.apply(srcFile)) {
        Path destPath=dest.resolve(relativePath);
        Files.createDirectories(destPath.getParent());
        Files.copy(srcFile.toPath(),destPath);
      }
    }
  }
.traverse();
}
