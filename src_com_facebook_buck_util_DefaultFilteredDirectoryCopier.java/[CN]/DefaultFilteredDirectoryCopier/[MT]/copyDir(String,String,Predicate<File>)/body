{
  final File dest=new File(destDir);
  if (dest.exists()) {
    MoreFiles.rmdir(dest.getAbsolutePath());
  }
  dest.mkdirs();
  new DirectoryTraversal(new File(srcDir)){
    @Override public void visit(    File srcFile,    String relativePath) throws IOException {
      if (pred.apply(srcFile)) {
        File destFile=new File(dest,relativePath);
        Files.createParentDirs(destFile);
        Files.copy(srcFile,destFile);
      }
    }
  }
.traverse();
}
