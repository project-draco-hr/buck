{
  MacroReplacer macroReplacer=new MacroReplacer(){
    @Override public String replace(    String input) throws MacroException {
      List<String> parts=Splitter.on('.').limit(2).splitToList(input);
      if (parts.size() != 2) {
        throw new HumanReadableException("references must have the form `<section>.<field>`, but was '%s'",input);
      }
      return get(parts.get(0),parts.get(1),expandStack).or("");
    }
  }
;
  try {
    return MACRO_FINDER.replace(ImmutableMap.of("config",macroReplacer,"exe",getMacroPreserver("exe"),"location",getMacroPreserver("location")),input);
  }
 catch (  MacroException e) {
    throw new HumanReadableException(e,e.getMessage());
  }
}
