{
  ImmutableList.Builder<Step> steps=ImmutableList.builder();
  steps.add(new MakeCleanDirectoryStep(outputDirectory));
  for (  Path dir : dirs) {
    steps.add(CopyStep.forDirectory(dir,outputDirectory,CopyStep.DirectoryMode.DIRECTORY_AND_CONTENTS));
  }
  for (  SourcePath file : files) {
    Path path=getResolver().getPath(file);
    steps.add(CopyStep.forFile(path,outputDirectory.resolve(path.getFileName())));
  }
  return steps.build();
}
