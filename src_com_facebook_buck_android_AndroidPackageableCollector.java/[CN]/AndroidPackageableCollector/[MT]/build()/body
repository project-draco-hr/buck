{
  final ImmutableSet<HasJavaClassHashes> javaClassProviders=javaClassHashesProviders.build();
  Supplier<Map<String,HashCode>> classNamesToHashesSupplier=Suppliers.memoize(new Supplier<Map<String,HashCode>>(){
    @Override public Map<String,HashCode> get(){
      ImmutableMap.Builder<String,HashCode> builder=ImmutableMap.builder();
      for (      HasJavaClassHashes hasJavaClassHashes : javaClassProviders) {
        builder.putAll(hasJavaClassHashes.getClassNamesToHashes());
      }
      return builder.build();
    }
  }
);
  ImmutableList.Builder<BuildTarget> resourcesWithEmptyResButNonEmptyAssetsDir=ImmutableList.builder();
  ImmutableSet<BuildTarget> resources=ImmutableSet.copyOf(resourcesWithNonEmptyResDir.build());
  for (  BuildTarget buildTarget : resourcesWithAssets.build()) {
    if (!resources.contains(buildTarget)) {
      resourcesWithEmptyResButNonEmptyAssetsDir.add(buildTarget);
    }
  }
  final ImmutableSet<String> knownRDotJavaPackages=rDotJavaPackages.build();
  final ImmutableCollection<Supplier<String>> knownRDotJavaPackageSuppliers=rDotJavaPackageSuppliers.build();
  boolean hasRDotJavaPackages=!knownRDotJavaPackages.isEmpty() || !knownRDotJavaPackageSuppliers.isEmpty();
  Supplier<ImmutableSet<String>> rDotJavaPackagesSupplier=Suppliers.memoize(new Supplier<ImmutableSet<String>>(){
    @Override public ImmutableSet<String> get(){
      ImmutableSet.Builder<String> allRDotJavaPackages=ImmutableSet.builder();
      allRDotJavaPackages.addAll(knownRDotJavaPackages);
      for (      Supplier<String> supplier : knownRDotJavaPackageSuppliers) {
        allRDotJavaPackages.add(supplier.get());
      }
      return allRDotJavaPackages.build();
    }
  }
);
  return new AndroidPackageableCollection(new AndroidPackageableCollection.ResourceDetails(resourceDirectories.build().reverse(),whitelistedStringDirectories.build(),rDotJavaPackagesSupplier,hasRDotJavaPackages,resourcesWithNonEmptyResDir.build().reverse(),resourcesWithEmptyResButNonEmptyAssetsDir.build().reverse()),nativeLibsTargets.build(),nativeLibsDirectories.build(),nativeLibAssetsDirectories.build(),assetsDirectories.build(),manifestFiles.build(),proguardConfigs.build(),classpathEntriesToDex.build(),noDxClasspathEntries.build(),ImmutableMap.copyOf(buildConfigs),pathsToThirdPartyJars.build(),FluentIterable.from(javaClassProviders).transform(BuildTarget.TO_TARGET).toSet(),classNamesToHashesSupplier);
}
