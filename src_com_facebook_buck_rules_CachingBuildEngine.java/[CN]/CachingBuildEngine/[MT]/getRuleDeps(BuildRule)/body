{
  ListenableFuture<ImmutableSortedSet<BuildRule>> deps=ruleDeps.get(rule.getBuildTarget());
  if (deps == null) {
    deps=service.submit(new Callable<ImmutableSortedSet<BuildRule>>(){
      @Override public ImmutableSortedSet<BuildRule> call() throws Exception {
        return rule.getDeps();
      }
    }
);
  }
  return deps;
}
