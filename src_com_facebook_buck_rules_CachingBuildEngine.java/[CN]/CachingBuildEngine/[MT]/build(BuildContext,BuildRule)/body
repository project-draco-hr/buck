{
  List<ListenableFuture<Void>> asyncJobs=Lists.newArrayListWithCapacity(rule.getDeps().size());
  final ListenableFuture<BuildResult> result=buildInternal(context,rule,asyncJobs);
  return Futures.transform(Futures.allAsList(asyncJobs),new AsyncFunction<List<Void>,BuildResult>(){
    @Override public ListenableFuture<BuildResult> apply(    List<Void> input) throws Exception {
      return result;
    }
  }
);
}
