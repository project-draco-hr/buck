{
  List<ListenableFuture<Void>> asyncJobs=Lists.newArrayListWithCapacity(rule.getDeps().size());
  final ListenableFuture<BuildRuleSuccess> result=buildInternal(context,rule,asyncJobs);
  return Futures.transform(Futures.allAsList(asyncJobs),new AsyncFunction<List<Void>,BuildRuleSuccess>(){
    @Override public ListenableFuture<BuildRuleSuccess> apply(    List<Void> input) throws Exception {
      return result;
    }
  }
);
}
