{
  SourcePathResolver pathResolver=new SourcePathResolver(ruleResolver);
  DefaultRuleKeyBuilderFactory defaultRuleKeyBuilderFactory=new DefaultRuleKeyBuilderFactory(fileHashCache,pathResolver);
  return new RuleKeyFactories(defaultRuleKeyBuilderFactory,new InputBasedRuleKeyBuilderFactory(fileHashCache,pathResolver),new AbiRuleKeyBuilderFactory(fileHashCache,pathResolver,defaultRuleKeyBuilderFactory),new DefaultDependencyFileRuleKeyBuilderFactory(fileHashCache,pathResolver));
}
