{
  SourcePathResolver pathResolver=new SourcePathResolver(ruleResolver);
  DefaultRuleKeyBuilderFactory defaultRuleKeyBuilderFactory=new DefaultRuleKeyBuilderFactory(fileHashCache,pathResolver);
  return new RuleKeyFactories(defaultRuleKeyBuilderFactory,new InputBasedRuleKeyBuilderFactory(fileHashCache,pathResolver,defaultRuleKeyBuilderFactory),new AbiRuleKeyBuilderFactory(fileHashCache,pathResolver,defaultRuleKeyBuilderFactory),new DependencyFileRuleKeyBuilderFactory(fileHashCache,pathResolver,defaultRuleKeyBuilderFactory));
}
