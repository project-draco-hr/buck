{
  Path srcPath=Paths.get("src");
  IjFolder sourceFolder=new SourceFolder(srcPath,false,ImmutableSortedSet.<Path>of(Paths.get("Source.java")));
  IjFolder testFolder=new TestFolder(srcPath,false,ImmutableSortedSet.<Path>of(Paths.get("Test.java")));
  IjFolder excludeFolder=new ExcludeFolder(srcPath);
  assertEquals("Merging the folder with itself is that folder.",sourceFolder,sourceFolder.merge(sourceFolder));
  assertEquals("Merging the folder with itself is that folder.",testFolder,testFolder.merge(testFolder));
  IjFolder mergedSourceAndTest=new SourceFolder(srcPath,false,ImmutableSortedSet.of(Paths.get("Source.java"),Paths.get("Test.java")));
  assertEquals("Merging prod with test means test is promoted to prod.",mergedSourceAndTest,testFolder.merge(sourceFolder));
  assertEquals("Merging prod with test means test is promoted to prod in either order.",mergedSourceAndTest,sourceFolder.merge(testFolder));
  assertEquals("Merging the folder with itself is that folder.",excludeFolder,excludeFolder.merge(excludeFolder));
}
