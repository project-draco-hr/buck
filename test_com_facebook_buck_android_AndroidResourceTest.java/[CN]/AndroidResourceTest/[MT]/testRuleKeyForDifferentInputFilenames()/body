{
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  SourcePathResolver pathResolver=new SourcePathResolver(new BuildRuleResolver());
  String commonHash=Strings.repeat("a",40);
  FakeFileHashCache fakeFileHashCache=FakeFileHashCache.createFromStrings(ImmutableMap.of("java/src/com/facebook/base/res/drawable/A.xml",commonHash,"java/src/com/facebook/base/assets/drawable/B.xml",Strings.repeat("b",40),"java/src/com/facebook/base/res/drawable/C.xml",commonHash,"java/src/com/facebook/base/AndroidManifest.xml",Strings.repeat("d",40)));
  BuildTarget buildTarget=BuildTargetFactory.newInstance("//java/src/com/facebook/base:res");
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(buildTarget).setFileHashCache(fakeFileHashCache).build();
  AndroidResource androidResource1=AndroidResourceRuleBuilder.newBuilder().setResolver(pathResolver).setBuildRuleParams(params).setRes(new TestSourcePath("java/src/com/facebook/base/res")).setResSrcs(ImmutableSortedSet.of(new TestSourcePath(params.getProjectFilesystem(),"java/src/com/facebook/base/res/drawable/A.xml"))).setRDotJavaPackage("com.facebook").setAssets(new TestSourcePath("java/src/com/facebook/base/assets")).setAssetsSrcs(ImmutableSortedSet.of(new TestSourcePath(params.getProjectFilesystem(),"java/src/com/facebook/base/assets/drawable/B.xml"))).setManifest(new PathSourcePath(projectFilesystem,Paths.get("java/src/com/facebook/base/AndroidManifest.xml"))).build();
  AndroidResource androidResource2=AndroidResourceRuleBuilder.newBuilder().setResolver(pathResolver).setBuildRuleParams(params).setRes(new TestSourcePath("java/src/com/facebook/base/res")).setResSrcs(ImmutableSortedSet.of(new TestSourcePath(params.getProjectFilesystem(),"java/src/com/facebook/base/res/drawable/C.xml"))).setRDotJavaPackage("com.facebook").setAssets(new TestSourcePath("java/src/com/facebook/base/assets")).setAssetsSrcs(ImmutableSortedSet.of(new TestSourcePath(params.getProjectFilesystem(),"java/src/com/facebook/base/assets/drawable/B.xml"))).setManifest(new PathSourcePath(projectFilesystem,Paths.get("java/src/com/facebook/base/AndroidManifest.xml"))).build();
  DefaultRuleKeyBuilderFactory factory=new DefaultRuleKeyBuilderFactory(FakeFileHashCache.createFromStrings(ImmutableMap.of("java/src/com/facebook/base/AndroidManifest.xml","bbbbbbbbbb","java/src/com/facebook/base/assets/drawable/A.xml","cccccccccccc","java/src/com/facebook/base/assets/drawable/B.xml","aaaaaaaaaaaa","java/src/com/facebook/base/res/drawable/A.xml","dddddddddd","java/src/com/facebook/base/res/drawable/C.xml","eeeeeeeeee")),pathResolver);
  RuleKey ruleKey1=factory.build(androidResource1);
  RuleKey ruleKey2=factory.build(androidResource2);
  assertNotEquals("The two android_resource rules should have different rule keys.",ruleKey1,ruleKey2);
}
