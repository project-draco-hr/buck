{
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  AndroidResource androidResource=new AndroidResource(new FakeBuildRuleParamsBuilder("//foo:bar").build(),new SourcePathResolver(new BuildRuleResolver()),ImmutableSortedSet.<BuildRule>of(),new TestSourcePath("foo/res"),ImmutableSortedSet.of(Paths.get("foo/res/values/strings.xml")),null,null,ImmutableSortedSet.<Path>of(),new PathSourcePath(projectFilesystem,Paths.get("foo/AndroidManifest.xml")),false,Optional.<Supplier<Sha1HashCode>>absent());
  FakeOnDiskBuildInfo onDiskBuildInfo=new FakeOnDiskBuildInfo();
  onDiskBuildInfo.putMetadata(AndroidResource.METADATA_KEY_FOR_ABI,Strings.repeat("a",40));
  onDiskBuildInfo.putMetadata(AndroidResource.METADATA_KEY_FOR_R_DOT_JAVA_PACKAGE,"com.ex.pkg");
  androidResource.initializeFromDisk(onDiskBuildInfo);
  assertEquals("com.ex.pkg",androidResource.getRDotJavaPackage());
}
