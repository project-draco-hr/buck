{
  BuildRuleResolver resolver=new BuildRuleResolver();
  BuildRule dep=new FakeBuildRule(BuildRuleParamsFactory.createTrivialBuildRuleParams(BuildTargetFactory.newInstance("//:fake")));
  BuildTarget target=BuildTargetFactory.newInstance("//:archive");
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(BuildTargetFactory.newInstance("//:dummy")).setDeps(ImmutableSortedSet.of(dep)).build();
  CxxLink cxxLink=CxxLinkableEnhancer.createCxxLinkableBuildRule(params,resolver,DEFAULT_LINKER,ImmutableList.<String>of(),ImmutableList.<String>of(),target,DEFAULT_OUTPUT,DEFAULT_INPUTS,EMPTY_DEPS);
  assertEquals(cxxLink.getDeps(),ImmutableSortedSet.<BuildRule>of());
}
