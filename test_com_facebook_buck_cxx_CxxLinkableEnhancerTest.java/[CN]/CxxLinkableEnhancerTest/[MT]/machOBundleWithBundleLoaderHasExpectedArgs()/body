{
  BuildRuleResolver resolver=new BuildRuleResolver();
  BuildTarget target=BuildTargetFactory.newInstance("//foo:bar");
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(target).build();
  CxxLink cxxLink=CxxLinkableEnhancer.createCxxLinkableBuildRule(TargetGraph.EMPTY,CXX_PLATFORM,params,new SourcePathResolver(resolver),ImmutableList.<String>of(),target,Linker.LinkType.MACH_O_BUNDLE,Optional.<String>absent(),DEFAULT_OUTPUT,ImmutableList.<SourcePath>of(new TestSourcePath("simple.o")),ImmutableList.<SourcePath>of(),Linker.LinkableDepType.STATIC,EMPTY_DEPS,Optional.<Linker.CxxRuntimeType>absent(),Optional.<SourcePath>of(new TestSourcePath("path/to/MyBundleLoader")),ImmutableSet.<BuildRule>of());
  assertThat(cxxLink.getArgs(),hasItem("-bundle"));
  assertThat(cxxLink.getArgs(),hasConsecutiveItems("-bundle_loader","path/to/MyBundleLoader"));
}
