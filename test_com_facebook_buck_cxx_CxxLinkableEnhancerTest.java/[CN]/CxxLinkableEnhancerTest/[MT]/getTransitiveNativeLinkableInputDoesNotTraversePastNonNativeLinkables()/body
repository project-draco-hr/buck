{
  String sentinel="bottom";
  NativeLinkableInput bottomInput=new NativeLinkableInput(ImmutableSet.<BuildTarget>of(),ImmutableList.<Path>of(),ImmutableList.of(sentinel));
  BuildRule bottom=createNativeLinkable("//:bottom",bottomInput,bottomInput);
  BuildRule middle=new FakeBuildRule("//:middle",bottom);
  NativeLinkableInput topInput=new NativeLinkableInput(ImmutableSet.<BuildTarget>of(),ImmutableList.<Path>of(),ImmutableList.<String>of());
  BuildRule top=createNativeLinkable("//:top",topInput,topInput,middle);
  NativeLinkableInput totalInput=CxxLinkableEnhancer.getTransitiveNativeLinkableInput(ImmutableList.of(top),NativeLinkable.Type.STATIC);
  assertTrue(bottomInput.getArgs().contains(sentinel));
  assertFalse(totalInput.getArgs().contains(sentinel));
}
