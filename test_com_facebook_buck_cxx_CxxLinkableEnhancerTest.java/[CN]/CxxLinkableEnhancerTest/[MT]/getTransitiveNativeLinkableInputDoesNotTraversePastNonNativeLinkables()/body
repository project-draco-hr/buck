{
  String sentinel="bottom";
  NativeLinkableInput bottomInput=new NativeLinkableInput(ImmutableList.<SourcePath>of(),ImmutableList.of(sentinel));
  BuildRule bottom=createNativeLinkable("//:bottom",bottomInput,bottomInput);
  BuildRule middle=new FakeBuildRule("//:middle",bottom);
  NativeLinkableInput topInput=new NativeLinkableInput(ImmutableList.<SourcePath>of(),ImmutableList.<String>of());
  BuildRule top=createNativeLinkable("//:top",topInput,topInput,middle);
  NativeLinkableInput totalInput=NativeLinkables.getTransitiveNativeLinkableInput(ImmutableList.of(top),NativeLinkable.Type.STATIC,true);
  assertTrue(bottomInput.getArgs().contains(sentinel));
  assertFalse(totalInput.getArgs().contains(sentinel));
}
