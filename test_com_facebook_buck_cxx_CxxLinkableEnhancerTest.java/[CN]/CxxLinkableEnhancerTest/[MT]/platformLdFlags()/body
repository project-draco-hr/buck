{
  ImmutableMap<Linker.LinkableDepType,String> runtimes=ImmutableMap.of(Linker.LinkableDepType.SHARED,"-ldummy-shared-libc",Linker.LinkableDepType.STATIC,"-ldummy-static-libc",Linker.LinkableDepType.STATIC_PIC,"-ldummy-static-pic-libc");
  CxxPlatform cxxPlatform=CxxPlatform.builder().from(CXX_PLATFORM).putAllRuntimeLdflags(runtimes.asMultimap()).build();
  BuildTarget target=BuildTargetFactory.newInstance("//foo:bar");
  SourcePathResolver pathResolver=new SourcePathResolver(new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer()));
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(target).build();
  for (  Map.Entry<Linker.LinkableDepType,String> ent : runtimes.entrySet()) {
    CxxLink lib=CxxLinkableEnhancer.createCxxLinkableBuildRule(TargetGraph.EMPTY,cxxPlatform,params,pathResolver,target,Linker.LinkType.SHARED,Optional.<String>absent(),DEFAULT_OUTPUT,DEFAULT_INPUTS,ent.getKey(),ImmutableSortedSet.<BuildRule>of(),Optional.<SourcePath>absent(),ImmutableSet.<BuildTarget>of(),ImmutableSet.<FrameworkPath>of());
    assertThat(lib.getArgs(),hasItem(ent.getValue()));
  }
}
