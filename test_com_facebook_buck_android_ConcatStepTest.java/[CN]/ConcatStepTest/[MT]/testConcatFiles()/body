{
  File dest=temp.newFile();
  List<Path> inputs=new ArrayList<Path>();
  String[] fileContents={"foo","bar","baz"};
  for (int i=0; i < fileContents.length; i++) {
    File src=temp.newFile();
    PrintStream out=new PrintStream(src);
    out.print(fileContents[i]);
    inputs.add(src.toPath());
    out.close();
  }
  ConcatStep step=new ConcatStep(inputs,dest.toPath());
  step.execute(null);
  BufferedReader reader=new BufferedReader(new InputStreamReader(new FileInputStream(dest)));
  assertEquals(reader.readLine(),"foobarbaz");
  reader.close();
}
