{
  BuildTarget thirdJavaTarget=BuildTargetFactory.newInstance("//:test-java-library-three");
  TargetNode<?> thirdJavaNode=JavaLibraryBuilder.createBuilder(thirdJavaTarget).addSrc(Paths.get("src/com/facebook/TestJavaLibraryThree.java")).build();
  BuildTarget secondJavaTarget=BuildTargetFactory.newInstance("//:test-java-library-two");
  TargetNode<?> secondJavaNode=JavaLibraryBuilder.createBuilder(secondJavaTarget).addSrc(Paths.get("src/com/facebook/TestJavaLibraryTwo.java")).build();
  BuildTarget javaTarget=BuildTargetFactory.newInstance("//:test-java-library");
  TargetNode<?> javaNode=JavaLibraryBuilder.createBuilder(javaTarget).addSrc(Paths.get("src/com/facebook/TestJavaLibrary.java")).addExportedDep(thirdJavaTarget).addDep(secondJavaTarget).build();
  ImmutableSet<TargetNode<?>> nodes=ImmutableSet.of(javaNode,secondJavaNode,thirdJavaNode);
  TargetGraph targetGraph=TargetGraphFactory.newInstance(nodes);
  ImmutableSet<BuildTarget> testInput=ImmutableSet.of(javaTarget);
  ImmutableSet<BuildTarget> transitiveDependencies=auditDependenciesCommand.getImmediateDependencies(testInput,targetGraph);
  ImmutableSet<BuildTarget> expectedOutput=ImmutableSet.of(secondJavaTarget,thirdJavaTarget);
  assertEquals(expectedOutput,transitiveDependencies);
}
