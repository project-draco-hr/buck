{
  BuildTarget javaTarget=BuildTargetFactory.newInstance("//:test-java-library");
  TargetNode<?> javaNode=JavaLibraryBuilder.createBuilder(javaTarget).addSrc(Paths.get("src/com/facebook/TestJavaLibrary.java")).build();
  BuildTarget secondLibraryTarget=BuildTargetFactory.newInstance("//:test-android-library-two");
  TargetNode<?> secondLibraryNode=JavaLibraryBuilder.createBuilder(secondLibraryTarget).addSrc(Paths.get("src/com/facebook/TestAndroidLibraryTwo.java")).addDep(javaTarget).build();
  BuildTarget libraryTarget=BuildTargetFactory.newInstance("//:test-android-library");
  TargetNode<?> libraryNode=JavaLibraryBuilder.createBuilder(libraryTarget).addSrc(Paths.get("src/com/facebook/TestAndroidLibrary.java")).addDep(secondLibraryTarget).build();
  ImmutableSet<TargetNode<?>> nodes=ImmutableSet.of(javaNode,libraryNode,secondLibraryNode);
  TargetGraph targetGraph=TargetGraphFactory.newInstance(nodes);
  ImmutableSet<BuildTarget> immediateDependencies=AuditDependenciesCommand.getImmediateDependencies(libraryTarget,targetGraph);
  assertEquals(ImmutableSet.of(secondLibraryTarget),immediateDependencies);
}
