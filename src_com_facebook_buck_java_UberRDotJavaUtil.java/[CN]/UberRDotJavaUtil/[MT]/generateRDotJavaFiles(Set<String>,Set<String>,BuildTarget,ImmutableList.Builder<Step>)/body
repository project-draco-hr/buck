{
  String rDotJavaSrc=String.format("%s/%s__%s_uber_rdotjava_src__",BuckConstant.BIN_DIR,buildTarget.getBasePathWithSlash(),buildTarget.getShortName());
  commands.add(new MakeCleanDirectoryStep(rDotJavaSrc));
  GenRDotJavaStep genRDotJava=new GenRDotJavaStep(resDirectories,rDotJavaSrc,rDotJavaPackages.iterator().next(),false,rDotJavaPackages);
  commands.add(genRDotJava);
  String rDotJavaBin=getPathToCompiledRDotJavaFiles(buildTarget);
  commands.add(new MakeCleanDirectoryStep(rDotJavaBin));
  Set<String> javaSourceFilePaths=Sets.newHashSet();
  for (  String rDotJavaPackage : rDotJavaPackages) {
    String path=rDotJavaSrc + "/" + rDotJavaPackage.replace('.','/')+ "/R.java";
    javaSourceFilePaths.add(path);
  }
  JavacInMemoryStep javac=createJavacInMemoryCommandForRDotJavaFiles(javaSourceFilePaths,rDotJavaBin);
  commands.add(javac);
}
