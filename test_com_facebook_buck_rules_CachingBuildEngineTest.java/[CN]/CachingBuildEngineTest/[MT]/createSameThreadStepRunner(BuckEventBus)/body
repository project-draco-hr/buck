{
  ExecutionContext executionContext=createMock(ExecutionContext.class);
  if (eventBus != null) {
    expect(executionContext.getBuckEventBus()).andStubReturn(eventBus);
  }
  expect(executionContext.getVerbosity()).andReturn(Verbosity.SILENT).anyTimes();
  executionContext.postEvent(anyObject(BuckEvent.class));
  expectLastCall().anyTimes();
  return new DefaultStepRunner(executionContext,listeningDecorator(MoreExecutors.sameThreadExecutor()));
}
