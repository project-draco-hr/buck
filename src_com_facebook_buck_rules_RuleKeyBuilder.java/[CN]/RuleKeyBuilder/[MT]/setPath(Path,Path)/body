{
  HashCode sha1=hashCache.get(absolutePath);
  if (sha1 == null) {
    throw new RuntimeException("No SHA for " + absolutePath);
  }
  Path addToKey;
  if (ideallyRelative.isAbsolute()) {
    logger.warn("Attempting to add absolute path to rule key. Only using file name: %s",ideallyRelative);
    addToKey=ideallyRelative.getFileName();
  }
 else {
    addToKey=ideallyRelative;
  }
  if (logElms != null) {
    logElms.add(String.format("path(%s:%s):",addToKey,sha1));
  }
  feed(addToKey.toString().getBytes());
  feed(sha1.toString().getBytes());
  return this;
}
