{
  Optional<BuildRule> buildRule=resolver.getRule(sourcePath);
  if (buildRule.isPresent()) {
    feed(sourcePath.toString().getBytes());
    return setSingleValue(buildRule.get());
  }
 else {
    Path ideallyRelative;
    try {
      ideallyRelative=resolver.getRelativePath(sourcePath);
    }
 catch (    IllegalStateException e) {
      ideallyRelative=resolver.getAbsolutePath(sourcePath);
    }
    Path absolutePath=resolver.getAbsolutePath(sourcePath);
    try {
      return setPath(absolutePath,ideallyRelative);
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
}
