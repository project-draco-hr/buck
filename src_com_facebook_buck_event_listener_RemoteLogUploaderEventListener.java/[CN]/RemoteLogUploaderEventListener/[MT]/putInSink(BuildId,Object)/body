{
  if (failureCount.get() > MAX_FAILURE_COUNT) {
    return;
  }
  sentEventsCount++;
  ObjectNode jsonNode=mapper.valueToTree(object);
  jsonNode.put("@class",object.getClass().getCanonicalName());
  jsonNode.put("buildId",buildId.toString());
  Optional<ListenableFuture<Void>> upload=remoteLogger.log(jsonNode.toString());
  if (upload.isPresent()) {
    registerPendingUpload(upload.get());
  }
}
