{
  ImmutableList.Builder<BuildRule> builder=ImmutableList.builder();
  for (  CxxPreprocessorInput input : getCxxPreprocessorInput()) {
    builder.addAll(getPathResolver().filterBuildRuleInputs(ImmutableList.<SourcePath>builder().addAll(input.getIncludes().getNameToPathMap().values()).build()));
    builder.addAll(BuildRules.toBuildRulesFor(getParams().getBuildTarget(),getResolver(),input.getRules()));
  }
  return builder.build();
}
