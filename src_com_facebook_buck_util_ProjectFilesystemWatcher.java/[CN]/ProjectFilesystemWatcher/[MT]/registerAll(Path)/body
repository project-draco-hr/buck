{
  filesystem.walkFileTree(start,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult preVisitDirectory(    Path dir,    BasicFileAttributes attributes) throws IOException {
      if (shouldIgnore(dir)) {
        return FileVisitResult.SKIP_SUBTREE;
      }
      register(dir);
      return FileVisitResult.CONTINUE;
    }
  }
);
}
