{
  SourcePathResolver pathResolver=new SourcePathResolver(new BuildRuleResolver(TargetGraph.EMPTY,new DefaultTargetNodeToBuildRuleTransformer()));
  RuleKeyBuilderFactory ruleKeyBuilderFactory=new DefaultRuleKeyBuilderFactory(FakeFileHashCache.createFromStrings(ImmutableMap.<String,String>of()),pathResolver);
  String tool="tool";
  String version="version";
  Tool tool1=new VersionedTool(Paths.get("something"),ImmutableList.<String>of(),tool,version);
  RuleKey tool1RuleKey=createRuleKeyBuilder(ruleKeyBuilderFactory,pathResolver).setReflectively("tool",tool1).build();
  Tool tool2=new VersionedTool(Paths.get("something-else"),ImmutableList.<String>of(),tool,version);
  RuleKey tool2RuleKey=createRuleKeyBuilder(ruleKeyBuilderFactory,pathResolver).setReflectively("tool",tool2).build();
  assertEquals(tool1RuleKey,tool2RuleKey);
}
