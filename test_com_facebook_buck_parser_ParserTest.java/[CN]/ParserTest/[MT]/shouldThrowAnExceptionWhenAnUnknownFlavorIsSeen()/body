{
  BuildTarget flavored=BuildTarget.builder("//java/com/facebook","foo").setFlavor("doesNotExist").build();
  try {
    testParser.parseBuildFilesForTargets(ImmutableSortedSet.of(flavored),ImmutableList.<String>of(),BuckEventBusFactory.newInstance(),new TestConsole(),ImmutableMap.<String,String>of());
  }
 catch (  HumanReadableException e) {
    assertEquals("No rule found when resolving target //java/com/facebook:foo#doesNotExist in build " + "file //java/com/facebook/BUCK",e.getHumanReadableErrorMessage());
  }
}
