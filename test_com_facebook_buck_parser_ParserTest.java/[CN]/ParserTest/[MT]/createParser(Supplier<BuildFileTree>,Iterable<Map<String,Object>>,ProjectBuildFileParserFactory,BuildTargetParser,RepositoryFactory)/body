{
  Parser parser=new Parser(repositoryFactory,buildFileTreeSupplier,buildTargetParser,buildFileParserFactory,tempFilePatterns,new FakeRuleKeyBuilderFactory(),true);
  try {
    parser.parseRawRulesInternal(rules);
  }
 catch (  BuildTargetException|IOException e) {
    throw new RuntimeException(e);
  }
  return parser;
}
