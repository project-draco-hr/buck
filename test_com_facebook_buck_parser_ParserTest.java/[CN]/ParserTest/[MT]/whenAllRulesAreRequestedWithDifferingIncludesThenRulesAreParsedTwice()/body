{
  TestProjectBuildFileParserFactory buildFileParserFactory=new TestProjectBuildFileParserFactory(filesystem.getRootPath(),buildRuleTypes);
  Parser parser=createParser(emptyBuildTargets(),buildFileParserFactory);
  BuckConfig config=FakeBuckConfig.builder().build();
  filterAllTargetsInProject(parser,filesystem,new ParserConfig(config),Predicates.<TargetNode<?>>alwaysTrue(),new TestConsole(),config.getEnvironment(),BuckEventBusFactory.newInstance(),false);
  filterAllTargetsInProject(parser,filesystem,new ParserConfig(FakeBuckConfig.builder().setSections(ImmutableMap.of(ParserConfig.BUILDFILE_SECTION_NAME,ImmutableMap.of(ParserConfig.INCLUDES_PROPERTY_NAME,"//bar.py"))).build()),Predicates.<TargetNode<?>>alwaysTrue(),new TestConsole(),config.getEnvironment(),BuckEventBusFactory.newInstance(),false);
  assertEquals("Should have invalidated cache.",2,buildFileParserFactory.calls);
}
