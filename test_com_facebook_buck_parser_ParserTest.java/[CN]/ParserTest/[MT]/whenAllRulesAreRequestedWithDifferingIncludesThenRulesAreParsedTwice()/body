{
  TestProjectBuildFileParserFactory buildFileParserFactory=new TestProjectBuildFileParserFactory(filesystem,buildRuleTypes);
  Parser parser=createParser(emptyBuildTargets(),buildFileParserFactory);
  parser.filterAllTargetsInProject(filesystem,new ParserConfig(new FakeBuckConfig()),Predicates.<TargetNode<?>>alwaysTrue(),new TestConsole(),ImmutableMap.<String,String>of(),BuckEventBusFactory.newInstance(),false);
  parser.filterAllTargetsInProject(filesystem,new ParserConfig(new FakeBuckConfig(ImmutableMap.<String,Map<String,String>>of("buildfile",ImmutableMap.of("includes","//bar.py")))),Predicates.<TargetNode<?>>alwaysTrue(),new TestConsole(),ImmutableMap.<String,String>of(),BuckEventBusFactory.newInstance(),false);
  assertEquals("Should have invalidated cache.",2,buildFileParserFactory.calls);
}
