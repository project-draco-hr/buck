{
  Parser parser=createParser(emptyBuildTargets());
  tempDir.newFolder("foo");
  File testFooBuckFile=tempDir.newFile("foo/" + BuckConstant.BUILD_RULES_FILE_NAME);
  Files.write("java_library(name = 'lib', visibility=['PUBLIC'])\n",testFooBuckFile,Charsets.UTF_8);
  BuildTarget fooLibTarget=BuildTarget.builder("//foo","lib").build();
  assertEquals(ImmutableMap.of(fooLibTarget,HashCode.fromString("69e73cd0c6beb1086891d00a2f99d3ff5fe2f616")),buildTargetGraphAndGetHashCodes(parser,fooLibTarget));
}
