{
  TestProjectBuildFileParser buildFileParser=new TestProjectBuildFileParser();
  Parser parser=createParser(emptyBuildTargets(),buildFileParser);
  parser.filterAllTargetsInProject(filesystem,Lists.<String>newArrayList(),alwaysTrue());
  parser.filterAllTargetsInProject(filesystem,Lists.<String>newArrayList(),alwaysTrue());
  assertEquals("Should have cached build rules.",1,buildFileParser.calls);
}
