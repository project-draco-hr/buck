{
  ImmutableList<String> parts=ImmutableList.copyOf(child.basePath.split("/"));
  for (int numParts=parts.size() - 1; numParts > 0; numParts--) {
    List<String> partsCandidate=parts.subList(0,numParts);
    String candidateBasePath=PATH_JOINER.join(partsCandidate);
    Node candidate=basePathToNodeIndex.get(candidateBasePath);
    if (candidate != null) {
      return candidate;
    }
  }
  return basePathToNodeIndex.get("");
}
