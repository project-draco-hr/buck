{
  ExecutorService service=MoreExecutors.newMultiThreadExecutor(new CommandThreadFactory("IntraDexReordering"),1);
  try {
    DefaultStepRunner stepRunner=new DefaultStepRunner(context,listeningDecorator(service));
    List<Step> dxSteps=generateReorderCommands();
    stepRunner.runStepsInParallelAndWait(dxSteps);
  }
 catch (  StepFailedException|IOException|InterruptedException e) {
    context.logError(e,"There was an error in intra dex reorder step.");
    return 1;
  }
 finally {
    MoreExecutors.shutdown(service);
  }
  return 0;
}
