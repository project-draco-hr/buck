{
  UnflavoredBuildTarget plainTarget=target.getUnflavoredBuildTarget();
  if (isLibrary) {
    return getArchiveOutputPath(plainTarget);
  }
 else {
    return BuildTargets.getScratchPath(plainTarget,"%s/" + plainTarget.getShortName() + ".opt");
  }
}
