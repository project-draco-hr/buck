{
  try {
    BuildRuleResolver toUse=getResolver(target).get();
    return toUse.getRule(target.withoutCell());
  }
 catch (  IllegalStateException e) {
    LOG.warn("Unable to retrieve rule: %s in cell %s",target,target.getUnflavoredBuildTarget().getCellPath());
    throw e;
  }
}
