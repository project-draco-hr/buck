{
  Optional<BuildRuleResolver> toUse=getResolver(target.getUnflavoredBuildTarget());
  if (toUse.isPresent()) {
    return toUse.get().getRuleOptionalWithType(target.withoutCell(),cls);
  }
  return Optional.absent();
}
