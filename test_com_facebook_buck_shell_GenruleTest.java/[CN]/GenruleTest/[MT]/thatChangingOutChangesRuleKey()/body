{
  BuildRuleResolver resolver=new BuildRuleResolver();
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  RuleKeyBuilderFactory ruleKeyBuilderFactory=new FakeRuleKeyBuilderFactory();
  RuleKeyPair key1=generateRuleKey(ruleKeyBuilderFactory,pathResolver,(Genrule)GenruleBuilder.newGenruleBuilder(BuildTargetFactory.newInstance("//:genrule1")).setOut("foo").build(resolver));
  RuleKeyPair key2=generateRuleKey(ruleKeyBuilderFactory,pathResolver,(Genrule)GenruleBuilder.newGenruleBuilder(BuildTargetFactory.newInstance("//:genrule2")).setOut("bar").build(resolver));
  assertNotEquals(key1.getTotalRuleKey(),key2.getTotalRuleKey());
}
