{
  String xml="<?xml version='1.1' encoding='UTF-8' standalone='no'?>\n" + "<testcase name='com.facebook.buck.test.XmlTestResultParserTest'>\n" + "  <test name='testParseMalformedXml' success='true' time='too meta'/>\n"+ "</testcase>\n";
  File xmlFile=tmp.newFile("result.xml");
  Files.write(xml,xmlFile,Charsets.UTF_8);
  try {
    XmlTestResultParser.parse(xmlFile);
    fail("Should throw RuntimeException.");
  }
 catch (  RuntimeException e) {
    assertTrue("The RuntimeException should wrap the NumberFormatException.",e.getCause() instanceof NumberFormatException);
    assertEquals("Exception should include the path to the file as well as its contents.","Error parsing test result data in " + xmlFile.getAbsolutePath() + ".\n"+ "File contents:\n"+ xml,e.getMessage());
  }
}
