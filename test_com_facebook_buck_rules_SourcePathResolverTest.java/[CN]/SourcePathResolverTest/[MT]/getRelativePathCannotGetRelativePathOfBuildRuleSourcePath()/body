{
  BuildRuleResolver resolver=new BuildRuleResolver();
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  BuildRule rule=new OutputOnlyBuildRule(new FakeBuildRuleParamsBuilder(BuildTargetFactory.newInstance("//:foo")).build(),pathResolver,Paths.get("foo"));
  resolver.addToIndex(rule);
  SourcePath sourcePath=new BuildRuleSourcePath(rule);
  assertEquals(Optional.<Path>absent(),pathResolver.getRelativePath(sourcePath));
}
