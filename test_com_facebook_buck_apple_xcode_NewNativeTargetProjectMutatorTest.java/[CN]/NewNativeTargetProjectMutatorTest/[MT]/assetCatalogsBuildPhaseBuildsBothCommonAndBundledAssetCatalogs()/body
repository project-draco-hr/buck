{
  AppleAssetCatalogDescription.Arg arg1=new AppleAssetCatalogDescription.Arg();
  arg1.dirs=ImmutableSet.of(Paths.get("AssetCatalog1.xcassets"));
  arg1.copyToBundles=Optional.of(false);
  AppleAssetCatalogDescription.Arg arg2=new AppleAssetCatalogDescription.Arg();
  arg2.dirs=ImmutableSet.of(Paths.get("AssetCatalog2.xcassets"));
  arg2.copyToBundles=Optional.of(true);
  BuildTarget testBuildTarget=BuildTarget.builder("//foo","binary").build();
  NewNativeTargetProjectMutator mutator=mutatorWithCommonDefaults(testBuildTarget);
  mutator.setAssetCatalogs(Paths.get("compile_asset_catalogs"),ImmutableSet.of(arg1,arg2));
  NewNativeTargetProjectMutator.Result result=mutator.buildTargetAndAddToProject(generatedProject);
  assertTrue(hasShellScriptPhaseToCompileCommonAndSplitAssetCatalogs(result.target));
}
