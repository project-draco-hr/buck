{
  BuildTarget testBuildTarget=BuildTarget.builder("//foo","binary").build();
  NewNativeTargetProjectMutator mutator=mutatorWithCommonDefaults(testBuildTarget);
  AppleResourceDescription appleResourceDescription=new AppleResourceDescription();
  AppleResourceDescription.Arg arg=createDescriptionArgWithDefaults(appleResourceDescription);
  arg.files=ImmutableSet.<SourcePath>of(new TestSourcePath("foo.png"));
  AppleResource resource=appleResourceDescription.createBuildRule(new FakeBuildRuleParamsBuilder(BuildTarget.builder("//foo","resources").build()).setType(AppleResourceDescription.TYPE).build(),buildRuleResolver,arg);
  mutator.setResources(ImmutableSet.of(resource));
  NewNativeTargetProjectMutator.Result result=mutator.buildTargetAndAddToProject(generatedProject);
  assertHasSingletonPhaseWithEntries(result.target,PBXResourcesBuildPhase.class,ImmutableList.of("$SOURCE_ROOT/../foo.png"));
}
