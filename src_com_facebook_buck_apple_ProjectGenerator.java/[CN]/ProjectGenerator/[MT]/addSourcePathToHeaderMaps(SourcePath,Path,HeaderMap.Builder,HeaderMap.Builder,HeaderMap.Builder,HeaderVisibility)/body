{
  String fileName=Preconditions.checkNotNull(sourcePathResolver.apply(headerPath)).getFileName().toString();
  String prefixedFileName=prefix.resolve(fileName).toString();
  Path value=projectFilesystem.getPathForRelativePath(sourcePathResolver.apply(headerPath)).toAbsolutePath().normalize();
  addHeaderMapEntry(targetHeaderMap,"target",prefixedFileName,value);
  if (visibility == HeaderVisibility.PUBLIC) {
    addHeaderMapEntry(publicHeaderMap,"public",prefixedFileName,value);
  }
  addHeaderMapEntry(targetUserHeaderMap,"target-user",fileName,value);
}
