{
  ImmutableSet.Builder<String> builder=ImmutableSet.builder();
  if (targetNode.getConstructorArg().getUseBuckHeaderMaps()) {
    builder.add(getHeaderMapRelativePath(targetNode,HeaderVisibility.PRIVATE));
    builder.add(getHeaderMapRelativePath(targetNode,HeaderVisibility.PUBLIC));
  }
  for (  TargetNode<?> input : AppleBuildRules.getRecursiveTargetNodeDependenciesOfTypes(targetGraph,AppleBuildRules.RecursiveDependenciesMode.BUILDING,targetNode,Optional.of(AppleBuildRules.XCODE_TARGET_BUILD_RULE_TYPES))) {
    Optional<TargetNode<AppleNativeTargetDescriptionArg>> nativeNode=getAppleNativeNode(targetGraph,input);
    if (nativeNode.isPresent() && nativeNode.get().getConstructorArg().getUseBuckHeaderMaps()) {
      builder.add(getHeaderMapRelativePath(nativeNode.get(),HeaderVisibility.PUBLIC));
    }
  }
  addHeaderMapsForSourceUnderTest(targetNode,builder,HeaderVisibility.PRIVATE);
  return builder.build();
}
