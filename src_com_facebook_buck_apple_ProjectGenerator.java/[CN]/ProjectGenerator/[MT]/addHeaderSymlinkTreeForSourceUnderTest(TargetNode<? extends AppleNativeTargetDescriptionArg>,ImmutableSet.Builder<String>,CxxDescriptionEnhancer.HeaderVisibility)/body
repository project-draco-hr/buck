{
  ImmutableSet<TargetNode<?>> directDependencies=ImmutableSet.copyOf(targetGraph.getAll(targetNode.getDeps()));
  for (  TargetNode<?> dependency : directDependencies) {
    Optional<TargetNode<AppleNativeTargetDescriptionArg>> nativeNode=getAppleNativeNode(targetGraph,dependency);
    if (nativeNode.isPresent() && isSourceUnderTest(dependency,nativeNode.get(),targetNode) && nativeNode.get().getConstructorArg().getUseBuckHeaderMaps()) {
      headerSymlinkTreesBuilder.add(getHeaderSymlinkTreeRelativePath(nativeNode.get(),headerVisibility).toString());
    }
  }
}
