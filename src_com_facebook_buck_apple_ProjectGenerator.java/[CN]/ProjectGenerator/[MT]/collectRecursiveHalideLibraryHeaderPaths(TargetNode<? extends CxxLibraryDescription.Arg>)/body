{
  ImmutableSet.Builder<Path> builder=ImmutableSet.builder();
  for (  TargetNode<?> input : AppleBuildRules.getRecursiveTargetNodeDependenciesOfTypes(targetGraph,AppleBuildRules.RecursiveDependenciesMode.BUILDING,targetNode,Optional.of(ImmutableSet.<BuildRuleType>of(HalideLibraryDescription.TYPE)))) {
    BuildTarget buildTarget=input.getBuildTarget();
    if (!HalideLibraryDescription.isHalideCompilerTarget(buildTarget)) {
      Path outputDir=getHalideOutputPath(buildTarget);
      builder.add(pathRelativizer.outputDirToRootRelative(outputDir));
    }
  }
  return builder.build();
}
