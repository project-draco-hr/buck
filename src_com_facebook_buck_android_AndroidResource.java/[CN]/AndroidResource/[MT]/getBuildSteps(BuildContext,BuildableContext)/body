{
  if (getRes() == null) {
    buildableContext.addMetadata(METADATA_KEY_FOR_ABI,getAbiKeyForDeps().getHash());
    return ImmutableList.of();
  }
  MakeCleanDirectoryStep mkdir=new MakeCleanDirectoryStep(pathToTextSymbolsDir);
  Set<Path> resDirectories=ImmutableSet.copyOf(Iterables.transform(transitiveAndroidResourceDeps.get(),GET_RES_FOR_RULE));
  GenRDotJavaStep genRDotJava=new GenRDotJavaStep(resDirectories,pathToTextSymbolsDir,rDotJavaPackage,true,ImmutableSet.<String>of(),aaptOverride);
  buildableContext.recordArtifact(pathToTextSymbolsFile);
  RecordFileSha1Step recordRDotTxtSha1=new RecordFileSha1Step(pathToTextSymbolsFile,METADATA_KEY_FOR_ABI,buildableContext);
  return ImmutableList.of(mkdir,genRDotJava,recordRDotTxtSha1);
}
