{
  try (InputStream sdkSettingsPlist=Files.newInputStream(sdkDir.resolve("SDKSettings.plist"));BufferedInputStream bufferedSdkSettingsPlist=new BufferedInputStream(sdkSettingsPlist)){
    NSDictionary sdkSettings;
    try {
      sdkSettings=(NSDictionary)PropertyListParser.parse(bufferedSdkSettingsPlist);
    }
 catch (    Exception e) {
      throw new IOException(e);
    }
    String name=sdkSettings.objectForKey("CanonicalName").toString();
    String version=sdkSettings.objectForKey("Version").toString();
    NSDictionary defaultProperties=(NSDictionary)sdkSettings.objectForKey("DefaultProperties");
    NSArray toolchains=(NSArray)sdkSettings.objectForKey("Toolchains");
    if (toolchains != null) {
      for (      NSObject toolchain : toolchains.getArray()) {
        String toolchainId=toolchain.toString();
        sdkBuilder.addToolchains(toolchainId);
      }
    }
    NSString platformName=(NSString)defaultProperties.objectForKey("PLATFORM_NAME");
    ApplePlatform applePlatform=ApplePlatform.builder().setName(platformName.toString()).build();
    sdkBuilder.setName(name).setVersion(version).setApplePlatform(applePlatform);
    addArchitecturesForPlatform(sdkBuilder,applePlatform);
    return true;
  }
 catch (  FileNotFoundException e) {
    LOG.error(e,"No SDKSettings.plist found under SDK path %s",sdkDir);
    return false;
  }
}
