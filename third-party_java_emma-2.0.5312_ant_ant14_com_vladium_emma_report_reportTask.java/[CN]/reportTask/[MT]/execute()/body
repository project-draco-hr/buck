{
  if (isEnabled()) {
    final String[] reportTypes=m_reportCfg.getReportTypes();
    if ((reportTypes == null) || (reportTypes.length == 0))     throw (BuildException)newBuildException(getTaskName() + ": no report types specified: provide at least one of <txt>, <html>, <xml> nested elements",location).fillInStackTrace();
    String[] files=getDataPath(true);
    if ((files == null) || (files.length == 0))     throw (BuildException)newBuildException(getTaskName() + ": no valid input data files have been specified",location).fillInStackTrace();
    final Path srcpath=m_reportCfg.getSourcepath();
    final IProperties settings;
{
      final IProperties taskSettings=getTaskSettings();
      final IProperties reportSettings=m_reportCfg.getReportSettings();
      settings=IProperties.Factory.combine(reportSettings,taskSettings);
    }
    final ReportProcessor processor=ReportProcessor.create();
    processor.setDataPath(files);
    files=null;
    processor.setSourcePath(srcpath != null ? srcpath.list() : null);
    processor.setReportTypes(reportTypes);
    processor.setPropertyOverrides(settings);
    processor.run();
  }
}
