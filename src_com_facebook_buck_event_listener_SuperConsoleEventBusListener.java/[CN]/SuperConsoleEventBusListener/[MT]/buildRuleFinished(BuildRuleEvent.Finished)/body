{
  threadsToRunningBuildRuleEvent.put(finished.getThreadId(),Optional.<BuildRuleEvent>absent());
  accumulatedRuleTime.remove(finished.getBuildRule().getBuildTarget());
  if (finished.getStatus() == BuildRuleStatus.SUCCESS) {
    CacheResult cacheResult=finished.getCacheResult();
    if (cacheResult.getType() != CacheResultType.LOCAL_KEY_UNCHANGED_HIT) {
      updated.incrementAndGet();
      if (cacheResult.getType() == CacheResultType.MISS) {
        cacheMisses.incrementAndGet();
      }
 else       if (cacheResult.getType() == CacheResultType.ERROR) {
        cacheErrors.incrementAndGet();
      }
    }
  }
}
