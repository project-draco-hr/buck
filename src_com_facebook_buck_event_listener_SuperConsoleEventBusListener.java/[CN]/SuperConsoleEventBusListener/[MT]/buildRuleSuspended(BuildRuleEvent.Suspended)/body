{
  Optional<? extends BuildRuleEvent> started=Preconditions.checkNotNull(threadsToRunningEvent.put(suspended.getThreadId(),Optional.<BuildRuleEvent>absent()));
  Preconditions.checkState(started.isPresent());
  Preconditions.checkState(suspended.getBuildRule().equals(started.get().getBuildRule()));
  AtomicLong current=accumulatedBuildRuleTime.get(suspended.getBuildRule().getBuildTarget());
  if (current != null) {
    current.getAndAdd(suspended.getTimestamp() - started.get().getTimestamp());
  }
}
