{
  Preconditions.checkState(!Iterables.isEmpty(pathsToIncludeInZip));
  try (ZipOutputStream zip=new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(out)))){
    for (    Path path : pathsToIncludeInZip) {
      ZipEntry entry=new ZipEntry(path.toString());
      zip.putNextEntry(entry);
      InputStream input=Files.newInputStreamSupplier(getFileForRelativePath(path)).getInput();
      ByteStreams.copy(input,zip);
      zip.closeEntry();
    }
  }
 }
