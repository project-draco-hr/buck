{
  Javac javac;
  if (javacOptions.getJavaCompilerEnvironment().getJavacPath().isPresent()) {
    javac=new ExternalJavac(javacOptions.getJavaCompilerEnvironment().getJavacPath().get());
  }
 else {
    javac=new Jsr199Javac();
  }
  return new JavacStep(javac,outputDirectory,workingDirectory,javaSourceFilePaths,pathToSrcsList,transitiveClasspathEntries,declaredClasspathEntries,javacOptions,invokingRule,buildDependencies,suggestBuildRules);
}
