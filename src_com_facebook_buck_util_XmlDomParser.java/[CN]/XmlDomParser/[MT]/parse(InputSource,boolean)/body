{
  DocumentBuilder docBuilder;
  try {
    DocumentBuilderFactory factory=DocumentBuilderFactory.newInstance();
    if (namespaceAware) {
      factory.setNamespaceAware(namespaceAware);
    }
    docBuilder=factory.newDocumentBuilder();
  }
 catch (  ParserConfigurationException e) {
    throw Throwables.propagate(e);
  }
  Document doc;
  try {
    doc=docBuilder.parse(xml);
  }
 catch (  SAXException e) {
    throw Throwables.propagate(e);
  }
  return doc;
}
