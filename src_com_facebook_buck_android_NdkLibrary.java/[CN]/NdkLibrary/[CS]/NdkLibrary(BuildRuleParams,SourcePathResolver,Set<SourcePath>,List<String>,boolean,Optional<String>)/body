{
  super(params,resolver);
  this.isAsset=isAsset;
  BuildTarget buildTarget=params.getBuildTarget();
  this.makefileDirectory=buildTarget.getBasePathWithSlash();
  this.lastPathComponent="__lib" + buildTarget.getShortName();
  this.buildArtifactsDirectory=getBuildArtifactsDirectory(buildTarget,true);
  this.genDirectory=getBuildArtifactsDirectory(buildTarget,false);
  Preconditions.checkArgument(!sources.isEmpty(),"Must include at least one file (Android.mk?) in ndk_library rule");
  this.sources=ImmutableSortedSet.copyOf(sources);
  this.flags=ImmutableList.copyOf(flags);
  this.ndkVersion=Preconditions.checkNotNull(ndkVersion);
}
