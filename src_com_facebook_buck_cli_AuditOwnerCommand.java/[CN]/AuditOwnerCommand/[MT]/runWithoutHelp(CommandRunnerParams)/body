{
  BuildFileTree buildFileTree=new FilesystemBackedBuildFileTree(params.getCell().getFilesystem(),params.getCell().getBuildFileName());
  if (params.getConsole().getAnsi().isAnsiTerminal()) {
    params.getBuckEventBus().post(ConsoleEvent.info("'buck audit owner' is deprecated. Please use 'buck query' instead. e.g.\n\t%s\n\n" + "The query language is documented at https://buckbuild.com/command/query.html",QueryCommand.buildAuditOwnerQueryExpression(getArguments(),shouldGenerateJsonOutput())));
  }
  try {
    OwnersReport report=buildOwnersReport(params,buildFileTree,getArguments(),isGuessForDeletedEnabled());
    printReport(params,report);
  }
 catch (  BuildFileParseException|BuildTargetException e) {
    params.getBuckEventBus().post(ConsoleEvent.severe(MoreExceptions.getHumanReadableOrLocalizedMessage(e)));
    return BUILD_TARGET_ERROR;
  }
  return 0;
}
