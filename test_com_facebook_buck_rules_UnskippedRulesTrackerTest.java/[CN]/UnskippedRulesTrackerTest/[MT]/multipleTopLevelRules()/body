{
  Futures.getUnchecked(unskippedRulesTracker.registerTopLevelRule(ruleA,eventBus));
  assertReceivedEvent(4);
  Futures.getUnchecked(unskippedRulesTracker.markRuleAsUsed(ruleF,eventBus));
  assertNoNewEvents();
  Futures.getUnchecked(unskippedRulesTracker.registerTopLevelRule(ruleB,eventBus));
  assertReceivedEvent(5);
  Futures.getUnchecked(unskippedRulesTracker.registerTopLevelRule(ruleC,eventBus));
  assertReceivedEvent(8);
  Futures.getUnchecked(unskippedRulesTracker.markRuleAsUsed(ruleD,eventBus));
  assertNoNewEvents();
  Futures.getUnchecked(unskippedRulesTracker.markRuleAsUsed(ruleA,eventBus));
  assertNoNewEvents();
  Futures.getUnchecked(unskippedRulesTracker.markRuleAsUsed(ruleC,eventBus));
  assertReceivedEvent(5);
  Futures.getUnchecked(unskippedRulesTracker.markRuleAsUsed(ruleB,eventBus));
  assertNoNewEvents();
}
