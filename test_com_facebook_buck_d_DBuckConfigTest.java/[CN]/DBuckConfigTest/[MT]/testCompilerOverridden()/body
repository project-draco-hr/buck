{
  File yooserBeen=tmp.newFolder("yooser","been");
  makeFakeExecutable(yooserBeen,"dmd");
  File ldc=makeFakeExecutable(yooserBeen,"ldc");
  BuckConfig delegate=FakeBuckConfig.builder().setEnvironment(ImmutableMap.of("PATH",yooserBeen.getCanonicalPath())).setSections("[d]","compiler=" + ldc.getCanonicalPath()).build();
  DBuckConfig dBuckConfig=new DBuckConfig(delegate);
  assertEquals(ldc.getCanonicalPath(),toolPath(dBuckConfig.getDCompiler()));
}
