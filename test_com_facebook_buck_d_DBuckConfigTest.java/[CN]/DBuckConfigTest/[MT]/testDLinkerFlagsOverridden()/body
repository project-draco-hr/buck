{
  File yooserBin=tmp.newFolder("yooser","bin");
  File yooserLib=tmp.newFolder("yooser","lib");
  makeFakeExecutable(yooserBin,"dmd");
  File phobos2So=new File(yooserLib,"libphobos2.so");
  phobos2So.createNewFile();
  BuckConfig delegate=FakeBuckConfig.builder().setEnvironment(ImmutableMap.of("PATH",yooserBin.getCanonicalPath())).setSections("[d]","linker_flags = -L/opt/doesnotexist/dmd/lib \"-L/path with spaces\"").build();
  DBuckConfig dBuckConfig=new DBuckConfig(delegate);
  ImmutableList<String> linkerFlags=dBuckConfig.getLinkerFlags();
  assertContains(linkerFlags,"-L/opt/doesnotexist/dmd/lib");
  assertContains(linkerFlags,"-L/path with spaces");
  assertDoesNotContain(linkerFlags,"-L" + yooserLib.getCanonicalPath());
}
