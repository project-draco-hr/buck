{
  JUnitCore testRunner=new JUnitCore();
  for (  String className : testClassNames) {
    Class<?> testClass=Class.forName(className);
    Ignore ignore=testClass.getAnnotation(Ignore.class);
    boolean isTestClassIgnored=ignore != null;
    List<TestResult> results;
    if (isTestClassIgnored) {
      results=Collections.emptyList();
    }
 else {
      results=new ArrayList<TestResult>();
      Method[] publicInstanceMethods=testClass.getMethods();
      for (      Method method : publicInstanceMethods) {
        if (isTestMethod(method)) {
          results.add(TestResult.runTestMethod(testClass,method.getName(),testRunner));
        }
      }
    }
    writeResult(className,results);
  }
}
