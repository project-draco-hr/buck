{
  ImmutableSortedSet.Builder<BuildRule> rules=ImmutableSortedSet.naturalOrder();
  for (  BuildTarget dep : deps) {
    rules.add(ruleResolver.get(dep));
  }
  BuildRuleParams params=new BuildRuleParams(target,rules.build(),getVisibilityPatterns(),ruleFactoryParams.getPathRelativizer(),ruleFactoryParams.getRuleKeyBuilderFactory());
  ConstructorArgMarshaller inspector=new ConstructorArgMarshaller(Paths.get(target.getBasePath()));
  T arg=description.createUnpopulatedConstructorArg();
  inspector.populate(ruleResolver,ruleFactoryParams,arg);
  ImmutableSortedSet<BuildRule> depsFromSourcePaths=findSourcePathDeps(ruleResolver,arg);
  if (depsFromSourcePaths != null) {
    ImmutableSortedSet<BuildRule> completeDeps=ImmutableSortedSet.<BuildRule>naturalOrder().addAll(params.getDeps()).addAll(depsFromSourcePaths).build();
    params=new BuildRuleParams(params.getBuildTarget(),completeDeps,params.getVisibilityPatterns(),params.getPathRelativizer(),params.getRuleKeyBuilderFactory());
  }
  Buildable buildable=description.createBuildable(params,arg);
  ImmutableSortedSet<BuildRule> enhancedDeps=buildable.getEnhancedDeps(ruleResolver);
  if (enhancedDeps != null) {
    params=new BuildRuleParams(params.getBuildTarget(),enhancedDeps,params.getVisibilityPatterns(),params.getPathRelativizer(),params.getRuleKeyBuilderFactory());
  }
  return new DescribedRule(description.getBuildRuleType(),buildable,params);
}
