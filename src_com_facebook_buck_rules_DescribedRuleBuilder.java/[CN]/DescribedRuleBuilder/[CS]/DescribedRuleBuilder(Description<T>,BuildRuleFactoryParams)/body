{
  this.description=Preconditions.checkNotNull(description);
  this.ruleFactoryParams=Preconditions.checkNotNull(params);
  this.target=params.target;
  ImmutableSortedSet.Builder<BuildTarget> allDeps=ImmutableSortedSet.naturalOrder();
  for (  String rawDep : params.getOptionalListAttribute("deps")) {
    allDeps.add(params.resolveBuildTarget(rawDep));
  }
  this.deps=allDeps.build();
  ImmutableSet.Builder<BuildTargetPattern> allVisibilities=ImmutableSet.builder();
  for (  String rawVis : params.getOptionalListAttribute("visibility")) {
    allVisibilities.add(params.buildTargetPatternParser.parse(rawVis,ParseContext.forVisibilityArgument()));
  }
  this.visibilities=allVisibilities.build();
}
