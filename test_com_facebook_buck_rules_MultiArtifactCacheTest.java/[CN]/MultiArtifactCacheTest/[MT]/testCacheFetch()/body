{
  DummyArtifactCache dummyArtifactCache1=new DummyArtifactCache();
  DummyArtifactCache dummyArtifactCache2=new DummyArtifactCache();
  MultiArtifactCache multiArtifactCache=new MultiArtifactCache(ImmutableList.of((ArtifactCache)dummyArtifactCache1,dummyArtifactCache2));
  assertFalse("Fetch should fail",multiArtifactCache.fetch(dummyRuleKey,dummyFile));
  dummyArtifactCache1.store(dummyRuleKey,dummyFile);
  assertTrue("Fetch should succeed after store",multiArtifactCache.fetch(dummyRuleKey,dummyFile));
  dummyArtifactCache1.reset();
  dummyArtifactCache2.reset();
  dummyArtifactCache2.store(dummyRuleKey,dummyFile);
  assertTrue("Fetch should succeed after store",multiArtifactCache.fetch(dummyRuleKey,dummyFile));
}
