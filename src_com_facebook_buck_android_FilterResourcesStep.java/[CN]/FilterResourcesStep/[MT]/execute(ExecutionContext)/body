{
  Set<String> drawables=drawableFinder.findDrawables(originalToFiltered.keySet());
  Predicate<File> densityFilter=Filters.createImageDensityFilter(drawables,resourceFilter);
  filteredDirectoryCopier.copyDirs(originalToFiltered,densityFilter,context.getProcessExecutor());
  if ((imageScaler != null) && imageScaler.isAvailable(context)) {
    try {
      scaleUnmatchedDrawables(context);
    }
 catch (    IOException|HumanReadableException e) {
      context.getConsole().printErrorText("Error while scaling drawables: " + e);
      return 1;
    }
  }
  return 0;
}
