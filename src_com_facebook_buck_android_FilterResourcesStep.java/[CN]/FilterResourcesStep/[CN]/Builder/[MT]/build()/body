{
  Preconditions.checkNotNull(resourceFilter);
  LOG.info("FilterResourcesStep.Builder: resource filter: %s",resourceFilter);
  Preconditions.checkNotNull(inResDirToOutResDirMap);
  Preconditions.checkNotNull(workingDirectory);
  return new FilterResourcesStep(inResDirToOutResDirMap,resourceFilter.isEnabled(),enableStringWhitelisting,whitelistedStringDirs,locales,DefaultFilteredDirectoryCopier.getInstance(),resourceFilter.getDensities(),DefaultDrawableFinder.getInstance(),resourceFilter.shouldDownscale() ? new ImageMagickScaler(workingDirectory) : null);
}
