{
  List<TestRule> tests=ImmutableList.of(mealTest,beerTest,hopsTest);
  List<List<TestRule>> permutations=allPermutations(tests);
  for (  List<TestRule> permutation : permutations) {
    TestResultsGrouper grouper=new TestResultsGrouper(tests);
    try {
      for (      TestRule testRule : permutation) {
        grouper.post(testRule,passTests());
      }
    }
 catch (    IllegalStateException e) {
      String testNamesList=formatMockTestRules(permutation);
      String message=String.format("When testing %s: %s",testNamesList,e.getMessage());
      throw new AssertionError(message,e);
    }
  }
}
