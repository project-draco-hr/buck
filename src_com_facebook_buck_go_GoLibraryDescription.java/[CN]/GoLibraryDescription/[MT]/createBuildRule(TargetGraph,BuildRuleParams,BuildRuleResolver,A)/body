{
  Optional<GoPlatform> platform=goBuckConfig.getPlatformFlavorDomain().getValue(params.getBuildTarget());
  if (platform.isPresent()) {
    return GoDescriptors.createGoCompileRule(params,resolver,goBuckConfig,args.packageName.transform(MorePaths.TO_PATH).or(goBuckConfig.getDefaultPackageName(params.getBuildTarget())),args.srcs,args.compilerFlags.or(ImmutableList.<String>of()),platform.get());
  }
  return new NoopBuildRuleWithTests(params,new SourcePathResolver(resolver),args.tests.get());
}
