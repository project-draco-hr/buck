{
  validateState();
  RTSettings.setStandaloneMode(false);
  RT.reset(true,false);
  final IProperties toolProperties;
{
    IProperties appProperties=RT.getAppProperties();
    if (appProperties == null)     appProperties=EMMAProperties.getAppProperties();
    toolProperties=IProperties.Factory.combine(m_propertyOverrides,appProperties);
  }
  if ($assert.ENABLED)   $assert.ASSERT(toolProperties != null,"toolProperties is null");
  final Logger current=Logger.getLogger();
  final Logger log=AppLoggers.create(m_appName,toolProperties,current);
  if (log.atTRACE1()) {
    log.trace1("run","complete tool properties:");
    toolProperties.list(log.getWriter());
  }
  try {
    Logger.push(log);
    m_log=log;
    _run(toolProperties);
  }
  finally {
    if (m_log != null) {
      Logger.pop(m_log);
      m_log=null;
    }
  }
}
