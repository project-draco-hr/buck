{
  return Futures.transformAsync(attemptTwoLevelStore(ruleKeys,metadata,output),new AsyncFunction<Boolean,Void>(){
    @Override public ListenableFuture<Void> apply(    Boolean input) throws Exception {
      if (input) {
        return Futures.immediateFuture(null);
      }
      return delegate.store(ruleKeys,metadata,output);
    }
  }
);
}
