{
  this.delegate=delegate;
  this.projectFilesystem=projectFilesystem;
  this.listeningExecutorService=listeningExecutorService;
  this.performTwoLevelStores=performTwoLevelStores;
  this.minimumTwoLevelStoredArtifactSize=minimumTwoLevelStoredArtifactSize;
  this.maximumTwoLevelStoredArtifactSize=maximumTwoLevelStoredArtifactSize;
  try {
    projectFilesystem.mkdirs(BuckConstant.SCRATCH_PATH);
    this.emptyFilePath=projectFilesystem.resolve(projectFilesystem.createTempFile(BuckConstant.SCRATCH_PATH,".buckcache",".empty"));
  }
 catch (  IOException e) {
    throw new HumanReadableException("Could not create file in " + projectFilesystem.resolve(BuckConstant.SCRATCH_PATH));
  }
}
