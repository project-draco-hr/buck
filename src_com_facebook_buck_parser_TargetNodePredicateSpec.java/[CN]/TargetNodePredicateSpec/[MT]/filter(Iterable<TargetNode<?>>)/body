{
  ImmutableSet.Builder<BuildTarget> targets=ImmutableSet.builder();
  for (  TargetNode<?> node : nodes) {
    if (predicate.apply(node)) {
      targets.add(node.getBuildTarget());
    }
  }
  return targets.build();
}
