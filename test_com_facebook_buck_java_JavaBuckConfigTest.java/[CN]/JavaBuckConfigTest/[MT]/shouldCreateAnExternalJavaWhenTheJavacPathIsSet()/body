{
  File javac=temporaryFolder.newFile();
  javac.setExecutable(true);
  String localConfig="[tools]\njavac = " + javac;
  JavaBuckConfig config=createWithDefaultFilesystem(new StringReader(localConfig));
  ProcessExecutorParams params=ProcessExecutorParams.builder().setCommand(ImmutableList.of(javac.toString(),"-version")).build();
  FakeProcess result=new FakeProcess(0,"","woohoo");
  FakeProcessExecutor processExecutor=new FakeProcessExecutor(ImmutableMap.of(params,result));
  Javac actualJavac=config.getJavac(processExecutor);
  assertTrue(actualJavac instanceof ExternalJavac);
  assertEquals("woohoo",actualJavac.getVersion().getVersionString());
}
