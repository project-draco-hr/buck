{
  DefaultZipSplitter.splitZip(Collections.singleton(testInZip),outPrimary,tmpDir.getRoot(),secondaryPattern,80,80,processor,ZipSplitter.DexSplitStrategy.MINIMIZE_PRIMARY_DEX_SIZE,ZipSplitter.CanaryStrategy.INCLUDE_CANARIES,tmpDir.newFolder("report")).execute();
  assertTrue(nthSecondaryZipContains(1,"secondary/dex01/Canary.class"));
  assertTrue(nthSecondaryZipContains(2,"secondary/dex02/Canary.class"));
  assertTrue(nthSecondaryZipContains(3,"secondary/dex03/Canary.class"));
  assertTrue(nthSecondaryZipContains(4,"secondary/dex04/Canary.class"));
}
