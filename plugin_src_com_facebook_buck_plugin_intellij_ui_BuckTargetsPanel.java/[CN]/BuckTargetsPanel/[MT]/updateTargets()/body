{
  EventQueue.invokeLater(new Runnable(){
    @Override public void run(){
      treeModel=new DefaultTreeModel(treeRoot);
      treeModel.insertNodeInto(targetsRoot,treeRoot,treeRoot.getChildCount());
      treeModel.insertNodeInto(testsRoot,treeRoot,treeRoot.getChildCount());
      for (      BuckTarget target : component.getTargets()) {
        TargetNode node=target.createTreeNode();
        TargetNode parent;
        if (node.getType() == TargetNode.Type.JAVA_TEST) {
          parent=testsRoot;
        }
 else {
          parent=targetsRoot;
        }
        treeModel.insertNodeInto(node,parent,parent.getChildCount());
      }
      tree.setModel(treeModel);
    }
  }
);
}
