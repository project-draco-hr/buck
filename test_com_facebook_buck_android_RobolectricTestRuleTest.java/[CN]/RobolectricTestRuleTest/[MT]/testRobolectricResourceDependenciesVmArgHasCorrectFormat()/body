{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  String resDep1="res1";
  String resDep2="res2";
  String resDep3="res3";
  StringBuilder expectedVmArgBuilder=new StringBuilder();
  expectedVmArgBuilder.append("-D").append(RobolectricTestRule.LIST_OF_RESOURCE_DIRECTORIES_PROPERTY_NAME).append("=").append(resDep1).append(File.pathSeparator).append(resDep2).append(File.pathSeparator).append(resDep3);
  BuildTarget robolectricBuildTarget=BuildTargetFactory.newInstance("//java/src/com/facebook/base/robolectricTest:robolectricTest");
  RobolectricTestRule testRule=(RobolectricTestRule)ruleResolver.buildAndAddToIndex(RobolectricTestRule.newRobolectricTestRuleBuilder(new FakeAbstractBuildRuleBuilderParams()).setBuildTarget(robolectricBuildTarget));
  String result=testRule.getRobolectricResourceDirectories(ImmutableList.<HasAndroidResourceDeps>of(new ResourceRule(resDep1),new ResourceRule(resDep2),new ResourceRule(resDep3)));
  assertEquals(expectedVmArgBuilder.toString(),result);
}
