{
  ImmutableSet<SourcePath> possibleSourcePaths=possibleDepFileSourcePaths.isPresent() ? possibleDepFileSourcePaths.get() : builder.getInputsSoFar();
  ImmutableSet<DependencyFileEntry> inputSet=ImmutableSet.copyOf(depFileEntries);
  ImmutableMultimap.Builder<DependencyFileEntry,SourcePath> entryToSourcePathsBuilder=ImmutableMultimap.builder();
  for (  SourcePath input : possibleSourcePaths) {
    DependencyFileEntry entry=DependencyFileEntry.fromSourcePath(input,pathResolver);
    if (inputSet.contains(entry)) {
      entryToSourcePathsBuilder.put(entry,input);
    }
  }
  return entryToSourcePathsBuilder.build();
}
