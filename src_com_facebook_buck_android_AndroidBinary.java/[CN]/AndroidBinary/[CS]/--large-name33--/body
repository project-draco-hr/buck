{
  super(params.getBuildTarget());
  this.originalBuildRuleParams=params;
  this.javacOptions=Preconditions.checkNotNull(javacOptions);
  this.proguardJarOverride=Preconditions.checkNotNull(proguardJarOverride);
  this.manifest=Preconditions.checkNotNull(manifest);
  this.target=Preconditions.checkNotNull(target);
  this.classpathDeps=originalDeps;
  this.keystore=Preconditions.checkNotNull(keystore);
  this.packageType=Preconditions.checkNotNull(packageType);
  this.dexSplitMode=Preconditions.checkNotNull(dexSplitMode);
  this.buildTargetsToExcludeFromDex=ImmutableSet.copyOf(Preconditions.checkNotNull(buildTargetsToExcludeFromDex));
  this.sdkProguardConfig=sdkProguardConfig;
  this.optimizationPasses=Preconditions.checkNotNull(proguardOptimizationPasses);
  this.proguardConfig=Preconditions.checkNotNull(proguardConfig);
  this.resourceCompressionMode=Preconditions.checkNotNull(resourceCompressionMode);
  this.cpuFilters=ImmutableSet.copyOf(cpuFilters);
  this.resourceFilter=Preconditions.checkNotNull(resourceFilter);
  this.buildStringSourceMap=buildStringSourceMap;
  this.disablePreDex=disablePreDex;
  this.exopackage=exopackage;
  this.preprocessJavaClassesDeps=ImmutableSortedSet.copyOf(preprocessJavaClassesDeps);
  this.preprocessJavaClassesBash=Preconditions.checkNotNull(preprocessJavaClassesBash);
  this.primaryDexPath=getPrimaryDexPath(params.getBuildTarget());
}
