{
  if (!resources.isEmpty()) {
    for (    String resource : resources) {
      String javaPackageAsPath=javaPackageFinder.findJavaPackageFolderForPath(resource);
      String relativeSymlinkPath;
      if ("".equals(javaPackageAsPath)) {
        relativeSymlinkPath=resource;
      }
 else {
        int lastIndex=resource.lastIndexOf(javaPackageAsPath);
        Preconditions.checkState(lastIndex >= 0,"Resource path %s must contain %s",resource,javaPackageAsPath);
        relativeSymlinkPath=resource.substring(lastIndex);
      }
      String target=outputDirectory + '/' + relativeSymlinkPath;
      MkdirAndSymlinkFileCommand link=new MkdirAndSymlinkFileCommand(resource,target);
      commands.add(link);
    }
  }
}
