{
  for (int i=0; i < className.length(); ++i) {
    if (className.charAt(i) == '.') {
      String directoryPath=getPath(className.substring(0,i + 1));
      if (directoryPaths.contains(directoryPath)) {
        continue;
      }
      createDirectory(directoryPath);
      directoryPaths.add(directoryPath);
    }
  }
  if (kind.equals(JavaFileObject.Kind.SOURCE)) {
    return delegate.getJavaFileForOutput(location,className,kind,sibling);
  }
  for (  Pattern pattern : classesToRemoveFromJar) {
    if (pattern.matcher(className.toString()).find()) {
      return createJavaNoOpFileObject(getPath(className,kind),kind);
    }
  }
  return createJavaMemoryFileObject(getPath(className,kind),kind);
}
