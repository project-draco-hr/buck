{
  final List<File> allFiles=new ArrayList<>();
  Files.walkFileTree(filesystem.resolve(cacheDir),ImmutableSet.<FileVisitOption>of(),Integer.MAX_VALUE,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult visitFile(    Path file,    BasicFileAttributes attrs) throws IOException {
      allFiles.add(file.toFile());
      return super.visitFile(file,attrs);
    }
  }
);
  return allFiles.toArray(new File[0]);
}
