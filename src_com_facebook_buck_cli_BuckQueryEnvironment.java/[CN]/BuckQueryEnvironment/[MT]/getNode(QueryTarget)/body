{
  Preconditions.checkState(target instanceof QueryBuildTarget);
  try {
    return params.getParser().getOrLoadTargetNode(((QueryBuildTarget)target).getBuildTarget(),params.getBuckEventBus(),params.getConsole(),params.getEnvironment(),enableProfiling);
  }
 catch (  BuildTargetException|BuildFileParseException|IOException e) {
    throw new QueryException("Error getting target node for " + target + "\n"+ e.getMessage());
  }
}
