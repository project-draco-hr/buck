{
  try {
    graph=params.getParser().buildTargetGraphForBuildTargets(targetNodes,new ParserConfig(params.getBuckConfig()),params.getBuckEventBus(),params.getConsole(),params.getEnvironment(),enableProfiling);
  }
 catch (  BuildTargetException|BuildFileParseException|IOException e) {
    params.getConsole().printBuildFailureWithoutStacktrace(e);
    throw new QueryException("error in building depencency graph");
  }
}
