{
  try {
    ImmutableSet<QueryTarget> targets=targetPatternEvaluator.resolveTargetPattern(pattern);
    updateTargetGraph(targets);
    return targets;
  }
 catch (  BuildTargetException|BuildFileParseException|IOException e) {
    throw new QueryException("Error in resolving targets matching " + pattern);
  }
catch (  InterruptedException e) {
    throw (QueryException)new QueryException("Interrupted").initCause(e);
  }
}
