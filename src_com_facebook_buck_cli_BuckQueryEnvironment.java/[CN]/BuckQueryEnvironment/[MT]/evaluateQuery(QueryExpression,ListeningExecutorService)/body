{
  Set<String> targetLiterals=new HashSet<>();
  expr.collectTargetPatterns(targetLiterals);
  try {
    targetPatternEvaluator.preloadTargetPatterns(targetLiterals,executor);
  }
 catch (  IOException e) {
    throw new QueryException("Error in preloading targets. %s: %s",e.getClass(),e.getMessage());
  }
catch (  BuildTargetException|BuildFileParseException e) {
    throw new QueryException("Error in preloading targets. %s",e.getMessage());
  }
  return expr.eval(this,executor);
}
