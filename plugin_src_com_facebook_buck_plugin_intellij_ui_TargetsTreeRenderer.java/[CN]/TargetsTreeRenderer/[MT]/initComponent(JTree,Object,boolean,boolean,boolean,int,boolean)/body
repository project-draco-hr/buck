{
  if (value instanceof TargetNode) {
    TargetNode node=(TargetNode)value;
    String[] text=new String[]{node.getName()};
    Icon icon;
switch (node.getType()) {
case DIRECTORY:
      icon=AllIcons.Hierarchy.Base;
    break;
case JAVA_LIBRARY:
  icon=AllIcons.Modules.Library;
break;
case JAVA_BINARY:
icon=AllIcons.RunConfigurations.Application;
break;
case JAVA_TEST:
icon=AllIcons.RunConfigurations.Junit;
break;
case OTHER:
icon=AllIcons.General.ExternalTools;
break;
default :
icon=AllIcons.General.Error;
}
setText(text,"");
setIcon(icon);
}
 else {
String[] text=new String[]{value == null ? "" : value.toString()};
text[0]=Strings.nullToEmpty(text[0]);
setText(text,null);
setIcon(null);
}
}
