{
  return new Function<TargetNode<?>,SourcePathResolver>(){
    @Override public SourcePathResolver apply(    TargetNode<?> input){
      TargetGraphToActionGraph targetGraphToActionGraph=new TargetGraphToActionGraph(BuckEventBusFactory.newInstance(),new DefaultTargetNodeToBuildRuleTransformer());
      TargetGraph subgraph=targetGraph.getSubgraph(ImmutableSet.of(input));
      BuildRuleResolver ruleResolver=Preconditions.checkNotNull(targetGraphToActionGraph.apply(subgraph)).getResolver();
      return new SourcePathResolver(ruleResolver);
    }
  }
;
}
