{
  if ((object instanceof String) && (((String)object).startsWith("//") || ((String)object).startsWith(":"))) {
    BuildTarget buildTarget=buildTargetTypeCoercer.coerce(buildTargetParser,buildRuleResolver,filesystem,pathRelativeToProjectRoot,object);
    Optional<BuildRule> rule=buildRuleResolver.getRuleOptional(buildTarget);
    if (!rule.isPresent()) {
      throw CoerceFailedException.simple(object,BuildRule.class);
    }
    return new BuildTargetSourcePath(rule.get().getBuildTarget());
  }
 else {
    Path path=pathTypeCoercer.coerce(buildTargetParser,buildRuleResolver,filesystem,pathRelativeToProjectRoot,object);
    return new PathSourcePath(path);
  }
}
