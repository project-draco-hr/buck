{
  assumeTrue(WatchmanWatcher.isWatchmanAvailable());
  tmp.newFile("CreatedBeforeWatch");
  EventBus eventBus=createStrictMock(EventBus.class);
  replay(eventBus);
  try (WatchmanWatch watch=new WatchmanWatch(tmp.getRoot().toPath())){
    WatchmanWatcher watcher=new WatchmanWatcher(tmp.getRoot().toPath().toString(),Optional.<String>absent(),eventBus,new FakeClock(0),new ObjectMapper(),new ArrayList<Path>(),new ArrayList<String>());
    watcher.postEvents(new BuckEventBus(new FakeClock(0),new BuildId()));
  }
   verify(eventBus);
}
