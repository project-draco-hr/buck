{
  List<JavaFileObject> compilationUnits=Lists.newArrayList();
  for (  String path : javaSourceFilePaths) {
    if (path.endsWith(".java")) {
      Iterable<? extends JavaFileObject> javaFileObjects=fileManager.getJavaFileObjects(pathRelativizer.apply(path));
      compilationUnits.add(Iterables.getOnlyElement(javaFileObjects));
    }
 else     if (path.endsWith(".src.zip")) {
      ZipFile zipFile=new ZipFile(pathRelativizer.apply(path));
      for (Enumeration<? extends ZipEntry> entries=zipFile.entries(); entries.hasMoreElements(); ) {
        ZipEntry entry=entries.nextElement();
        if (!entry.getName().endsWith(".java")) {
          continue;
        }
        compilationUnits.add(new ZipEntryJavaFileObject(zipFile,entry));
      }
    }
  }
  return compilationUnits;
}
