{
  ImmutableList.Builder<String> builder=ImmutableList.builder();
  javacOptions.appendOptionsToList(builder,context.getProjectFilesystem().getPathRelativizer());
  if (context.getVerbosity().shouldUseVerbosityFlagIfAvailable()) {
    builder.add("-verbose");
  }
  Function<String,String> pathRelativizer=context.getProjectFilesystem().getPathRelativizer();
  builder.add("-d").add(pathRelativizer.apply(pathToOutputDirectory));
  if (!buildClasspathEntries.isEmpty()) {
    String classpath=Joiner.on(File.pathSeparator).join(Iterables.transform(buildClasspathEntries,pathRelativizer));
    builder.add("-classpath",classpath);
  }
  return builder.build();
}
