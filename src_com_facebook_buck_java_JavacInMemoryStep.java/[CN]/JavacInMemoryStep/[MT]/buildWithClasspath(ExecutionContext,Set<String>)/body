{
  JavaCompiler compiler=ToolProvider.getSystemJavaCompiler();
  Preconditions.checkNotNull(compiler,"If using JRE instead of JDK, ToolProvider.getSystemJavaCompiler() may be null.");
  StandardJavaFileManager fileManager=compiler.getStandardFileManager(null,null,null);
  DiagnosticCollector<JavaFileObject> diagnostics=new DiagnosticCollector<JavaFileObject>();
  List<String> options=getOptions(context,buildClasspathEntries);
  List<String> classNamesForAnnotationProcessing=ImmutableList.of();
  Iterable<? extends JavaFileObject> compilationUnits=fileManager.getJavaFileObjectsFromStrings(Iterables.transform(javaSourceFilePaths,context.getProjectFilesystem().getPathRelativizer()));
  Writer compilerOutputWriter=new PrintWriter(context.getStdErr());
  JavaCompiler.CompilationTask compilationTask=compiler.getTask(compilerOutputWriter,fileManager,diagnostics,options,classNamesForAnnotationProcessing,compilationUnits);
  AbiWriter abiWriter=new AbiWriter();
  compilationTask.setProcessors(ImmutableList.of(abiWriter));
  boolean isSuccess=compilationTask.call();
  if (isSuccess) {
    abiKey=abiWriter.computeAbiKey();
    return 0;
  }
 else {
    if (context.getVerbosity().shouldPrintStandardInformation()) {
      for (      Diagnostic<? extends JavaFileObject> diagnostic : diagnostics.getDiagnostics()) {
        context.getStdErr().println(diagnostic);
      }
    }
    return 1;
  }
}
