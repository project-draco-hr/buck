{
  Preconditions.checkState(isRuleBuilt(),"%s must be built before tests can be run.",this);
  if (isRuleBuiltFromCache()) {
    return ImmutableList.of();
  }
  Command mkdirClean=new MakeCleanDirectoryCommand(getPathToTestOutputDirectory());
  Command runTest=new RunShTestAndRecordResultCommand(test,getPathToTestOutputResult());
  return ImmutableList.of(mkdirClean,runTest);
}
