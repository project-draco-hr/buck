{
  BuildRule libraryRule=JavaLibraryBuilder.createBuilder(BuildTarget.builder("//java/src/com/bar","bar").build()).build(new BuildRuleResolver());
  return AndroidLibraryBuilder.createBuilder(BuildTargetFactory.newInstance("//java/src/com/foo:foo")).addSrc(Paths.get("java/src/com/foo/Foo.java")).setManifestFile(new PathSourcePath(Paths.get("java/src/com/foo/AndroidManifest.xml"))).addExportedDep(libraryRule).addDep(libraryRule).build(ruleResolver);
}
