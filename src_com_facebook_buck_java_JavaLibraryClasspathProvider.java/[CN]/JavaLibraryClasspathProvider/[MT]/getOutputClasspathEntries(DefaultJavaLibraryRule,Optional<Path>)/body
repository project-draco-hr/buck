{
  ImmutableSetMultimap.Builder<JavaLibraryRule,String> outputClasspathBuilder=ImmutableSetMultimap.builder();
  Iterable<JavaLibraryRule> javaExportedLibraryDeps=Iterables.filter(javaLibraryRule.getExportedDeps(),JavaLibraryRule.class);
  for (  JavaLibraryRule rule : javaExportedLibraryDeps) {
    outputClasspathBuilder.putAll(rule,rule.getOutputClasspathEntries().values());
    outputClasspathBuilder.putAll(javaLibraryRule,rule.getOutputClasspathEntries().values());
  }
  if (outputJar.isPresent()) {
    outputClasspathBuilder.put(javaLibraryRule,outputJar.get().toString());
  }
  return outputClasspathBuilder.build();
}
