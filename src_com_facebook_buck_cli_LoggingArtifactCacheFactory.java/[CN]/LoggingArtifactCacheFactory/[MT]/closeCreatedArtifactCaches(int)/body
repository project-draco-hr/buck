{
  ExecutorService cachesTerminationService=MoreExecutors.newSingleThreadExecutor(new LogFormatter.CommandThreadFactory("close_artifact_caches"));
  for (  final ArtifactCache cache : createdArtifactCaches) {
    cachesTerminationService.submit(new Callable<Void>(){
      @Override public Void call() throws IOException {
        cache.close();
        return null;
      }
    }
);
  }
  cachesTerminationService.shutdown();
  cachesTerminationService.awaitTermination(timeoutInSeconds,TimeUnit.SECONDS);
}
