from __future__ import print_function
import os
import platform
import re
import signal
import subprocess
import sys
import tempfile
import textwrap
import time
from timing import monotonic_time_nanos
from tracing import Tracing
from subprocutils import check_output, CalledProcessError
MAX_BUCKD_RUN_COUNT = 64
BUCKD_CLIENT_TIMEOUT_MILLIS = 60000
GC_MAX_PAUSE_TARGET = 15000
BUCKD_LOG_FILE_PATTERN = re.compile('^NGServer.* port (\\d+)\\.$')
NAILGUN_CONNECTION_REFUSED_CODE = 230
NAILGUN_UNEXPECTED_CHUNK_TYPE = 229
NAILGUN_CONNECTION_BROKEN_CODE = 227
JAVA_MAX_HEAP_SIZE_MB = 1000
CLIENT = Resource('buck_client', executable=True, basename='ng')
EXPORTED_RESOURCES = [Resource('testrunner_classes'), Resource('abi_processor_classes'), Resource('path_to_asm_jar'), Resource('logging_config_file'), Resource('path_to_pathlib_py', basename='pathlib.py'), Resource('path_to_compile_asset_catalogs_py'), Resource('path_to_compile_asset_catalogs_build_phase_sh'), Resource('path_to_intellij_py'), Resource('path_to_pex'), Resource('path_to_python_test_main'), Resource('path_to_sh_binary_template'), Resource('jacoco_agent_jar'), Resource('report_generator_jar'), Resource('path_to_static_content'), Resource('path_to_pex', executable=True), Resource('quickstart_origin_dir'), Resource('dx'), Resource('android_agent_path'), Resource('native_exopackage_fake_path')]
