{
  BuildTarget target=params.getBuildTarget();
  BuildTarget binaryTarget=DDescriptionUtils.createBuildTargetForFile(target,"build-",target.getFullyQualifiedName(),cxxPlatform);
  BuildRule binaryRule=DDescriptionUtils.createNativeLinkable(params.copyWithBuildTarget(binaryTarget),args.srcs,ImmutableList.of("-unittest"),buildRuleResolver,cxxPlatform,dBuckConfig);
  return new DTest(params.appendExtraDeps(ImmutableList.of(binaryRule)),new SourcePathResolver(buildRuleResolver),binaryRule,args.contacts.get(),args.labels.get(),args.testRuleTimeoutMs.or(defaultTestRuleTimeoutMs),buildRuleResolver.getAllRules(args.sourceUnderTest.or(ImmutableSortedSet.<BuildTarget>of())));
}
