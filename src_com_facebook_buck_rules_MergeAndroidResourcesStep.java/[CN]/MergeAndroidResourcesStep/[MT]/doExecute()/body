{
  SortedSetMultimap<String,Resource> rDotJavaPackageToResources=sortSymbols(new Function<String,Readable>(){
    @Override public Readable apply(    String pathToFile){
      try {
        return new FileReader(pathToFile);
      }
 catch (      FileNotFoundException e) {
        throw new RuntimeException(e);
      }
    }
  }
,symbolsFileToRDotJavaPackage,true);
  for (  String rDotJavaPackage : rDotJavaPackageToResources.keySet()) {
    SortedSet<Resource> resources=rDotJavaPackageToResources.get(rDotJavaPackage);
    File rDotJava=getOutputFile(pathToGeneratedJavaFiles,rDotJavaPackage);
    Files.createParentDirs(rDotJava);
    BufferedWriter writer=Files.newWriter(rDotJava,Charsets.UTF_8);
    try {
      writeJavaCodeForPackageAndResources(new PrintWriter(writer),rDotJavaPackage,resources);
    }
  finally {
      writer.close();
    }
  }
}
