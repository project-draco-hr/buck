{
  ProjectFilesystem filesystem=context.getProjectFilesystem();
  Map<String,NativeStringInfo> nativeStrings=Maps.newHashMap();
  for (  Path resDir : resDirectories) {
    Path stringsPath=resDir.resolve("values").resolve("strings.xml");
    Path stringsFile=filesystem.getPathForRelativePath(stringsPath);
    if (Files.exists(stringsFile)) {
      try {
        Document dom=XmlDomParser.parse(stringsFile);
        NodeList stringNodes=dom.getElementsByTagName("string");
        scrapeNodes(stringNodes,stringsPath.toString(),nativeStrings);
        NodeList pluralNodes=dom.getElementsByTagName("plurals");
        scrapeNodes(pluralNodes,stringsPath.toString(),nativeStrings);
        NodeList arrayNodes=dom.getElementsByTagName("string-array");
        scrapeNodes(arrayNodes,stringsPath.toString(),nativeStrings);
      }
 catch (      IOException|SAXException ex) {
        context.logError(ex,"Failed to parse strings file: '%s'",stringsPath);
      }
    }
  }
  return nativeStrings;
}
