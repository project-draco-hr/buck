{
  Preconditions.checkNotNull(step);
  if (context.getVerbosity().shouldPrintCommand()) {
    context.getStdErr().println(step.getDescription(context));
  }
  BuckEventBus buckEventBus=context.getBuckEventBus();
  buckEventBus.post(StepEvent.started(step,step.getDescription(context)));
  int exitCode=step.execute(context);
  buckEventBus.post(StepEvent.finished(step,step.getDescription(context),exitCode));
  if (exitCode != 0) {
    throw StepFailedException.createForFailingStep(step,context,exitCode,buildTarget);
  }
}
