{
  if (context.getVerbosity().shouldPrintCommand()) {
    context.getStdErr().println(step.getDescription(context));
  }
  String stepShortName=step.getShortName();
  String stepDescription=step.getDescription(context);
  UUID stepUuid=UUID.randomUUID();
  context.getBuckEventBus().logDebugAndPost(LOG,StepEvent.started(stepShortName,stepDescription,stepUuid));
  int exitCode=1;
  try {
    exitCode=step.execute(context);
  }
 catch (  IOException|RuntimeException e) {
    throw StepFailedException.createForFailingStepWithException(step,e,buildTarget);
  }
 finally {
    context.getBuckEventBus().logDebugAndPost(LOG,StepEvent.finished(stepShortName,stepDescription,stepUuid,exitCode));
  }
  if (exitCode != 0) {
    throw StepFailedException.createForFailingStepWithExitCode(step,context,exitCode,buildTarget);
  }
}
