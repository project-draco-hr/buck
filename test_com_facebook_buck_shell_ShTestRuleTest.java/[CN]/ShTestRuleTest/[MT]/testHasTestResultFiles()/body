{
  ShTestRule shTest=new ShTestRule(createBuildRuleParams(),"run_test.sh",ImmutableSet.<String>of());
  ProjectFilesystem filesystem=createMock(ProjectFilesystem.class);
  EasyMock.expect(filesystem.isFile(shTest.getPathToTestOutputResult())).andReturn(true);
  BuildContext buildContext=createMock(BuildContext.class);
  EasyMock.expect(buildContext.getProjectFilesystem()).andReturn(filesystem);
  replayAll();
  assertTrue("hasTestResultFiles() should return true if result.json exists.",shTest.hasTestResultFiles(buildContext));
}
