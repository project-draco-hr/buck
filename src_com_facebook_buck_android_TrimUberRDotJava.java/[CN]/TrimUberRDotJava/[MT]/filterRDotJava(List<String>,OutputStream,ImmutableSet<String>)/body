{
  String packageName=null;
  Matcher m;
  for (  String line : rDotJavaLines) {
    if (packageName == null) {
      m=R_DOT_JAVA_PACKAGE_NAME_PATTERN.matcher(line);
      if (m.find()) {
        packageName=m.group(1);
      }
 else {
        continue;
      }
    }
    m=R_DOT_JAVA_LINE_PATTERN.matcher(line);
    if (m.find() && !allReferencedResources.contains(packageName + "." + m.group(1))) {
      continue;
    }
    output.write(line.getBytes(Charsets.UTF_8));
    output.write('\n');
  }
}
