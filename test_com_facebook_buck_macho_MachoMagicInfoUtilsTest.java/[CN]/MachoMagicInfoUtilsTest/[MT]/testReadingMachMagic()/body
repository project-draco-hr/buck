{
  ByteBuffer buffer=ByteBuffer.allocate(MachoHeaderUtils.MAGIC_SIZE).order(ByteOrder.BIG_ENDIAN).putInt(MachoHeader.MH_MAGIC.intValue());
  buffer.position(0);
  MachoMagicInfo info32=MachoMagicInfoUtils.getMachMagicInfo(buffer);
  assertThat(info32.isValidMachMagic(),equalTo(true));
  assertThat(info32.is64Bit(),equalTo(false));
  assertThat(info32.isSwapped(),equalTo(false));
  buffer.position(0);
  buffer.putInt(MachoHeader.MH_CIGAM.intValue());
  buffer.position(0);
  MachoMagicInfo swapped32=MachoMagicInfoUtils.getMachMagicInfo(buffer);
  assertThat(swapped32.isValidMachMagic(),equalTo(true));
  assertThat(swapped32.is64Bit(),equalTo(false));
  assertThat(swapped32.isSwapped(),equalTo(true));
  buffer.position(0);
  buffer.putInt(MachoHeader.MH_MAGIC_64.intValue());
  buffer.position(0);
  MachoMagicInfo info64=MachoMagicInfoUtils.getMachMagicInfo(buffer);
  assertThat(info64.isValidMachMagic(),equalTo(true));
  assertThat(info64.is64Bit(),equalTo(true));
  assertThat(info64.isSwapped(),equalTo(false));
  buffer.position(0);
  buffer.putInt(MachoHeader.MH_CIGAM_64.intValue());
  buffer.position(0);
  MachoMagicInfo swapped64=MachoMagicInfoUtils.getMachMagicInfo(buffer);
  assertThat(swapped64.isValidMachMagic(),equalTo(true));
  assertThat(swapped64.is64Bit(),equalTo(true));
  assertThat(swapped64.isSwapped(),equalTo(true));
  buffer.position(0);
  buffer.putInt(1234);
  buffer.position(0);
  MachoMagicInfo invalid=MachoMagicInfoUtils.getMachMagicInfo(buffer);
  assertThat(invalid.isValidMachMagic(),equalTo(false));
}
