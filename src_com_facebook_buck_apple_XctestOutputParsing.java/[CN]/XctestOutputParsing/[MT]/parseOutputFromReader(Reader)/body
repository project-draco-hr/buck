{
  ImmutableListMultimap.Builder<String,TestResultSummary> testResultSummariesBuilder=ImmutableListMultimap.builder();
  try (BufferedReader br=new BufferedReader(reader)){
    String line;
    while ((line=br.readLine()) != null) {
      handleLine(line,testResultSummariesBuilder);
    }
  }
   ImmutableList.Builder<TestCaseSummary> result=ImmutableList.builder();
  for (  Map.Entry<String,Collection<TestResultSummary>> testCaseSummary : testResultSummariesBuilder.build().asMap().entrySet()) {
    result.add(new TestCaseSummary(testCaseSummary.getKey(),ImmutableList.copyOf(testCaseSummary.getValue())));
  }
  return result.build();
}
