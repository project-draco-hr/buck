{
  this.projectFilesystem=projectFilesystem;
  this.buildFiles=Preconditions.checkNotNull(buildFiles);
  this.ansi=Preconditions.checkNotNull(ansi);
  this.knownBuildTargets=Preconditions.checkNotNull(knownBuildTargets);
  this.ruleTypeToFactoryMap=getRuleTypeToFactoryMap();
  this.buildTargetParser=Preconditions.checkNotNull(buildTargetParser);
  this.parsedBuildFiles=Sets.newHashSet();
  this.absolutePathToProjectRoot=projectFilesystem.getProjectRoot().getAbsolutePath();
}
