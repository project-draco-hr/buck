{
  this.repositoryFactory=Preconditions.checkNotNull(repositoryFactory);
  this.repository=repositoryFactory.getRootRepository();
  this.buildFileTreeCache=new BuildFileTreeCache(Preconditions.checkNotNull(buildFileTreeSupplier));
  this.buildTargetParser=Preconditions.checkNotNull(buildTargetParser);
  this.buildFileParserFactory=Preconditions.checkNotNull(buildFileParserFactory);
  this.ruleKeyBuilderFactory=Preconditions.checkNotNull(ruleKeyBuilderFactory);
  this.buildFileDependents=ArrayListMultimap.create();
  this.tempFilePatterns=tempFilePatterns;
  this.state=new CachedState();
}
