{
  this.repository=Preconditions.checkNotNull(repository);
  this.environment=Preconditions.checkNotNull(environment);
  this.buildFileTreeCache=new BuildFileTreeCache(Preconditions.checkNotNull(buildFileTreeSupplier));
  this.memoizedTargetNodes=Maps.newHashMap();
  this.buildTargetParser=Preconditions.checkNotNull(buildTargetParser);
  this.buildFileParserFactory=Preconditions.checkNotNull(buildFileParserFactory);
  this.ruleKeyBuilderFactory=Preconditions.checkNotNull(ruleKeyBuilderFactory);
  this.parsedBuildFiles=ArrayListMultimap.create();
  this.targetsToFile=Maps.newHashMap();
  this.buildFileDependents=ArrayListMultimap.create();
  this.tempFilePatterns=tempFilePatterns;
}
