{
  if (!environment.equals(cacheEnvironment)) {
    if (cacheEnvironment != null) {
      LOG.warn("Environment variables changed (%s). Discarding cache to avoid effects on build. " + "This will make builds very slow.",Maps.difference(cacheEnvironment,environment));
    }
    invalidateCache();
    this.cacheEnvironment=environment;
    return true;
  }
  return false;
}
