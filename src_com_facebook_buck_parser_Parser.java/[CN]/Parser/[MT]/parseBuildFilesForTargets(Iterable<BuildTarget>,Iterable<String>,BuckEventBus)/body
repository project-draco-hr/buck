{
  eventBus.post(ParseEvent.started(buildTargets));
  if (!isCacheComplete(defaultIncludes)) {
    Set<File> buildTargetFiles=Sets.newHashSet();
    for (    BuildTarget buildTarget : buildTargets) {
      File buildFile=buildTarget.getBuildFile();
      boolean isNewElement=buildTargetFiles.add(buildFile);
      if (isNewElement) {
        parseBuildFile(buildFile,defaultIncludes);
      }
    }
  }
  DependencyGraph graph=findAllTransitiveDependencies(buildTargets,defaultIncludes);
  eventBus.post(ParseEvent.finished(buildTargets));
  return graph;
}
