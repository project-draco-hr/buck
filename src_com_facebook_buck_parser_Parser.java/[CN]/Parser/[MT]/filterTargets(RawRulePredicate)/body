{
  if (filter == null) {
    return null;
  }
  List<BuildTarget> matchingTargets=Lists.newArrayList();
  for (  Map<String,Object> map : parsedBuildFiles.values()) {
    BuildRuleType buildRuleType=parseBuildRuleTypeFromRawRule(map);
    BuildTarget target=parseBuildTargetFromRawRule(map,null);
    if (filter.isMatch(map,buildRuleType,target)) {
      matchingTargets.add(target);
    }
  }
  return matchingTargets;
}
