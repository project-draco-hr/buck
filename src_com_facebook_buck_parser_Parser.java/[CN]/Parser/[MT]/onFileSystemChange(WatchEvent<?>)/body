{
  if (console.getVerbosity() == Verbosity.ALL) {
    console.getStdErr().printf("Parser watched event %s %s\n",event.kind(),createContextString(event));
  }
  if (projectFilesystem.isPathChangeEvent(event)) {
    Path path=(Path)event.context();
    if (isPathCreateOrDeleteEvent(event)) {
      if (path.endsWith(BuckConstant.BUILD_RULES_FILE_NAME)) {
        buildFileTreeCache.invalidate();
      }
      String packageBuildFilePath=buildFileTreeCache.getInput().getBasePathOfAncestorTarget(projectFilesystem.getProjectRoot().toPath().relativize(path).toString());
      invalidateDependents(projectFilesystem.getFileForRelativePath(packageBuildFilePath + '/' + BuckConstant.BUILD_RULES_FILE_NAME).toPath());
    }
    invalidateDependents(path);
  }
 else {
    buildFileTreeCache.invalidate();
    invalidateCache();
  }
}
