{
  final Repository rootRepository=repositoryFactory.getRootRepository();
  return new Parser(repositoryFactory,enforceBuckPackageBoundary,tempFilePatterns,buildFileName,new Supplier<BuildFileTree>(){
    @Override public BuildFileTree get(){
      return new FilesystemBackedBuildFileTree(rootRepository.getFilesystem(),buildFileName);
    }
  }
,rootRepository.getBuildTargetParser(),new DefaultProjectBuildFileParserFactory(rootRepository.getFilesystem().getRootPath(),pythonInterpreter,allowEmptyGlobs,buildFileName,defaultIncludes,rootRepository.getAllDescriptions()),ruleKeyBuilderFactory);
}
