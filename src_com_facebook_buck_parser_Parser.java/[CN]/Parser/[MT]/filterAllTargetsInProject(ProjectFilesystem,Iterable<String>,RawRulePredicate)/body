{
  Preconditions.checkNotNull(filesystem);
  Preconditions.checkNotNull(includes);
  if (!projectFilesystem.getProjectRoot().equals(filesystem.getProjectRoot())) {
    throw new HumanReadableException(String.format("Unsupported root path change from %s to %s",projectFilesystem.getProjectRoot(),filesystem.getProjectRoot()));
  }
  List<String> includesList=Lists.newArrayList(includes);
  if (!parsedAllBuildFiles() || !includesList.equals(this.includesList)) {
    this.includesList=includesList;
    rawRuleObjects=buildFileParser.getAllRulesInProject(filesystem.getProjectRoot(),includes);
  }
  knownBuildTargets.clear();
  return parseRawRulesInternal(rawRuleObjects,filter,null);
}
