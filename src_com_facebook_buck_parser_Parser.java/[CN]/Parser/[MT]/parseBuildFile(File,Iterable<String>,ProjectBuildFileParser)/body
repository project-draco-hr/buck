{
  Preconditions.checkNotNull(buildFile);
  Preconditions.checkNotNull(defaultIncludes);
  Preconditions.checkNotNull(buildFileParser);
  if (!isCached(buildFile,defaultIncludes)) {
    if (console.getVerbosity().shouldPrintCommand()) {
      console.getStdErr().printf("Parsing %s file: %s\n",BuckConstant.BUILD_RULES_FILE_NAME,buildFile);
    }
    parseRawRulesInternal(buildFileParser.getAllRulesAndMetaRules(buildFile.getPath()));
  }
  return parsedBuildFiles.get(normalize(buildFile.toPath()));
}
