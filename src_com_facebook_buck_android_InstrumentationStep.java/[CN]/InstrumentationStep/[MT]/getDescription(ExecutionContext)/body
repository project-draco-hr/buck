{
  String packageName=AdbHelper.tryToExtractPackageNameFromManifest(apk,context);
  String testRunner=AdbHelper.tryToExtractInstrumentationTestRunnerFromManifest(apk,context);
  StringBuilder builder=new StringBuilder();
  try {
    AdbHelper adbHelper=AdbHelper.get(context,true);
    for (    IDevice device : adbHelper.getDevices(true)) {
      if (builder.length() != 0) {
        builder.append("\n");
      }
      builder.append("adb -s ");
      builder.append(device.getSerialNumber());
      builder.append(" shell am instrument -w ");
      builder.append(packageName);
      builder.append("/");
      builder.append(testRunner);
    }
  }
 catch (  InterruptedException e) {
  }
  return builder.toString();
}
