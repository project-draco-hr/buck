{
  List<BuildTarget> targets=Lists.newArrayList();
  Map<String,BuildRule> buildRuleIndex=Maps.newHashMap();
  for (  String ruleName : ruleNames) {
    BuildTarget buildTarget=BuildTargetFactory.newInstance(ruleName);
    ArtifactCache artifactCache=new NoopArtifactCache();
    BuildRule buildRule=DefaultJavaLibraryRule.newJavaLibraryRuleBuilder().setBuildTarget(buildTarget).setArtifactCache(artifactCache).build(buildRuleIndex);
    buildRuleIndex.put(ruleName,buildRule);
    targets.add(buildTarget);
  }
  PartialGraph partialGraph=EasyMock.createMock(PartialGraph.class);
  EasyMock.expect(partialGraph.getTargets()).andReturn(targets);
  EasyMock.replay(partialGraph);
  return partialGraph;
}
