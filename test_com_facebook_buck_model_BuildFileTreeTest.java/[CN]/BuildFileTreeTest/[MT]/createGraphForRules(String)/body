{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  List<BuildTarget> targets=Lists.newArrayList();
  for (  String ruleName : ruleNames) {
    BuildTarget buildTarget=BuildTargetFactory.newInstance(ruleName);
    ruleResolver.buildAndAddToIndex(DefaultJavaLibrary.newJavaLibraryRuleBuilder(new FakeBuildRuleBuilderParams()).setBuildTarget(buildTarget));
    targets.add(buildTarget);
  }
  PartialGraph partialGraph=EasyMock.createMock(PartialGraph.class);
  EasyMock.expect(partialGraph.getTargets()).andReturn(targets);
  EasyMock.replay(partialGraph);
  return partialGraph;
}
