{
  BuildRuleBuilderParams buildRuleBuilderParams=new BuildRuleBuilderParams();
  List<BuildTarget> targets=Lists.newArrayList();
  for (  String ruleName : ruleNames) {
    BuildTarget buildTarget=BuildTargetFactory.newInstance(ruleName);
    buildRuleBuilderParams.buildAndAddToIndex(DefaultJavaLibraryRule.newJavaLibraryRuleBuilder().setBuildTarget(buildTarget));
    targets.add(buildTarget);
  }
  PartialGraph partialGraph=EasyMock.createMock(PartialGraph.class);
  EasyMock.expect(partialGraph.getTargets()).andReturn(targets);
  EasyMock.replay(partialGraph);
  return partialGraph;
}
