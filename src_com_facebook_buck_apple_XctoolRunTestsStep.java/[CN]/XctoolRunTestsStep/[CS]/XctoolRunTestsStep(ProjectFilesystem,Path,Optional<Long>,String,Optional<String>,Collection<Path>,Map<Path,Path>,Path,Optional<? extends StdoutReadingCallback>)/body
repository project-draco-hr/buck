{
  Preconditions.checkArgument(!(logicTestBundlePaths.isEmpty() && appTestBundleToHostAppPaths.isEmpty()),"Either logic tests (%s) or app tests (%s) must be present",logicTestBundlePaths,appTestBundleToHostAppPaths);
  this.filesystem=filesystem;
  Preconditions.checkArgument(AppleBundleExtensions.allPathsHaveValidTestExtensions(logicTestBundlePaths),"Extension of all logic tests must be one of %s (got %s)",AppleBundleExtensions.VALID_XCTOOL_BUNDLE_EXTENSIONS,logicTestBundlePaths);
  Preconditions.checkArgument(AppleBundleExtensions.allPathsHaveValidTestExtensions(appTestBundleToHostAppPaths.keySet()),"Extension of all app tests must be one of %s (got %s)",AppleBundleExtensions.VALID_XCTOOL_BUNDLE_EXTENSIONS,appTestBundleToHostAppPaths.keySet());
  this.command=createCommandArgs(xctoolPath,sdkName,destinationSpecifier,logicTestBundlePaths,appTestBundleToHostAppPaths);
  this.xctoolStutterTimeout=xctoolStutterTimeout;
  this.outputPath=outputPath;
  this.stdoutReadingCallback=stdoutReadingCallback;
}
