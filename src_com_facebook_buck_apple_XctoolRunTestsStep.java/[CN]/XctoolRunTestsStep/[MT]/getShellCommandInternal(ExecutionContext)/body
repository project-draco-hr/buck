{
  ImmutableList.Builder<String> args=ImmutableList.builder();
  args.add(xctoolPath.toString());
  args.add("-reporter");
  args.add("json-stream:" + outputPath.toString());
  args.add("-sdk",sdkName);
  args.add("-destination");
  args.add(String.format("arch=%s,name=%s",architecture,simulatorName));
  for (  Path logicTestBundlePath : logicTestBundlePaths) {
    args.add("-logicTest");
    args.add(logicTestBundlePath.toString());
  }
  for (  Map.Entry<Path,Path> appTestBundleAndHostApp : appTestBundleToHostAppPaths.entrySet()) {
    args.add("-appTest");
    args.add(appTestBundleAndHostApp.getKey() + ":" + appTestBundleAndHostApp.getValue());
  }
  args.add("run-tests");
  return args.build();
}
