{
  Optional<Tool> configTool=goBuckConfig.getGoTestMainGenerator(resolver);
  if (configTool.isPresent()) {
    return configTool.get();
  }
  BuildRuleParams params=sourceParams.copyWithChanges(BuildTarget.builder(sourceParams.getBuildTarget()).addFlavors(ImmutableFlavor.of("make-test-main-gen")).build(),Suppliers.ofInstance(ImmutableSortedSet.<BuildRule>of()),Suppliers.ofInstance(ImmutableSortedSet.<BuildRule>of()));
  GoBinary binary=createGoBinaryRule(params,resolver,goBuckConfig,cxxPlatform,ImmutableSet.<SourcePath>of(new PathSourcePath(projectFilesystem,MorePaths.relativize(projectFilesystem.getRootPath(),extractTestMainGenerator()))),ImmutableList.<String>of(),ImmutableList.<String>of());
  resolver.addToIndex(binary);
  return binary.getExecutableCommand();
}
