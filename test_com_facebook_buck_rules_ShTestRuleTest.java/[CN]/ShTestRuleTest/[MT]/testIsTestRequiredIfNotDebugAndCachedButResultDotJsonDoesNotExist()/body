{
  ShTestRule shTest=createShTestRule(true);
  ExecutionContext executionContext=createMock(ExecutionContext.class);
  EasyMock.expect(executionContext.isDebugEnabled()).andReturn(false);
  ProjectFilesystem filesystem=createMock(ProjectFilesystem.class);
  EasyMock.expect(filesystem.isFile(shTest.getPathToTestOutputResult())).andReturn(false);
  BuildContext buildContext=createMock(BuildContext.class);
  EasyMock.expect(buildContext.getProjectFilesystem()).andReturn(filesystem);
  replayAll();
  assertTrue("Test run should be required if the result.json file does not exist.",shTest.isTestRunRequired(buildContext,executionContext));
}
