{
  BuildRuleResolver resolver=new BuildRuleResolver();
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  FakeFileHashCache hashCache=new FakeFileHashCache(ImmutableMap.<Path,HashCode>of());
  FakeAbiRuleBuildRule rule=new FakeAbiRuleBuildRule("//:rule",pathResolver);
  rule.setAbiKey(Sha1HashCode.of(Strings.repeat("a",40)));
  RuleKey inputKey1=new AbiRuleKeyBuilderFactory(hashCache,pathResolver).newInstance(rule).build();
  rule.setAbiKey(Sha1HashCode.of(Strings.repeat("b",40)));
  RuleKey inputKey2=new AbiRuleKeyBuilderFactory(hashCache,pathResolver).newInstance(rule).build();
  assertThat(inputKey1,not(equalTo(inputKey2)));
}
