{
  final ProjectFilesystem projectFilesystem=context.getProjectFilesystem();
  ImmutableSet<Path> ignorePaths=ImmutableSet.of();
  DirectoryTraversal traversal=new DirectoryTraversal(projectFilesystem.getFileForRelativePath(binDirectory),ignorePaths){
    @Override public void visit(    File file,    String relativePath) throws IOException {
      Path source=binDirectory.resolve(relativePath);
      Path target=genDirectory.resolve(relativePath);
      projectFilesystem.createParentDirs(target);
      projectFilesystem.copyFile(source,target);
      buildableContext.recordArtifact(target);
    }
  }
;
  try {
    traversal.traverse();
  }
 catch (  IOException e) {
    e.printStackTrace(context.getStdErr());
    return 1;
  }
  return 0;
}
