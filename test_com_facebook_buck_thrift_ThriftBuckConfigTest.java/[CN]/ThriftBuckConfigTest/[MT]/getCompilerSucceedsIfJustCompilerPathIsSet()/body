{
  BuildRuleResolver resolver=new BuildRuleResolver();
  Path thriftPath=Paths.get("thrift_path");
  FakeProjectFilesystem filesystem=new FakeProjectFilesystem();
  filesystem.touch(thriftPath);
  FakeBuckConfig buckConfig=new FakeBuckConfig(ImmutableMap.of("thrift",ImmutableMap.of("compiler",thriftPath.toString())),filesystem);
  ThriftBuckConfig thriftBuckConfig=new ThriftBuckConfig(buckConfig);
  SourcePath compiler=thriftBuckConfig.getCompiler(ThriftLibraryDescription.CompilerType.THRIFT);
  assertTrue(compiler instanceof PathSourcePath);
  assertEquals(thriftPath,new SourcePathResolver(resolver).getPath(compiler));
}
