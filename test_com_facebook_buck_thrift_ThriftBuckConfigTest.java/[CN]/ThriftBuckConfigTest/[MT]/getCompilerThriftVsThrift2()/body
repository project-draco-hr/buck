{
  BuildRuleResolver resolver=new BuildRuleResolver();
  ProjectFilesystem filesystem=new AllExistingProjectFilesystem();
  FakeBuckConfig buckConfig=new FakeBuckConfig(ImmutableMap.of("thrift",ImmutableMap.of("compiler","thrift1","compiler2","thrift2")),filesystem);
  ThriftBuckConfig thriftBuckConfig=new ThriftBuckConfig(buckConfig);
  assertThat(thriftBuckConfig.getCompiler(ThriftLibraryDescription.CompilerType.THRIFT,resolver).getCommandPrefix(new SourcePathResolver(resolver)),Matchers.contains("thrift1"));
  assertThat(thriftBuckConfig.getCompiler(ThriftLibraryDescription.CompilerType.THRIFT2,resolver).getCommandPrefix(new SourcePathResolver(resolver)),Matchers.contains("thrift2"));
}
