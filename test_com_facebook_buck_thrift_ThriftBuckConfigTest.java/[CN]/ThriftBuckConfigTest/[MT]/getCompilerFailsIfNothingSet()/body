{
  BuildRuleResolver resolver=new BuildRuleResolver();
  FakeBuckConfig buckConfig=new FakeBuckConfig();
  ThriftBuckConfig thriftBuckConfig=new ThriftBuckConfig(buckConfig);
  try {
    thriftBuckConfig.getCompiler(resolver);
    fail("expected to throw");
  }
 catch (  HumanReadableException e) {
    assertTrue(e.getMessage(),e.getMessage().contains(".buckconfig: must set either thrift:compiler_target or thrift:compiler_path"));
  }
}
