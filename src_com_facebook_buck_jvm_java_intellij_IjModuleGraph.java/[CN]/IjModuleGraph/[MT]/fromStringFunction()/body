{
  return new Function<String,AggregationMode>(){
    @Override public AggregationMode apply(    String input){
switch (Ascii.toLowerCase(input)) {
case "shallow":
        return SHALLOW;
case "none":
      return NONE;
case "auto":
    return AUTO;
default :
  throw new HumanReadableException("Invalid aggregation mode value %s.",input);
}
}
}
;
}
