{
  BuckConfig buckConfig=mockNdkBuckConfig("r8","r8e");
  ProjectFilesystem projectFilesystem=mockNdkFileSystem("r7");
  replayAll();
  AbstractCommandOptions options=new AbstractCommandOptions(buckConfig){
  }
;
  try {
    options.validateNdkVersion(projectFilesystem,pathToNdk);
    fail("Should not be valid");
  }
 catch (  HumanReadableException e) {
    assertEquals("Supported NDK versions are between r8 and r8e but Buck is configured to use r7 from " + pathToNdk.getAbsolutePath(),e.getMessage());
  }
  verifyAll();
}
