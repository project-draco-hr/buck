{
  Properties properties=new Properties();
  properties.setProperty("sdk.dir","/path/to/sdk");
  ImmutableMap<String,String> systemEnvironment=ImmutableMap.of();
  HostFilesystem hostFilesystem=FakeHostFilesystem.withDirectories("/path/to/sdk");
  Optional<File> path=AbstractCommandOptions.findDirectoryByPropertiesThenEnvironmentVariable(Optional.of(properties),hostFilesystem,systemEnvironment,"sdk.dir");
  assertEquals(new File("/path/to/sdk"),path.get());
}
