{
  Path pathToGenFile=GEN_PATH.resolve("GeneratedFile.java");
  assertTrue(JavaTestRule.isGeneratedFile(pathToGenFile));
  ImmutableSortedSet<Path> javaSrcs=ImmutableSortedSet.of(pathToGenFile);
  JavaLibraryRule javaLibraryRule=new FakeJavaLibraryRule(new BuildTarget("//foo","bar")).setJavaSrcs(javaSrcs);
  DefaultJavaPackageFinder defaultJavaPackageFinder=createMock(DefaultJavaPackageFinder.class);
  ProjectFilesystem projectFilesystem=createMock(ProjectFilesystem.class);
  Object[] mocks=new Object[]{projectFilesystem,defaultJavaPackageFinder};
  replay(mocks);
  ImmutableSet<String> result=TestCommand.getPathToSourceFolders(javaLibraryRule,Optional.of(defaultJavaPackageFinder),projectFilesystem);
  assertTrue("No path should be returned if the library contains only generated files.",result.isEmpty());
  verify(mocks);
}
