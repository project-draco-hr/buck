{
  String pathToGenFile=GEN_DIR + "/GeneratedFile.java";
  assertTrue(JavaTestRule.isGeneratedFile(pathToGenFile));
  ImmutableSortedSet<String> javaSrcs=ImmutableSortedSet.of(pathToGenFile);
  JavaLibraryRule javaLibraryRule=createMock(JavaLibraryRule.class);
  expect(javaLibraryRule.getJavaSrcs()).andReturn(ImmutableSortedSet.copyOf(javaSrcs));
  DefaultJavaPackageFinder defaultJavaPackageFinder=createMock(DefaultJavaPackageFinder.class);
  ProjectFilesystem projectFilesystem=createMock(ProjectFilesystem.class);
  Object[] mocks=new Object[]{projectFilesystem,defaultJavaPackageFinder,javaLibraryRule};
  replay(mocks);
  ImmutableSet<String> result=TestCommand.getPathToSourceFolders(javaLibraryRule,Optional.of(defaultJavaPackageFinder),projectFilesystem);
  assertTrue("No path should be returned if the library contains only generated files.",result.isEmpty());
  verify(mocks);
}
