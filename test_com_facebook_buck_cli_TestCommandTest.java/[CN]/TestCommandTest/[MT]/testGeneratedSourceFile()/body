{
  String pathToGenFile=GEN_DIR + "/GeneratedFile.java";
  assertTrue(JavaTestRule.isGeneratedFile(pathToGenFile));
  ImmutableSortedSet<String> javaSrcs=ImmutableSortedSet.of(pathToGenFile);
  JavaLibraryRule javaLibraryRule=EasyMock.createMock(JavaLibraryRule.class);
  EasyMock.expect(javaLibraryRule.getJavaSrcs()).andReturn(ImmutableSortedSet.copyOf(javaSrcs));
  DefaultJavaPackageFinder defaultJavaPackageFinder=EasyMock.createMock(DefaultJavaPackageFinder.class);
  ProjectFilesystem projectFilesystem=EasyMock.createMock(ProjectFilesystem.class);
  Object[] mocks=new Object[]{projectFilesystem,defaultJavaPackageFinder,javaLibraryRule};
  EasyMock.replay(mocks);
  ImmutableSet<String> result=TestCommand.getPathToSourceFolders(javaLibraryRule,Optional.of(defaultJavaPackageFinder),projectFilesystem);
  assertTrue("No path should be returned if the library contains only generated files.",result.isEmpty());
  EasyMock.verify(mocks);
}
