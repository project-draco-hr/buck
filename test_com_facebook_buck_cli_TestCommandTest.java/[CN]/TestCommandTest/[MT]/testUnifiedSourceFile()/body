{
  String pathToNonGenFile="java/package/SourceFile1.java";
  assertFalse(JavaTestRule.isGeneratedFile(pathToNonGenFile));
  ImmutableSortedSet<String> javaSrcs=ImmutableSortedSet.of(pathToNonGenFile);
  DefaultJavaPackageFinder defaultJavaPackageFinder=EasyMock.createMock(DefaultJavaPackageFinder.class);
  EasyMock.expect(defaultJavaPackageFinder.getPathsFromRoot()).andReturn(pathsFromRoot);
  ProjectFilesystem projectFilesystem=EasyMock.createMock(ProjectFilesystem.class);
  JavaLibraryRule javaLibraryRule=EasyMock.createMock(JavaLibraryRule.class);
  EasyMock.expect(javaLibraryRule.getJavaSrcs()).andReturn(ImmutableSortedSet.copyOf(javaSrcs));
  Object[] mocks=new Object[]{defaultJavaPackageFinder,projectFilesystem,javaLibraryRule};
  EasyMock.replay(mocks);
  ImmutableSet<String> result=TestCommand.getPathToSourceFolders(javaLibraryRule,Optional.of(defaultJavaPackageFinder),projectFilesystem);
  assertEquals("All non-generated source files are under one source folder.",ImmutableSet.of("java/"),result);
  EasyMock.verify(mocks);
}
