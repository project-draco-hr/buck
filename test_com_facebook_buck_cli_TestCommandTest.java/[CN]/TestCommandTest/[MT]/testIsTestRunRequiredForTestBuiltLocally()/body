{
  ExecutionContext executionContext=createMock(ExecutionContext.class);
  expect(executionContext.isDebugEnabled()).andReturn(false);
  TestRule testRule=createMock(TestRule.class);
  expect(testRule.getBuildResultType()).andReturn(BuildRuleSuccess.Type.BUILT_LOCALLY);
  replay(executionContext,testRule);
  assertTrue("A test built locally should always run regardless of any cached result. ",TestCommand.isTestRunRequiredForTest(testRule,executionContext,createMock(TestRuleKeyFileHelper.class)));
  verify(executionContext,testRule);
}
