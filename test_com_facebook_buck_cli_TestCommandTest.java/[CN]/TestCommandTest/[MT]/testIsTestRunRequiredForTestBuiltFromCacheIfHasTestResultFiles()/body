{
  ExecutionContext executionContext=createMock(ExecutionContext.class);
  expect(executionContext.isDebugEnabled()).andReturn(false);
  TestRule testRule=createMock(TestRule.class);
  expect(testRule.getBuildResultType()).andReturn(BuildRuleSuccess.Type.FETCHED_FROM_CACHE);
  expect(testRule.hasTestResultFiles(executionContext)).andReturn(true);
  replay(executionContext,testRule);
  assertFalse(TestCommand.isTestRunRequiredForTest(testRule,executionContext));
  verify(executionContext,testRule);
}
