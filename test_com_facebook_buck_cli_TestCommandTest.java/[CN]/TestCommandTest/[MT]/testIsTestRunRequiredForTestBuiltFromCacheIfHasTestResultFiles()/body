{
  ExecutionContext executionContext=createMock(ExecutionContext.class);
  expect(executionContext.isDebugEnabled()).andReturn(false);
  BuildContext buildContext=createMock(BuildContext.class);
  TestRule testRule=createMock(TestRule.class);
  expect(testRule.getBuildResultType()).andReturn(BuildRuleSuccess.Type.FETCHED_FROM_CACHE);
  expect(testRule.hasTestResultFiles(buildContext)).andReturn(true);
  replay(executionContext,buildContext,testRule);
  assertFalse(TestCommand.isTestRunRequiredForTest(testRule,buildContext,executionContext));
  verify(executionContext,buildContext,testRule);
}
