def test_glob_excludes_relative(self):
    search_base = self.fake_path('foo', glob_results={'**/*.java': ['foo/A.java', 'foo/bar/B.java', 'bar/C.java'], })
    self.assertGlobMatches(['foo/A.java', 'foo/bar/B.java'], glob_internal(includes=['**/*.java'], excludes=['bar/*.java'], include_dotfiles=False, allow_empty=False, search_base=search_base))
