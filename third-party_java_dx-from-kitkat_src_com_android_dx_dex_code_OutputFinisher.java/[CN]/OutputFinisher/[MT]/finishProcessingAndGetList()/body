{
  if (reservedCount >= 0) {
    throw new UnsupportedOperationException("already processed");
  }
  Dop[] opcodes=makeOpcodesArray();
  reserveRegisters(opcodes);
  massageInstructions(opcodes);
  assignAddressesAndFixBranches();
  return DalvInsnList.makeImmutable(insns,reservedCount + unreservedRegCount);
}
