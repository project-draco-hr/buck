{
  if (m_pos + n > m_max)   n=m_max - m_pos;
  if (n < 0)   return 0;
  m_pos+=n;
  return n;
}
