{
  Optional<FatBinaryInfo> fatBinaryInfo=FatBinaryInfo.create(platformFlavorsToAppleCxxPlatforms,params.getBuildTarget());
  if (fatBinaryInfo.isPresent()) {
    return createFatBinaryBuildRule(targetGraph,params,resolver,args,fatBinaryInfo.get());
  }
 else {
    return createThinBinary(targetGraph,params,resolver,args);
  }
}
