{
  Optional<CxxPlatform> cxxPlatform;
  try {
    cxxPlatform=delegate.getCxxPlatforms().getValue(params.getBuildTarget().getFlavors());
  }
 catch (  FlavorDomainException e) {
    throw new HumanReadableException(e,"%s: %s",params.getBuildTarget(),e.getMessage());
  }
  AppleCxxPlatform appleCxxPlatform=null;
  if (cxxPlatform.isPresent()) {
    appleCxxPlatform=platformFlavorsToAppleCxxPlatforms.get(cxxPlatform.get().getFlavor());
  }
  return Optional.fromNullable(appleCxxPlatform);
}
