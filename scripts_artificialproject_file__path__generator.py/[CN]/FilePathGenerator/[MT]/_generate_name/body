def _generate_name(self, directory, generator):
    for i in range(1000):
        name = generator.generate_string()
        if ((name not in directory) and (name != self.BUILD_FILE_NAME)):
            return name
    raise GenerationFailedException()
