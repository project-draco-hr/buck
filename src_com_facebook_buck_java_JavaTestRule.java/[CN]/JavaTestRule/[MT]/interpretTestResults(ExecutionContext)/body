{
  final ImmutableSet<String> contacts=getContacts();
  return new Callable<TestResults>(){
    @Override public TestResults call() throws Exception {
      Set<String> testClassNames=getClassNamesForSources(context);
      if (testClassNames.isEmpty()) {
        return TestResults.getEmptyTestResults();
      }
      List<TestCaseSummary> summaries=Lists.newArrayListWithCapacity(testClassNames.size());
      ProjectFilesystem filesystem=context.getProjectFilesystem();
      for (      String testClass : testClassNames) {
        File testResultFile=filesystem.getFileForRelativePath(String.format("%s/%s.xml",getPathToTestOutput(),testClass));
        TestCaseSummary summary=XmlTestResultParser.parse(testResultFile);
        summaries.add(summary);
      }
      return new TestResults(contacts,summaries);
    }
  }
;
}
