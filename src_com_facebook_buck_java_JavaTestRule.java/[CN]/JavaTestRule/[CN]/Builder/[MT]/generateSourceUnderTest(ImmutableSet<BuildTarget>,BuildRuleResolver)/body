{
  ImmutableSet.Builder<JavaLibraryRule> sourceUnderTest=ImmutableSet.builder();
  for (  BuildTarget sourceUnderTestName : sourceUnderTestNames) {
    BuildRule rule=ruleResolver.get(sourceUnderTestName);
    if (rule instanceof JavaLibraryRule) {
      sourceUnderTest.add((JavaLibraryRule)rule);
    }
 else {
      String ruleName=rule == null ? "unknown rule" : rule.getFullyQualifiedName();
      String type=rule == null ? "unknown_type" : rule.getType().getName();
      throw new HumanReadableException("Specified source under test for %s is not a Java library: %s (%s).",getBuildTarget().getFullyQualifiedName(),ruleName,type);
    }
  }
  return sourceUnderTest.build();
}
