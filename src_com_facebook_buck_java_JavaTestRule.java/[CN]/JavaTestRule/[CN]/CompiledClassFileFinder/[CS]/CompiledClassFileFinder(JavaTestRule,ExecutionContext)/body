{
  Preconditions.checkState(rule.isRuleBuilt(),"Rule must be built so that the classes folder is available");
  String outputPath;
  File outputFile=rule.getOutput();
  if (outputFile != null) {
    outputPath=context.getProjectFilesystem().getPathRelativizer().apply(outputFile.getPath());
  }
 else {
    outputPath=null;
  }
  classNamesForSources=getClassNamesForSources(rule.getJavaSrcs(),outputPath);
}
