{
synchronized (lock) {
    while (len > 0) {
      write(str.charAt(off));
      off++;
      len--;
    }
  }
}
