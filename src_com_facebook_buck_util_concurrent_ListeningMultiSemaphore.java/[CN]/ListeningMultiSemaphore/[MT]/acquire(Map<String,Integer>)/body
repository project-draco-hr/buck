{
  if (!checkIfResourcesAvailable(resources)) {
    SettableFuture<Void> pendingFuture=SettableFuture.create();
    pending.add(ListeningSemaphoreArrayPendingItem.of(pendingFuture,resources));
    return pendingFuture;
  }
  decreaseAvailableResources(resources);
  return Futures.immediateFuture(null);
}
