{
  LogRecordFields.Builder logRecordFields=LogRecordFields.builder().setMessage(message).setLogs(contextLogs).setLogger(record.getLoggerName()).setCommandId(COMMAND_ID_MAP.threadIdToCommandId(record.getThreadID()));
  Throwable throwable=record.getThrown();
  if (throwable != null) {
    Throwable initialCause=getInitialCause(throwable);
    logRecordFields.setCause(Optional.of(initialCause)).setInitialError(Optional.of(initialCause.getClass().getName())).setInitialErrorMsg(Optional.of(initialCause.getLocalizedMessage())).setOrigin(Optional.of(getThrowableOrigin(initialCause))).setStackTrace(Optional.of(getStackTraceAsString(throwable)));
  }
  try {
    return OBJECT_MAPPER.writeValueAsString(logRecordFields.build());
  }
 catch (  JsonProcessingException e) {
    e.printStackTrace();
  }
  return "";
}
