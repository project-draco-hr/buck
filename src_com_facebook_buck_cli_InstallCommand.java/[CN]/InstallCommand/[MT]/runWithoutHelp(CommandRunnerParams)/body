{
  int exitCode=checkArguments(params);
  if (exitCode != 0) {
    return exitCode;
  }
  ImmutableSet<String> installHelperTargets;
  try {
    installHelperTargets=getInstallHelperTargets(params);
  }
 catch (  BuildTargetException|BuildFileParseException e) {
    params.getBuckEventBus().post(ConsoleEvent.severe(MoreExceptions.getHumanReadableOrLocalizedMessage(e)));
    return 1;
  }
  exitCode=super.run(params,installHelperTargets);
  if (exitCode != 0) {
    return exitCode;
  }
  try {
    exitCode=install(params);
  }
 catch (  NoSuchBuildTargetException e) {
    throw new HumanReadableException(e.getHumanReadableErrorMessage());
  }
  if (exitCode != 0) {
    return exitCode;
  }
  return exitCode;
}
