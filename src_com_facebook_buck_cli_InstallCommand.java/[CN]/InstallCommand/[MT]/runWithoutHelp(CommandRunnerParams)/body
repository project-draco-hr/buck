{
  if (getArguments().size() < 1) {
    params.getBuckEventBus().post(ConsoleEvent.severe("Must specify at least one rule."));
    return 1;
  }
  ImmutableSet<String> installHelperTargets;
  try {
    installHelperTargets=getInstallHelperTargets(params);
  }
 catch (  BuildTargetException|BuildFileParseException e) {
    params.getBuckEventBus().post(ConsoleEvent.severe(MoreExceptions.getHumanReadableOrLocalizedMessage(e)));
    return 1;
  }
  int exitCode=super.run(params,installHelperTargets);
  if (exitCode != 0) {
    return exitCode;
  }
  exitCode=install(params);
  if (exitCode != 0) {
    return exitCode;
  }
  return exitCode;
}
