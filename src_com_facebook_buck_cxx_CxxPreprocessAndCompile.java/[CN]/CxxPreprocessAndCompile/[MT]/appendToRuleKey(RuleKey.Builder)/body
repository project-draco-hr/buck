{
  ImmutableList<String> flags=this.flags;
  if (sanitizer.isPresent()) {
    flags=FluentIterable.from(flags).transform(sanitizer.get().sanitize(Optional.<Path>absent(),false)).toList();
  }
  builder.setReflectively("flags",flags);
  if (sanitizer.isPresent() && operation == CxxPreprocessAndCompileStep.Operation.COMPILE) {
    builder.setReflectively("compilationDirectory",sanitizer.get().getCompilationDirectory());
  }
  return builder;
}
