{
  Preconditions.checkState(operation.isCompile());
  ImmutableList.Builder<String> suffix=ImmutableList.builder();
  if (operation == CxxPreprocessAndCompileStep.Operation.COMPILE_MUNGE_DEBUGINFO) {
    suffix.addAll(preprocessDelegate.get().getPreprocessorSuffix());
  }
  suffix.addAll(ruleCompilerFlags.get());
  suffix.addAll(compiler.get().debugCompilationDirFlags(sanitizer.getCompilationDirectory()).or(ImmutableList.<String>of()));
  return suffix.build();
}
