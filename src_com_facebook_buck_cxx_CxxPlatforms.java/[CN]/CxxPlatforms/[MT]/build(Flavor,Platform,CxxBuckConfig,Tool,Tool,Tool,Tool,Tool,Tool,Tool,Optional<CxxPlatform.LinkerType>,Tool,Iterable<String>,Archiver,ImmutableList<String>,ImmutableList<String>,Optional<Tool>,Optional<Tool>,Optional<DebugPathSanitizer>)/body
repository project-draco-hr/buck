{
  CxxPlatform.Builder builder=CxxPlatform.builder();
  builder.setFlavor(flavor).setAs(getTool(flavor,"as",config).or(as)).setAspp(getTool(flavor,"aspp",config).or(aspp)).setCc(getTool(flavor,"cc",config).or(cc)).setCxx(getTool(flavor,"cxx",config).or(cxx)).setCpp(getTool(flavor,"cpp",config).or(cpp)).setCxxpp(getTool(flavor,"cxxpp",config).or(cxxpp)).setCxxld(getTool(flavor,"cxxld",config).or(cxxld)).setLd(getLd(flavor,platform,config,linkerType,getTool(flavor,"ld",config).or(ld))).addAllLdflags(ldFlags).setAr(getTool(flavor,"ar",config).transform(getArchiver(ar.getClass())).or(ar)).setLex(getTool(flavor,"lex",config).or(lex)).setYacc(getTool(flavor,"yacc",config).or(yacc)).setSharedLibraryExtension(CxxPlatforms.getSharedLibraryExtension(platform)).setDebugPathSanitizer(debugPathSanitizer.or(CxxPlatforms.DEFAULT_DEBUG_PATH_SANITIZER));
  builder.addAllCflags(cflags);
  builder.addAllCxxflags(cflags);
  builder.addAllCppflags(cppflags);
  builder.addAllCxxppflags(cppflags);
  builder.addAllCxxldflags(cflags);
  CxxPlatforms.addToolFlagsFromConfig(config,builder);
  return builder.build();
}
