{
  CxxPlatform.LinkerType type=config.getLinkerType(flavor.toString(),CxxPlatform.LinkerType.class).or(linkerType).or(getLinkerTypeForPlatform(platform));
switch (type) {
case GNU:
    return new GnuLinker(tool);
case DARWIN:
  return new DarwinLinker(tool);
case WINDOWS:
return new WindowsLinker(tool);
}
throw new IllegalStateException();
}
