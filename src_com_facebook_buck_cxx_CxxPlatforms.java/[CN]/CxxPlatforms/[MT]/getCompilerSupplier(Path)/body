{
  return Suppliers.memoize(new Supplier<Compiler>(){
    @Override public Compiler get(){
      Tool tool=new HashedFileTool(path);
      if (isExecutableAtPathClang(path)) {
        return new ClangCompiler(tool);
      }
 else {
        return new DefaultCompiler(tool);
      }
    }
  }
);
}
