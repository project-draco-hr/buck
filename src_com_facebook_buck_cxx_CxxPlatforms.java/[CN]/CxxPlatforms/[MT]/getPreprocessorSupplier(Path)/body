{
  return Suppliers.memoize(new Supplier<Preprocessor>(){
    @Override public Preprocessor get(){
      Tool tool=new HashedFileTool(path);
      if (isExecutableAtPathClang(path)) {
        return new ClangPreprocessor(tool);
      }
 else {
        return new DefaultPreprocessor(tool);
      }
    }
  }
);
}
