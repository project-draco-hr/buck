{
  Preconditions.checkNotNull(project);
  Preconditions.checkNotNull(buckDirectory);
  this.listener=Preconditions.checkNotNull(listener);
  buckdPath=Optional.absent();
  socket=Optional.absent();
  stdout="";
  stderr="";
  workingDirectory=new File(project.getBasePath());
  Preconditions.checkState(workingDirectory.isDirectory(),String.format("%s is not a valid working directory.",workingDirectory));
  executorService=Executors.newFixedThreadPool(2);
  if (!detectBuck(buckDirectory)) {
    throw new BuckNotFound();
  }
}
