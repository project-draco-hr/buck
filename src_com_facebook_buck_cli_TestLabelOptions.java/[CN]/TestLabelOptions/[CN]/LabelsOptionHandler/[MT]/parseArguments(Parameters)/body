{
  int index;
  for (index=0; index < parameters.size(); index++) {
    String parameter=parameters.getParameter(index);
    if (parameter.charAt(0) == '-') {
      break;
    }
    boolean isInclusive=true;
    if (parameter.charAt(0) == '!') {
      isInclusive=false;
      parameter=parameter.substring(1);
    }
    ImmutableSet.Builder<Label> labelBuilder=new ImmutableSet.Builder<>();
    Iterable<String> labelStrings=splitter.split(parameter);
    for (    String labelString : labelStrings) {
      BuckConfig.validateLabelName(labelString);
      labelBuilder.add(new Label(labelString));
    }
    LabelSetSelector labelSetSelector=new LabelSetSelector(isInclusive,labelBuilder.build());
    labels.put(ordinal.getAndIncrement(),labelSetSelector);
  }
  return index;
}
