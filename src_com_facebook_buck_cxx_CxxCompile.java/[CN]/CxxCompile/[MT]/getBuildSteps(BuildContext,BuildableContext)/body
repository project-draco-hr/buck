{
  ImmutableList<String> allFlags=plugin.isPresent() ? ImmutableList.<String>builder().addAll(flags).addAll(plugin.get().flags).build() : flags;
  buildableContext.recordArtifact(output);
  return ImmutableList.of(new MkdirStep(output.getParent()),new CxxCompileStep(getResolver().getPath(compiler),allFlags,output,getResolver().getPath(input)));
}
