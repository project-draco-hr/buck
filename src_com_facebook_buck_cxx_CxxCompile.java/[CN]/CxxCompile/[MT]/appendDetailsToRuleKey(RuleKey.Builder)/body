{
  builder.setInput("compiler",compiler).set("flags",flags).set("output",output.toString());
  if (plugin.isPresent()) {
    Plugin p=plugin.get();
    builder.setInput("plugin-" + p.getName(),p.getPath());
    builder.set("plugin-" + p.getName() + "-flags",p.getFlags());
  }
  for (  Path path : ImmutableSortedSet.copyOf(includes.keySet())) {
    SourcePath source=includes.get(path);
    builder.setInput("include(" + path + ")",getResolver().getPath(source));
  }
  return builder;
}
