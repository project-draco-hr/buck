{
  document.addDocumentListener(new DocumentListener(){
    @Override public void beforeDocumentChange(    DocumentEvent documentEvent){
    }
    @Override public void documentChanged(    DocumentEvent documentEvent){
      if (BuckSettingsProvider.getInstance().getState().enableAutoDeps) {
        String newLine=documentEvent.getNewFragment().toString();
        if (importPattern.matcher(newLine).matches()) {
          addDependency(getVirtualFileFromImportLine(newLine),Optional.fromNullable(FileDocumentManager.getInstance().getFile(document)));
        }
      }
    }
  }
);
}
