{
  if (linearAllocLimit <= 0) {
    throw new HumanReadableException("linear_alloc_hard_limit must be greater than zero.");
  }
  this.filesystem=filesystem;
  this.inFiles=ImmutableSet.copyOf(inFiles);
  this.outPrimary=outPrimary;
  this.secondaryDexWriter=new MySecondaryDexHelper(outSecondaryDir,secondaryPattern,canaryStrategy);
  this.requiredInPrimaryZip=requiredInPrimaryZip;
  this.wantedInPrimaryZip=ImmutableSet.copyOf(wantedInPrimaryZip);
  this.secondaryHeadSet=secondaryHeadSet;
  this.secondaryTailSet=secondaryTailSet;
  this.reportDir=reportDir;
  this.dexSplitStrategy=dexSplitStrategy;
  this.linearAllocLimit=linearAllocLimit;
  this.dalvikStatsCache=new DalvikStatsCache();
}
