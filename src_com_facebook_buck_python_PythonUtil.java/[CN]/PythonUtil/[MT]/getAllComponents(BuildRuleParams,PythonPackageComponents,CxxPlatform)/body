{
  final PythonPackageComponents.Builder components=new PythonPackageComponents.Builder(params.getBuildTarget());
  components.addComponent(packageComponents,params.getBuildTarget());
  new AbstractDependencyVisitor(params.getDeps()){
    @Override public ImmutableSortedSet<BuildRule> visit(    BuildRule rule){
      if (rule instanceof PythonPackagable) {
        PythonPackagable lib=(PythonPackagable)rule;
        components.addComponent(lib.getPythonPackageComponents(cxxPlatform),rule.getBuildTarget());
        return rule.getDeps();
      }
      return ImmutableSortedSet.of();
    }
  }
.start();
  return components.build();
}
