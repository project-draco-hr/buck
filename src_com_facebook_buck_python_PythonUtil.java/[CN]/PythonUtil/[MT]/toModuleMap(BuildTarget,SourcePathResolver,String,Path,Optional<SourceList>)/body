{
  if (!inputs.isPresent()) {
    return ImmutableMap.of();
  }
  final ImmutableMap<String,SourcePath> namesAndSourcePaths;
  if (inputs.get().getUnnamedSources().isPresent()) {
    namesAndSourcePaths=resolver.getSourcePathNames(target,parameter,inputs.get().getUnnamedSources().get());
  }
 else {
    namesAndSourcePaths=inputs.get().getNamedSources().get();
  }
  ImmutableMap.Builder<Path,SourcePath> moduleNamesAndSourcePaths=ImmutableMap.builder();
  for (  ImmutableMap.Entry<String,SourcePath> entry : namesAndSourcePaths.entrySet()) {
    moduleNamesAndSourcePaths.put(baseModule.resolve(entry.getKey()),entry.getValue());
  }
  return moduleNamesAndSourcePaths.build();
}
