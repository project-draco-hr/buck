{
  boolean removed=threadIdToCommandId.values().removeAll(Collections.singleton(commandId));
  Preconditions.checkState(removed);
}
