{
  BuildRuleParams archiveParams=originalParams.copyWithChanges(ARCHIVE_TYPE,target,ImmutableSortedSet.<BuildRule>of(),ImmutableSortedSet.<BuildRule>naturalOrder().addAll(resolver.filterBuildRuleInputs(inputs)).addAll(archiver.getBuildRules(resolver)).build());
  return new Archive(archiveParams,resolver,archiver,output,inputs);
}
