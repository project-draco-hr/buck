{
  Preconditions.checkNotNull(defaultFlags);
  Preconditions.checkNotNull(perLanguageFlags);
  ImmutableMultimap.Builder<CxxSource.Type,String> result=ImmutableMultimap.builder();
  if (defaultFlags.isPresent()) {
    for (    CxxSource.Type type : CxxSource.Type.values()) {
      result.putAll(type,defaultFlags.get());
    }
  }
  if (perLanguageFlags.isPresent()) {
    for (    ImmutableMap.Entry<CxxSource.Type,ImmutableList<String>> entry : perLanguageFlags.get().entrySet()) {
      result.putAll(entry.getKey(),entry.getValue());
    }
  }
  return result.build();
}
