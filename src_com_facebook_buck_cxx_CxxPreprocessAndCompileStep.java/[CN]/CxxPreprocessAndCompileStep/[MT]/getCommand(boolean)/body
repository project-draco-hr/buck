{
switch (operation) {
case COMPILE:
case COMPILE_MUNGE_DEBUGINFO:
    return makeCompileCommand(input.toString(),inputType.getLanguage(),inputType.isPreprocessable(),allowColorsInDiagnostics);
case PREPROCESS:
  return makePreprocessCommand(allowColorsInDiagnostics);
default :
throw new RuntimeException("invalid operation type");
}
}
