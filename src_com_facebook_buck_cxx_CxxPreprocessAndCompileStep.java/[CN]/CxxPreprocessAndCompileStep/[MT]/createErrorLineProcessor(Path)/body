{
  return CxxDescriptionEnhancer.createErrorMessagePathProcessor(new Function<String,String>(){
    @Override public String apply(    String original){
      Path path=Paths.get(original);
      if (operation == Operation.COMPILE) {
        path=sanitizer.isPresent() ? Paths.get(sanitizer.get().restore(Optional.of(workingDir),original)) : path;
      }
      return Optional.fromNullable(replacementPaths.get(path)).transform(Escaper.PATH_FOR_C_INCLUDE_STRING_ESCAPER).or(Escaper.escapePathForCIncludeString(path));
    }
  }
);
}
