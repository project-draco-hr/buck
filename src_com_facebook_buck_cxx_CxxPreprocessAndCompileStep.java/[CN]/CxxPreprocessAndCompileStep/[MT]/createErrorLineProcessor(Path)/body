{
  return CxxDescriptionEnhancer.createErrorMessagePathProcessor(new Function<String,String>(){
    @Override public String apply(    String original){
      Path path=Paths.get(original);
      if (operation == Operation.COMPILE) {
        path=sanitizer.isPresent() ? Paths.get(sanitizer.get().restore(Optional.of(workingDir),original)) : path;
      }
      path=Optional.fromNullable(replacementPaths.get(path)).or(path);
      return path.toString();
    }
  }
);
}
