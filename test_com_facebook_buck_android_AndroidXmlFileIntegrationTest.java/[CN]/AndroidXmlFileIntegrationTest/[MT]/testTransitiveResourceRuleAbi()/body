{
  String stringsXmlFileContents=workspace.getFileContents(PATH_TO_STRINGS_XML);
  stringsXmlFileContents=stringsXmlFileContents.replace("</resources>","<string name=\"base_text\">Goodbye!</string></resources>");
  workspace.writeContentsToPath(stringsXmlFileContents,PATH_TO_STRINGS_XML);
  workspace.resetBuildLogFile();
  workspace.runBuckCommand("build","//java/com/sample/lib:lib_using_transitive_empty_res");
  Map<BuildTarget,Optional<BuildRuleSuccess.Type>> successTypes=workspace.getBuildRuleSuccessTypes();
  assertEquals(BuildRuleSuccess.Type.BUILT_LOCALLY,successTypes.get(BuildTargetFactory.newInstance("//java/com/sample/lib:lib_using_transitive_empty_res")).get());
  assertEquals(BuildRuleSuccess.Type.BUILT_LOCALLY,successTypes.get(BuildTargetFactory.newInstance("//java/com/sample/lib:lib_using_transitive_empty_res#dummy_r_dot_java")).get());
}
