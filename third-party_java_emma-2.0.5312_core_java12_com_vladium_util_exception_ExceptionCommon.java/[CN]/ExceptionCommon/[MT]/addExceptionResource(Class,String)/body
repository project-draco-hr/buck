{
  if ((namespace != null) && (messageResourceBundleName != null) && (messageResourceBundleName.length() > 0)) {
    if (!ABSTRACT_EXCEPTION.isAssignableFrom(namespace) && !ABSTACT_RUNTIME_EXCEPTION.isAssignableFrom(namespace)) {
      throw new Error("addExceptionResource(): class [" + namespace + "] is not a subclass of "+ ABSTRACT_EXCEPTION.getName()+ " or "+ ABSTACT_RUNTIME_EXCEPTION.getName());
    }
    ResourceBundle temprb=null;
    String nameInNamespace=null;
    try {
      nameInNamespace=getNameInNamespace(namespace,messageResourceBundleName);
      ClassLoader loader=namespace.getClassLoader();
      if (loader == null)       loader=ClassLoader.getSystemClassLoader();
      temprb=ResourceBundle.getBundle(nameInNamespace,Locale.getDefault(),loader);
    }
 catch (    Throwable ignore) {
      temprb=null;
    }
    if (temprb != null) {
synchronized (s_exceptionCodeMap) {
        final ResourceBundle currentrb=(ResourceBundle)s_exceptionCodeMap.get(namespace);
        if (currentrb != null)         return currentrb;
 else {
          s_exceptionCodeMap.put(namespace,temprb);
          return temprb;
        }
      }
    }
  }
  return null;
}
