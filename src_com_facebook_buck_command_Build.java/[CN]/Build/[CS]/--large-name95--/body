{
  this.actionGraph=actionGraph;
  Optional<AndroidPlatformTarget> androidPlatformTarget=findAndroidPlatformTarget(actionGraph,androidDirectoryResolver,eventBus,buckConfig);
  this.executionContext=ExecutionContext.builder().setProjectFilesystem(projectFilesystem).setConsole(console).setAndroidPlatformTarget(androidPlatformTarget).setTargetDevice(targetDevice).setDefaultTestTimeoutMillis(defaultTestTimeoutMillis).setCodeCoverageEnabled(isCodeCoverageEnabled).setDebugEnabled(isDebugEnabled).setEventBus(eventBus).setPlatform(platform).setEnvironment(environment).setJavaPackageFinder(javaPackageFinder).setObjectMapper(objectMapper).build();
  this.artifactCache=artifactCache;
  this.buildEngine=buildEngine;
  this.stepRunner=new DefaultStepRunner(executionContext,service);
  this.javaPackageFinder=javaPackageFinder;
  this.buildDependencies=buildDependencies;
  this.clock=clock;
}
