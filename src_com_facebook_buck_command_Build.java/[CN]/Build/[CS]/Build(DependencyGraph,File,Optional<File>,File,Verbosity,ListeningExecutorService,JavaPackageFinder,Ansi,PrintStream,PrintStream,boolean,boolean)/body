{
  Preconditions.checkNotNull(androidSdkDir);
  Preconditions.checkArgument(androidSdkDir.exists());
  Preconditions.checkArgument(androidSdkDir.isDirectory());
  this.dependencyGraph=Preconditions.checkNotNull(dependencyGraph);
  Optional<AndroidPlatformTarget> androidPlatformTarget=findAndroidPlatformTarget(dependencyGraph,androidSdkDir,stdErr);
  this.executionContext=new ExecutionContext(verbosity,projectDirectoryRoot,androidPlatformTarget,ndkRoot,ansi,isCodeCoverageEnabled,isDebugEnabled,stdOut,stdErr);
  this.commandRunner=new DefaultCommandRunner(executionContext,listeningExecutorService);
  this.javaPackageFinder=Preconditions.checkNotNull(javaPackageFinder);
}
