{
  Config config=Config.createDefaultConfig(getDestPath(),ImmutableMap.<String,ImmutableMap<String,String>>of());
  ProjectFilesystem filesystem=new ProjectFilesystem(getDestPath(),config);
  TestConsole console=new TestConsole();
  ImmutableMap<String,String> env=ImmutableMap.copyOf(System.getenv());
  DefaultAndroidDirectoryResolver directoryResolver=new DefaultAndroidDirectoryResolver(filesystem,Optional.<String>absent(),new DefaultPropertyFinder(filesystem,env));
  return Cell.createCell(filesystem,console,Watchman.NULL_WATCHMAN,new BuckConfig(config,filesystem,Architecture.detect(),Platform.detect(),env),new KnownBuildRuleTypesFactory(new ProcessExecutor(console),directoryResolver,Optional.<Path>absent()),directoryResolver,new DefaultClock());
}
