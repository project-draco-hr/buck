{
  BuildRuleResolver resolver=new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer());
  SourcePathResolver pathResolver=new SourcePathResolver(resolver);
  DebuggableTemporaryFolder projectDir=new DebuggableTemporaryFolder();
  projectDir.create();
  Path pexExecuter=Paths.get("pex-exectuter");
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem(new FakeClock(0),projectDir.getRoot(),ImmutableSet.of(pexExecuter));
  Files.createFile(projectFilesystem.resolve(pexExecuter));
  assertTrue("Should be able to set file executable",projectFilesystem.resolve(pexExecuter).toFile().setExecutable(true));
  PythonBuckConfig config=new PythonBuckConfig(FakeBuckConfig.builder().setSections(ImmutableMap.of("python",ImmutableMap.of("path_to_pex_executer",pexExecuter.toString()))).setFilesystem(projectFilesystem).build(),new ExecutableFinder());
  assertThat(config.getPathToPexExecuter(resolver).get().getCommandPrefix(pathResolver),Matchers.contains(pexExecuter.toString()));
}
