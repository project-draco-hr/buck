{
  final TargetGraph subgraph=fullGraph.getSubgraph(subgraphRoots);
  return FluentIterable.from(fullGraph.getNodes()).filter(new Predicate<TargetNode<?>>(){
    @Override public boolean apply(    TargetNode<?> node){
      return predicate.apply(node) && associatedTargetNodePredicate.apply(node,subgraph);
    }
  }
).toSet();
}
