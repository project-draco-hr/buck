{
  ImmutableSet<BuildTarget> requiredBuildTargets=writeProjectAndGetRequiredBuildTargets(params,targetGraphAndTargets);
  if (requiredBuildTargets.isEmpty()) {
    return 0;
  }
  if (skipBuild) {
    ConsoleEvent.severe("Please remember to buck build --deep the targets you intent to work with.");
    return 0;
  }
  return shouldProcessAnnotations() ? buildRequiredTargetsWithoutUsingCacheForAnnotatedTargets(params,targetGraphAndTargets,requiredBuildTargets) : runBuild(params,requiredBuildTargets);
}
