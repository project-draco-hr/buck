{
  List<String> argumentsAsBuildTargets=options.getArgumentsFormattedAsBuildTargets();
  if (argumentsAsBuildTargets.isEmpty()) {
    return PartialGraph.createPartialGraph(rulePredicate,getProjectFilesystem(),options.getDefaultIncludes(),getParser(),getBuckEventBus());
  }
 else {
    ImmutableList<BuildTarget> targets=getBuildTargets(argumentsAsBuildTargets);
    return PartialGraph.createPartialGraphFromRootsWithTests(targets,rulePredicate,getProjectFilesystem(),options.getDefaultIncludes(),getParser(),getBuckEventBus());
  }
}
