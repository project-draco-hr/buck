{
  assumeTrue(Platform.detect() == Platform.MACOS);
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"watch_application_bundle",tmp);
  workspace.setUp();
  workspace.runBuckCommand("build","//:DemoAppPackage").assertSuccess();
  Path destination=workspace.getDestPath();
  Unzip.extractZipFile(workspace.getPath("buck-out/gen/DemoAppPackage.ipa"),destination,Unzip.ExistingFileMode.OVERWRITE_AND_CLEAN_DIRECTORIES);
  assertTrue(Files.isExecutable(destination.resolve("WatchKitSupport2/WK")));
  assertTrue(Files.isDirectory(destination.resolve("Symbols")));
  assertTrue(isDirEmpty(destination.resolve("Symbols")));
  assertFalse(Files.exists(destination.resolve("Payload/DemoApp.app/Watch/_WatchKitStub")));
}
