{
  BuildRule oldValue=buildRuleIndex.put(target,buildRule);
  if (oldValue != null) {
    throw new IllegalStateException("A build rule for this target has already been created: " + target);
  }
}
