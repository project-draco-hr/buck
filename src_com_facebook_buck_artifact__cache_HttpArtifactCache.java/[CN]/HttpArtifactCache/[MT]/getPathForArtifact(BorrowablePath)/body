{
  Path tmp;
  if (output.canBorrow()) {
    tmp=output.getPath();
  }
 else {
    Optional<Path> tmpDirPath=projectFilesystem.getPathRelativeToProjectRoot(Paths.get("tmp"));
    tmp=projectFilesystem.createTempFile(tmpDirPath.get(),"artifact",".tmp");
    projectFilesystem.copyFile(output.getPath(),tmp);
  }
  return tmp;
}
