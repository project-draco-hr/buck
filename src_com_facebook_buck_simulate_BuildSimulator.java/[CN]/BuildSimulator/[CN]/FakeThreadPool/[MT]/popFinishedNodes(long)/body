{
  List<SimulationNode> finishedNodes=Lists.newArrayList();
  for (int i=0; i < runningNodes.length; ++i) {
    SimulationNode node=runningNodes[i];
    if (node == null) {
      continue;
    }
    if (node.getExpectedFinishMillis() <= simulationCurrentMillis) {
      runningNodes[i]=null;
      --runningNodesCount;
      finishedNodes.add(node);
    }
  }
  return finishedNodes;
}
