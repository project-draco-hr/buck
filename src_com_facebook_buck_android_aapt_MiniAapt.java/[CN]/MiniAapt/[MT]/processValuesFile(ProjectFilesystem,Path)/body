{
  try (InputStream stream=filesystem.newFileInputStream(valuesFile)){
    Document dom=parseXml(valuesFile,stream);
    Element root=dom.getDocumentElement();
    for (Node node=root.getFirstChild(); node != null; node=node.getNextSibling()) {
      if (node.getNodeType() != Node.ELEMENT_NODE) {
        continue;
      }
      String resourceType=node.getNodeName();
      if (resourceType.equals(ITEM_TAG)) {
        resourceType=node.getAttributes().getNamedItem("type").getNodeValue();
      }
      if (IGNORED_TAGS.contains(resourceType)) {
        continue;
      }
      if (!RESOURCE_TYPES.containsKey(resourceType)) {
        throw new ResourceParseException("Invalid resource type '<%s>' in '%s'.",resourceType,valuesFile);
      }
      RType rType=Preconditions.checkNotNull(RESOURCE_TYPES.get(resourceType));
      addToResourceCollector(node,rType);
    }
  }
 }
