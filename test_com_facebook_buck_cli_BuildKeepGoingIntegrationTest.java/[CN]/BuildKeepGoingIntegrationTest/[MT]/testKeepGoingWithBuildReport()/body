{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"keep_going",tmp).setUp();
  File buildReport=new File(tmpFolderForBuildReport.getRoot(),"build-report.txt");
  workspace.runBuckBuild("--build-report",buildReport.getAbsolutePath(),"--keep-going","//:rule_with_output","//:failing_rule").assertFailure();
  assertTrue(buildReport.exists());
  String buildReportContents=com.google.common.io.Files.toString(buildReport,Charsets.UTF_8);
  String expectedReport="OK   //:rule_with_output BUILT_LOCALLY buck-out/gen/rule_with_output.txt\n" + "FAIL //:failing_rule\n";
  assertEquals(expectedReport,buildReportContents);
}
