{
  ImmutableList.Builder<String> args=ImmutableList.builder();
  AndroidPlatformTarget androidPlatformTarget=context.getAndroidPlatformTarget();
  Joiner pathJoiner=Joiner.on(':');
  args.add("-basedirectory").add(context.getProjectDirectoryRoot().getAbsolutePath());
  if (useAndroidProguardConfigWithOptimizations) {
    args.add("-include").add(androidPlatformTarget.getOptimizedProguardConfig().getAbsolutePath());
  }
 else {
    args.add("-include").add(androidPlatformTarget.getProguardConfig().getAbsolutePath());
  }
  for (  Path proguardConfig : customProguardConfigs) {
    args.add("-include").add(proguardConfig.toString());
  }
  args.add("-include").add(generatedProGuardConfig.toString());
  for (  Map.Entry<Path,Path> inputOutputEntry : inputAndOutputEntries.entrySet()) {
    args.add("-injars").add(inputOutputEntry.getKey().toString());
    args.add("-outjars").add(inputOutputEntry.getValue().toString());
  }
  Iterable<String> bootclasspathPaths=Iterables.transform(androidPlatformTarget.getBootclasspathEntries(),Functions.toStringFunction());
  Iterable<String> libraryJars=Iterables.concat(bootclasspathPaths,additionalLibraryJarsForProguard);
  args.add("-libraryjars").add(pathJoiner.join(libraryJars));
  args.add("-dump").add(proguardDirectory + "/dump.txt");
  args.add("-printseeds").add(proguardDirectory + "/seeds.txt");
  args.add("-printusage").add(proguardDirectory + "/usage.txt");
  args.add("-printmapping").add(proguardDirectory + "/mapping.txt");
  args.add("-printconfiguration").add(proguardDirectory + "/configuration.txt");
  return args.build();
}
