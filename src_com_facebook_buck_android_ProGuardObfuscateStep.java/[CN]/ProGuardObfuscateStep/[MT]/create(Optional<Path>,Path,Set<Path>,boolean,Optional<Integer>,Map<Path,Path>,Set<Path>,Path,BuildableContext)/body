{
  Path pathToProGuardCommandLineArgsFile=proguardDirectory.resolve("command-line.txt");
  CommandLineHelperStep commandLineHelperStep=new CommandLineHelperStep(generatedProGuardConfig,customProguardConfigs,useProguardOptimizations,optimizationPasses,inputAndOutputEntries,additionalLibraryJarsForProguard,proguardDirectory,pathToProGuardCommandLineArgsFile);
  ProGuardObfuscateStep proGuardStep=new ProGuardObfuscateStep(inputAndOutputEntries,pathToProGuardCommandLineArgsFile,proguardJarOverride);
  buildableContext.recordArtifact(commandLineHelperStep.getConfigurationTxt());
  buildableContext.recordArtifact(commandLineHelperStep.getMappingTxt());
  return new CompositeStep(ImmutableList.of(commandLineHelperStep,proGuardStep));
}
