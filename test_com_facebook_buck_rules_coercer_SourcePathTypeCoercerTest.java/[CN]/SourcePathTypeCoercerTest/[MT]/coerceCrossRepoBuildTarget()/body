{
  final Path helloRoot=Paths.get("/opt/src/hello");
  cellRoots=new Function<Optional<String>,Path>(){
    @Override public Path apply(    Optional<String> input){
      if (!input.isPresent()) {
        return projectFilesystem.getRootPath();
      }
      if ("hello".equals(input.get())) {
        return helloRoot;
      }
      throw new RuntimeException("Boom!");
    }
  }
;
  SourcePath sourcePath=sourcePathTypeCoercer.coerce(cellRoots,projectFilesystem,pathRelativeToProjectRoot,"+hello//:hello");
  assertEquals(new BuildTargetSourcePath(BuildTarget.of(UnflavoredBuildTarget.of(helloRoot,Optional.<String>absent(),"//","hello"),ImmutableSortedSet.<Flavor>of())),sourcePath);
}
