{
  BuildConfigFields customValues=BuildConfigFields.fromFieldDeclarations(ImmutableList.of("String KEYSTORE_TYPE = \"release\"","int BUILD_NUMBER = 42","long BUILD_DATE = 1404321113076000L","float THREE = 3.0F","boolean DEBUG = false","java.util.Set<String> EXOPACKAGE_FLAGS = " + BuildConfigs.getHashSetWith(ImmutableSet.of("flag1","flag2"))));
  String expectedJavaCode="// Generated by //java/com/example:build_config. DO NOT MODIFY.\n" + "package com.example;\n" + "public class BuildConfig {\n"+ "  private BuildConfig() {}\n"+ "  public static final String KEYSTORE_TYPE = \"release\";\n"+ "  public static final int BUILD_NUMBER = 42;\n"+ "  public static final long BUILD_DATE = 1404321113076000L;\n"+ "  public static final float THREE = 3.0F;\n"+ "  public static final boolean DEBUG = false;\n"+ "  public static final java.util.Set<String> EXOPACKAGE_FLAGS = "+ "java.util.Collections.unmodifiableSet(new java.util.HashSet<>("+ "java.util.Arrays.asList(\"flag1\",\"flag2\")));\n"+ "  public static final boolean IS_EXOPACKAGE = false;\n"+ "}\n";
  BuildTarget source=BuildTarget.builder(BuildTargetFactory.newInstance("//java/com/example:build_config")).setFlavor("graph_enhanced_craziness").build();
  String observedJavaCode=BuildConfigs.generateBuildConfigDotJava(source,"com.example",true,customValues);
  assertEquals(expectedJavaCode,observedJavaCode);
}
