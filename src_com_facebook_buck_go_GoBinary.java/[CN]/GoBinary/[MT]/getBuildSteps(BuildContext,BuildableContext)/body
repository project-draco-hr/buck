{
  ImmutableMap.Builder<String,String> environment=ImmutableMap.builder();
  environment.putAll(cxxLinker.getEnvironment(getResolver()));
  environment.putAll(linker.getEnvironment(getResolver()));
  return ImmutableList.<Step>of(new MkdirStep(getProjectFilesystem(),output.getParent()),new GoLinkStep(getProjectFilesystem().getRootPath(),environment.build(),cxxLinker.getCommandPrefix(getResolver()),linker.getCommandPrefix(getResolver()),linkerFlags,ImmutableList.<Path>of(linkTree.getRoot()),mainObject.getPathToOutput(),GoLinkStep.LinkMode.EXECUTABLE,output));
}
