{
  BuildRuleResolver resolver=new BuildRuleResolver();
  CxxPythonExtensionDescription.Arg arg=getDefaultArg();
  params=paramsForArg(arg,pythonDep.getBuildTarget());
  CxxPythonExtension extension=(CxxPythonExtension)desc.createBuildRule(params,resolver,arg);
  PythonPackageComponents actualComponent=extension.getPythonPackageComponents(cxxPlatform);
  BuildRule rule=resolver.getRule(desc.getExtensionTarget(target,cxxPlatform.asFlavor()));
  PythonPackageComponents expectedComponents=new PythonPackageComponents(ImmutableMap.<Path,SourcePath>of(target.getBasePath().resolve(desc.getExtensionName(target)),new BuildTargetSourcePath(rule.getBuildTarget())),ImmutableMap.<Path,SourcePath>of(),ImmutableMap.<Path,SourcePath>of());
  assertEquals(expectedComponents,actualComponent);
}
