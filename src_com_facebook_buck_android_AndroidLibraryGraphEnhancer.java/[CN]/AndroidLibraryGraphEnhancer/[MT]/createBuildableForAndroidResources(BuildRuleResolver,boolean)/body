{
  ImmutableSortedSet<BuildRule> originalDeps=originalBuildRuleParams.getDeps();
  ImmutableSet<HasAndroidResourceDeps> androidResourceDeps=UnsortedAndroidResourceDeps.createFrom(originalDeps,Optional.<Callback>absent()).getResourceDeps();
  if (androidResourceDeps.isEmpty() && !createBuildableIfEmptyDeps) {
    return new Result(originalBuildRuleParams,Optional.<DummyRDotJava>absent());
  }
  ImmutableSortedSet.Builder<BuildRule> actualDeps=ImmutableSortedSet.naturalOrder();
  for (  HasAndroidResourceDeps dep : androidResourceDeps) {
    actualDeps.add(ruleResolver.get(dep.getBuildTarget()));
  }
  DummyRDotJava dummyRDotJava=new DummyRDotJava(androidResourceDeps,dummyRDotJavaBuildTarget,javacOptions);
  BuildRule dummyRDotJavaBuildRule=Buildables.createRuleFromBuildable(dummyRDotJava,BuildRuleType.DUMMY_R_DOT_JAVA,dummyRDotJavaBuildTarget,actualDeps.build(),originalBuildRuleParams);
  ruleResolver.addToIndex(dummyRDotJavaBuildTarget,dummyRDotJavaBuildRule);
  ImmutableSortedSet<BuildRule> totalDeps=ImmutableSortedSet.<BuildRule>naturalOrder().addAll(originalDeps).add(dummyRDotJavaBuildRule).build();
  BuildRuleParams newBuildRuleParams=originalBuildRuleParams.copyWithChangedDeps(totalDeps);
  return new Result(newBuildRuleParams,Optional.of(dummyRDotJava));
}
