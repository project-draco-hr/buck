{
  ImmutableSortedSet<BuildRule> originalDeps=originalBuildRuleParams.getDeps();
  ImmutableList<HasAndroidResourceDeps> androidResourceDeps=UberRDotJavaUtil.getAndroidResourceDeps(originalDeps);
  if (androidResourceDeps.isEmpty() && !createBuildableIfEmptyDeps) {
    return new Result(originalBuildRuleParams,Optional.<DummyRDotJava>absent());
  }
  ImmutableSortedSet.Builder<BuildRule> actualDeps=ImmutableSortedSet.naturalOrder();
  for (  HasAndroidResourceDeps dep : androidResourceDeps) {
    actualDeps.add(ruleResolver.get(dep.getBuildTarget()));
  }
  DummyRDotJava dummyRDotJava=new DummyRDotJava(androidResourceDeps,dummyRDotJavaBuildTarget,javacOptions);
  BuildRuleParams params=new BuildRuleParams(dummyRDotJavaBuildTarget,actualDeps.build(),originalBuildRuleParams.getVisibilityPatterns(),originalBuildRuleParams.getProjectFilesystem(),originalBuildRuleParams.getRuleKeyBuilderFactory());
  BuildRule dummyRDotJavaBuildRule=new DummyRDotJavaAbiRule(dummyRDotJava,params);
  ruleResolver.addToIndex(dummyRDotJavaBuildTarget,dummyRDotJavaBuildRule);
  ImmutableSortedSet<BuildRule> totalDeps=ImmutableSortedSet.<BuildRule>naturalOrder().addAll(originalDeps).add(dummyRDotJavaBuildRule).build();
  BuildRuleParams newBuildRuleParams=originalBuildRuleParams.copyWithChangedDeps(totalDeps);
  return new Result(newBuildRuleParams,Optional.of(dummyRDotJava));
}
