{
  CompilationDatabaseTraversal traversal=new CompilationDatabaseTraversal(params.getTargetGraph(),buildRuleResolver);
  try {
    traversal.traverse(ImmutableList.<TargetNode<?>>of(params.getTargetGraph().get(params.getBuildTarget())));
  }
 catch (  CycleException|IOException|InterruptedException e) {
    throw new RuntimeException(e);
  }
  return new CxxCompilationDatabase(params.copyWithDeps(Suppliers.ofInstance(traversal.deps.build()),Suppliers.ofInstance(params.getExtraDeps())),pathResolver,traversal.compileRules.build(),compileStrategy);
}
