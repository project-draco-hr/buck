{
  Set<Flavor> flavors=Sets.newHashSet(params.getBuildTarget().getFlavors());
  Preconditions.checkArgument(flavors.contains(CxxCompilationDatabase.COMPILATION_DATABASE));
  flavors.remove(CxxCompilationDatabase.COMPILATION_DATABASE);
  BuildTarget target=BuildTarget.builder(params.getBuildTarget().getUnflavoredBuildTarget()).addAllFlavors(flavors).build();
  return params.copyWithChanges(target,Suppliers.ofInstance(params.getDeclaredDeps()),Suppliers.ofInstance(params.getExtraDeps()));
}
