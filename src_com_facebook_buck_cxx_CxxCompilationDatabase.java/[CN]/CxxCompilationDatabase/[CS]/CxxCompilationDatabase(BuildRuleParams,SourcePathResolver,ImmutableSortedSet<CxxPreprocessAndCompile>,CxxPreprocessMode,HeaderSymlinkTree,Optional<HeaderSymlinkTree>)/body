{
  super(buildRuleParams,pathResolver);
  this.compileRules=compileRules;
  this.preprocessMode=preprocessMode;
  this.outputJsonFile=BuildTargets.getGenPath(buildRuleParams.getBuildTarget(),"__%s.json");
  ImmutableSortedSet.Builder<BuildRule> runtimeDepsBuilder=ImmutableSortedSet.naturalOrder();
  runtimeDepsBuilder.add(privateHeaderSymlinkTreeRule);
  if (exportedHeaderSymlinkTreeRule.isPresent()) {
    runtimeDepsBuilder.add(exportedHeaderSymlinkTreeRule.get());
  }
  this.runtimeDeps=runtimeDepsBuilder.build();
}
