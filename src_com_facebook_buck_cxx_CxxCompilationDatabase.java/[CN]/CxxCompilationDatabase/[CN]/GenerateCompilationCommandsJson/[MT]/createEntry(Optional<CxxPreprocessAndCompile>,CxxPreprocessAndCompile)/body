{
  SourcePath inputSourcePath=preprocessRule.or(compileRule).getInput();
  ProjectFilesystem inputFilesystem=preprocessRule.or(compileRule).getProjectFilesystem();
  String fileToCompile=inputFilesystem.resolve(getResolver().getPath(inputSourcePath)).toString();
  ImmutableList<String> args=preprocessRule.isPresent() ? compileRule.getCompileCommandCombinedWithPreprocessBuildRule(preprocessRule.get()) : compileRule.getCommand();
  return compilationDatabaseFormat.createEntry(getProjectFilesystem().resolve(getBuildTarget().getBasePath()).toString(),fileToCompile,args);
}
