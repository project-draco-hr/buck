{
  SourcePath inputSourcePath=preprocessRule.or(compileRule).getInput();
  ProjectFilesystem inputFilesystem=preprocessRule.or(compileRule).getProjectFilesystem();
  String fileToCompile=inputFilesystem.resolve(getResolver().deprecatedGetPath(inputSourcePath)).toString();
  ImmutableList<String> arguments=preprocessRule.isPresent() ? compileRule.getCompileCommandCombinedWithPreprocessBuildRule(preprocessRule.get()) : compileRule.getCommand();
  return CxxCompilationDatabaseEntry.of(inputFilesystem.getRootPath().toString(),fileToCompile,arguments);
}
