{
  ProjectFilesystem projectFilesystem=context.getProjectFilesystem();
  SourcePath inputSourcePath=preprocessRule.isPresent() ? preprocessRule.get().getInput() : compileRule.getInput();
  String fileToCompile=projectFilesystem.resolve(getResolver().getPath(inputSourcePath)).toString();
  ImmutableList<String> commands=preprocessRule.isPresent() ? compileRule.getCompileCommandCombinedWithPreprocessBuildRule(preprocessRule.get()) : compileRule.getCommand();
  String command=Joiner.on(' ').join(Iterables.transform(commands,Escaper.SHELL_ESCAPER));
  return new JsonSerializableDatabaseEntry(projectFilesystem.resolve(getBuildTarget().getBasePath()).toString(),fileToCompile,command);
}
