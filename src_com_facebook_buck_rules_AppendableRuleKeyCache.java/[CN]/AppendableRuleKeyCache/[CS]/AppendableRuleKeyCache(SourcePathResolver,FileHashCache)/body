{
  this.pathResolver=pathResolver;
  this.fileHashCache=fileHashCache;
  this.cache=CacheBuilder.newBuilder().weakKeys().build(new CacheLoader<RuleKeyAppendable,RuleKey>(){
    @Override public RuleKey load(    RuleKeyAppendable appendable) throws Exception {
      return getAppendableRuleKey(appendable);
    }
  }
);
}
