{
  assumeTrue(Platform.detect() != Platform.WINDOWS);
  Path rootPath=Paths.get("/Users/user/src");
  BuildTarget testBuildTarget=BuildTarget.builder().setUnflavoredBuildTarget(UnflavoredBuildTarget.of(rootPath,Optional.<String>absent(),"//target","short")).addFlavors(CxxInferEnhancer.InferFlavors.INFER.get()).build();
  CellPathResolver cellPathResolver=createFakeCellPathResolver(ImmutableMap.<String,Path>of(),Optional.of(rootPath));
  InferLogLine inferLogLine=new InferLogLine(testBuildTarget,Paths.get("buck-out/a/b/c/"));
  Path expectedContextualizedPath=rootPath.resolve("buck-out/a/b/c");
  assertTrue("Contextualized path must be absolute",expectedContextualizedPath.isAbsolute());
  String expectedOutput="//target:short#infer\t[infer]\t" + expectedContextualizedPath.toString();
  assertEquals(expectedOutput,inferLogLine.toContextualizedString(cellPathResolver));
}
