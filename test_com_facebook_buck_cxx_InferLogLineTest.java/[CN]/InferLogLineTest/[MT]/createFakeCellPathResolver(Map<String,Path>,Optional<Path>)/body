{
  return new CellPathResolver(){
    @Override public Path getCellPath(    Optional<String> cellName){
      if (!cellName.isPresent()) {
        return defaultRootPath.get();
      }
      Path p=cellToRootPathMap.get(cellName.get());
      if (p == null) {
        throw new RuntimeException("Cellname " + cellName + " is not part of the given map");
      }
      return p;
    }
  }
;
}
