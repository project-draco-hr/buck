{
  queryCommand.setArguments(ImmutableList.of("deps(%s)","//foo:bar","//foo:baz"));
  EasyMock.expect(env.getFunctions()).andReturn(BuckQueryEnvironment.DEFAULT_QUERY_FUNCTIONS).anyTimes();
  env.preloadTargetPatterns(ImmutableSet.of("//foo:bar","//foo:baz"),executor);
  EasyMock.expect(env.evaluateQuery("deps(//foo:bar)",executor)).andReturn(ImmutableSet.<QueryTarget>of());
  EasyMock.expect(env.evaluateQuery("deps(//foo:baz)",executor)).andReturn(ImmutableSet.<QueryTarget>of());
  EasyMock.replay(env);
  queryCommand.formatAndRunQuery(params,env,executor);
  EasyMock.verify(env);
}
