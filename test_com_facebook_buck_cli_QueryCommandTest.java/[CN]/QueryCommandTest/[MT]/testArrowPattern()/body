{
  Matcher simpleMatch=DependencyQuery.ARROW_PATTERN.matcher("//:foo -> //:bar");
  assertTrue(simpleMatch.matches());
  assertEquals("//:foo",simpleMatch.group(1));
  assertEquals("",simpleMatch.group(2));
  assertEquals("//:bar",simpleMatch.group(3));
  Matcher matchTargetsWithHyphens=DependencyQuery.ARROW_PATTERN.matcher("//src/com/buck:some-rules-> -> //src/com/buck/util:other-rules");
  assertTrue(matchTargetsWithHyphens.matches());
  assertEquals("//src/com/buck:some-rules->",matchTargetsWithHyphens.group(1));
  assertEquals("",matchTargetsWithHyphens.group(2));
  assertEquals("//src/com/buck/util:other-rules",matchTargetsWithHyphens.group(3));
  Matcher queryWithMissingArguments=DependencyQuery.ARROW_PATTERN.matcher(" -> ");
  assertFalse(queryWithMissingArguments.matches());
}
