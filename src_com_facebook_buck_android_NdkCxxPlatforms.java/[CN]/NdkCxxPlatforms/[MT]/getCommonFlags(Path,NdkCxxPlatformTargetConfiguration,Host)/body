{
  ImmutableList.Builder<String> flags=ImmutableList.builder();
  if (targetConfiguration.getCompiler().getType() == NdkCxxPlatformCompiler.Type.CLANG) {
    flags.add("-gcc-toolchain",getNdkGccToolRoot(ndkRoot,targetConfiguration,host.toString()).toString());
  }
  if (targetConfiguration.getCompiler().getType() == NdkCxxPlatformCompiler.Type.GCC) {
    flags.add("-B" + getLibexecGccToolPath(ndkRoot,targetConfiguration,host),"-B" + getToolchainBinPath(ndkRoot,targetConfiguration,host));
  }
  flags.add("-Wall","-Werror");
  if (targetConfiguration.getCompiler().getType() == NdkCxxPlatformCompiler.Type.CLANG) {
    flags.add("-Wno-unused-command-line-argument");
  }
  flags.add("-fstack-protector","-g3");
  return flags.build();
}
