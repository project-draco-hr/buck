{
  BuildTarget javaLibraryTarget=new BuildTarget("//java/com/example","lib");
  JavaLibrary javaLibrary=new FakeJavaLibrary(javaLibraryTarget){
    @Override public ImmutableSortedMap<String,HashCode> getClassNamesToHashes(){
      return ImmutableSortedMap.of();
    }
  }
;
  BuildTarget buildTarget=new BuildTarget("//java/com/example","lib","dex");
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(buildTarget).build();
  DexProducedFromJavaLibrary dexFromJavaLibrary=new DexProducedFromJavaLibrary(params,javaLibrary){
    @Override public int getLinearAllocEstimate(){
      return 1600;
    }
  }
;
  DexWithClasses dexWithClasses=DexWithClasses.TO_DEX_WITH_CLASSES.apply(dexFromJavaLibrary);
  assertNull("If the JavaLibraryRule does not produce any .class files, " + "then DexWithClasses.TO_DEX_WITH_CLASSES should return null.",dexWithClasses);
}
