def get_times_file_for_date(date):
    if (not os.path.isdir(LOCAL_TIMES_DIR)):
        os.makedirs(LOCAL_TIMES_DIR)
    date_str = date.strftime(u'%Y-%m-%d')
    json_file = u'buck_simulate_times_{0}.json'.format(date_str)
    local_path = os.path.join(LOCAL_TIMES_DIR, json_file)
    if os.path.isfile(local_path):
        return local_path
    gz_file = (json_file + u'.gz')
    gfs_path = os.path.join(GFS_TIMES_DIR, gz_file)
    if (gfs_path in gfs_cache):
        return None
    gfs_cache.add(gfs_path)
    printf(u'Trying to fetch [{0}].'.format(gfs_path))
    if os.path.isfile(gfs_path):
        local_gz_path = os.path.join(LOCAL_TIMES_DIR, gz_file)
        shutil.copyfile(gfs_path, local_gz_path)
        with gzip.open(local_gz_path, u'rb') as f_in:
            with open(local_path, u'wb') as f_out:
                shutil.copyfileobj(f_in, f_out)
        return local_path
    return None
