def parse_args():
    parser = argparse.ArgumentParser(description=u'Computes [buck simulate] stats and uploads them to Scuba.')
    parser.add_argument(u'--repo', dest=u'repo', help=u'The repository path.', required=True)
    parser.add_argument(dest=u'targets', nargs=u'+', help=u'The target to simulate.')
    parser.add_argument(u'--rev', dest=u'rev', default=u'HEAD', help=u'The most recent revision to run this command for. (defaults to HEAD)')
    parser.add_argument(u'--rev-count', dest=u'rev_count', default=1, type=int, help=u'The number of revs to run the command for.  (defaults to zero)')
    parser.add_argument(u'--rev-step-secs', dest=u'rev_step_secs', default=0, type=int, help=u'Minimum time between to consecutive revisions in seconds.')
    parser.add_argument(u'--num-threads', dest=u'num_threads', default=8, type=int, help=u'The number of threads to simulate.')
    parser.add_argument(u'--times-file', dest=u'times_file', default=None, help=u'File containing buck simulate times.')
    parser.add_argument(u'--time-aggregate', dest=u'time_aggregate', default=[u'avg', u'p90', u'p99'], nargs=u'+', help=u'The time aggregates used from the simulate times file.')
    return parser.parse_args()
