{
  assumeTrue(ThriftWatcher.isThriftAvailable());
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"thrift_test",tmp);
  workspace.setUp();
  ProcessResult result=workspace.runBuckCommand("build","//:thrifty");
  result.assertSuccess();
  String testFile=workspace.getFileContents("buck-out/gen/__thrift_thrifty__/gen-java/com/" + "facebook/fbtrace/constants/TestConstants.java");
  assertThat("Check to make sure file is being generated",testFile,containsString("public class TestConstants {"));
}
