{
  if (!NAME_PATTERN.matcher(varName).matches()) {
    throw new QueryException(this,"invalid variable name '" + varName + "' in let expression");
  }
  Set<T> varValue=varExpr.eval(env);
  Set<T> prevValue=env.setVariable(varName,varValue);
  try {
    return bodyExpr.eval(env);
  }
  finally {
    env.setVariable(varName,prevValue);
  }
}
