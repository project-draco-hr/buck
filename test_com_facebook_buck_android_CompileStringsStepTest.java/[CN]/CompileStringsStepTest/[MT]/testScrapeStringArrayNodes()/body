{
  String xmlInput="<string-array name='name1'>" + "<item>Value11</item>" + "<item>Value12</item>"+ "</string-array>"+ "<string-array name='name2'>"+ "<item>Value21</item>"+ "</string-array>"+ "<string-array name='name3'></string-array>"+ "<string-array name='name2'>"+ "<item>ignored</item>"+ "</string-array>";
  NodeList arrayNodes=XmlDomParser.parse(createResourcesXml(xmlInput)).getElementsByTagName("string-array");
  Multimap<Integer,String> arraysMap=ArrayListMultimap.create();
  CompileStringsStep step=createNonExecutingStep();
  step.addResourceNameToIdMap(ImmutableMap.of("name1",1,"name2",2,"name3",3));
  step.scrapeStringArrayNodes(arrayNodes,arraysMap);
  assertEquals("Incorrect map of resource id to string arrays.",ImmutableMultimap.builder().put(1,"Value11").put(1,"Value12").put(2,"Value21").build(),arraysMap);
}
