{
  if (fullPath.toString().contains("..")) {
    throw new HumanReadableException("\"%s\" in target \"%s\" refers to a parent directory.",fullPath,target.getFullyQualifiedName());
  }
  Path ancestor=buildFiles.getBasePathOfAncestorTarget(fullPath);
  Path targetBasePath=Paths.get(target.getBasePath());
  if (!targetBasePath.equals(ancestor)) {
    throw new HumanReadableException("\"%s\" in target \"%s\" crosses a buck package boundary. Find the nearest BUCK file " + "in the directory containing this file and refer to the rule referencing the " + "desired file.",fullPath,target);
  }
}
