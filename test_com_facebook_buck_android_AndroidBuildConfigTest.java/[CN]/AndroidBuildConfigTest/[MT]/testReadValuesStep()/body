{
  Path pathToValues=Paths.get("src/values.txt");
  ProjectFilesystem projectFilesystem=EasyMock.createMock(ProjectFilesystem.class);
  EasyMock.expect(projectFilesystem.readLines(pathToValues)).andReturn(ImmutableList.of("boolean DEBUG = false","String FOO = \"BAR\""));
  EasyMock.replay(projectFilesystem);
  ReadValuesStep step=new ReadValuesStep(pathToValues);
  ExecutionContext context=TestExecutionContext.newBuilder().setProjectFilesystem(projectFilesystem).build();
  int exitCode=step.execute(context);
  assertEquals(0,exitCode);
  assertEquals(BuildConfigFields.fromFields(ImmutableList.<BuildConfigFields.Field>of(BuildConfigFields.Field.of("boolean","DEBUG","false"),BuildConfigFields.Field.of("String","FOO","\"BAR\""))),step.get());
  EasyMock.verify(projectFilesystem);
}
