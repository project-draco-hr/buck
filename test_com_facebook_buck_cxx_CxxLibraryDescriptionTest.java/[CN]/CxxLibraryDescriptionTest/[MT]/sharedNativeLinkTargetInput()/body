{
  CxxLibraryBuilder ruleBuilder=new CxxLibraryBuilder(BuildTargetFactory.newInstance("//:rule")).setLinkerFlags(ImmutableList.of("--flag")).setExportedLinkerFlags(ImmutableList.of("--exported-flag"));
  BuildRuleResolver resolver=new BuildRuleResolver(TargetGraphFactory.newInstance(ruleBuilder.build()),new BuildTargetNodeToBuildRuleTransformer());
  CxxLibrary rule=(CxxLibrary)ruleBuilder.build(resolver);
  NativeLinkableInput input=rule.getSharedNativeLinkTargetInput(CxxPlatformUtils.DEFAULT_PLATFORM);
  assertThat(Arg.stringify(input.getArgs()),hasItems("--flag","--exported-flag"));
}
