{
  BuildRuleResolver resolver=new BuildRuleResolver(TargetGraph.EMPTY,new BuildTargetNodeToBuildRuleTransformer());
  CxxLibrary rule=(CxxLibrary)new CxxLibraryBuilder(BuildTargetFactory.newInstance("//:rule")).setSoname("libsoname.so").build(resolver);
  assertThat(rule.getSharedNativeLinkTargetLibraryName(CxxPlatformUtils.DEFAULT_PLATFORM),Matchers.equalTo(Optional.of("libsoname.so")));
}
