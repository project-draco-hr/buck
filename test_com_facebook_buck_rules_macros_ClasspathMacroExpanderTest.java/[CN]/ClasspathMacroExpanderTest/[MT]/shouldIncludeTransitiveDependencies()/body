{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  BuildRule dep=JavaLibraryBuilder.createBuilder(BuildTargetFactory.newInstance("//exciting:dep")).addSrc(Paths.get("Dep.java")).build(ruleResolver);
  BuildRule rule=JavaLibraryBuilder.createBuilder(BuildTargetFactory.newInstance("//exciting:target")).addSrc(Paths.get("Other.java")).addDep(dep.getBuildTarget()).build(ruleResolver);
  String classpath=expander.expand(filesystem,rule);
  assertEquals(String.format("%s/%s:%s/%s",ROOT,dep.getPathToOutput(),ROOT,rule.getPathToOutput()).replace(':',File.pathSeparatorChar),classpath);
}
