{
  if (!additionalTargets.isEmpty()) {
    this.arguments.addAll(additionalTargets);
  }
  BuildEvent.Started started=BuildEvent.started(getArguments());
  if (params.getParser().getParseStartTime().isPresent()) {
    params.getBuckEventBus().post(started,params.getParser().getParseStartTime().get());
  }
 else {
    params.getBuckEventBus().post(started);
  }
  Pair<ActionGraph,BuildRuleResolver> actionGraphAndResolver=createActionGraphAndResolver(params,executorService);
  if (actionGraphAndResolver == null) {
    return 1;
  }
  int exitCode=executeBuild(params,actionGraphAndResolver,executorService);
  params.getBuckEventBus().post(BuildEvent.finished(started,exitCode));
  return exitCode;
}
