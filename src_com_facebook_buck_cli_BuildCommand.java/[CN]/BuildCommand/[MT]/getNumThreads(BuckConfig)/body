{
  if (numThreads == null) {
    ImmutableMap<String,String> build=buckConfig.getEntriesForSection("build");
    if (build.containsKey("threads")) {
      try {
        numThreads=Integer.parseInt(build.get("threads"));
      }
 catch (      NumberFormatException e) {
        throw new HumanReadableException(e,"Unable to determine number of threads to use from building from buck config file. " + "Value used was '%s'",build.get("threads"));
      }
    }
 else {
      numThreads=(int)(Runtime.getRuntime().availableProcessors() * 1.25);
    }
  }
  return numThreads;
}
