{
  Preconditions.checkArgument(rulesToBuild.size() == results.size());
  StringBuilder report=new StringBuilder();
  for (int i=0, len=rulesToBuild.size(); i < len; i++) {
    BuildRule rule=rulesToBuild.get(i);
    BuildRuleSuccess success=results.get(i);
    String successIndicator;
    String successType;
    Path outputFile;
    if (success != null) {
      successIndicator=ansi.asHighlightedSuccessText("OK  ");
      successType=success.getType().name();
      outputFile=rule.getPathToOutputFile();
    }
 else {
      successIndicator=ansi.asHighlightedFailureText("FAIL");
      successType=null;
      outputFile=null;
    }
    report.append(String.format("%s %s%s%s\n",successIndicator,rule.getBuildTarget(),successType != null ? " " + successType : "",outputFile != null ? " " + outputFile : ""));
  }
  return report.toString();
}
