{
  assumeTrue(Platform.detect() != Platform.WINDOWS);
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"sh_binary_pwd",temporaryFolder);
  workspace.setUp();
  String alteredPwd=workspace.getDestPath().toString() + "////////";
  Map<String,String> env=new HashMap<>();
  env.putAll(System.getenv());
  env.put("PWD",alteredPwd);
  ProcessResult buildResult=workspace.runBuckCommandWithEnvironmentAndContext(workspace.getDestPath(),Optional.<NGContext>absent(),Optional.<BuckEventListener>absent(),Optional.of(ImmutableMap.copyOf(env)),"run","//:pwd");
  buildResult.assertSuccess();
  assertThat(buildResult.getStdout(),Matchers.equalTo(alteredPwd));
}
