{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"sh_binary_with_resources",temporaryFolder);
  workspace.setUp();
  ProcessResult buildResult=workspace.runBuckCommand("build","//app:create_output_using_node");
  buildResult.assertExitCode(0);
  File outputFile=workspace.getFile("buck-out/gen/app/output.txt");
  List<String> lines=Files.readLines(outputFile,Charsets.US_ASCII);
  String expectedPlatform=System.getProperty("os.name").startsWith("Mac OS") ? "OS X" : "Linux";
  assertEquals(expectedPlatform,lines.get(0));
  assertEquals("arg1 arg2",lines.get(1));
}
