{
  BuildTarget target=BuildTargetFactory.newInstance("//:rule");
  BuildRuleResolver resolver=new BuildRuleResolver(TargetGraph.EMPTY,new DefaultTargetNodeToBuildRuleTransformer());
  LocationMacroExpander macroExpander=new LocationMacroExpander();
  assertThat(macroExpander.extractRuleKeyAppendables(target,createCellRoots(new FakeProjectFilesystem()),resolver,"//some/other:rule"),Matchers.<Object>equalTo(new BuildTargetSourcePath(BuildTargetFactory.newInstance("//some/other:rule"))));
}
