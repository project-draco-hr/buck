{
  ImmutableSet<JavaLibraryRule> sourceUnderTest=generateSourceUnderTest(sourceUnderTestNames,buildRuleIndex);
  ImmutableList.Builder<String> allVmArgs=ImmutableList.builder();
  allVmArgs.addAll(vmArgs);
  return new RobolectricTestRule(createCachingBuildRuleParams(buildRuleIndex),srcs,resources,labels,proguardConfig,getAnnotationProcessingBuilder().build(buildRuleIndex),allVmArgs.build(),sourceUnderTest,sourceLevel,targetLevel);
}
