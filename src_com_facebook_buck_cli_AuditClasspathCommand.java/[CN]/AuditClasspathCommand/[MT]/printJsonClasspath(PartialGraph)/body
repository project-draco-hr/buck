{
  DependencyGraph graph=partialGraph.getDependencyGraph();
  List<BuildTarget> targets=partialGraph.getTargets();
  Multimap<String,String> targetClasspaths=TreeMultimap.create();
  for (  BuildTarget target : targets) {
    BuildRule rule=graph.findBuildRuleByTarget(target);
    HasClasspathEntries classpathEntries;
    if (rule instanceof HasClasspathEntries) {
      classpathEntries=(HasClasspathEntries)rule;
    }
 else     if (rule.getBuildable() instanceof HasClasspathEntries) {
      classpathEntries=(HasClasspathEntries)rule.getBuildable();
    }
 else {
      continue;
    }
    targetClasspaths.putAll(target.getFullyQualifiedName(),classpathEntries.getTransitiveClasspathEntries().values());
  }
  ObjectMapper mapper=new ObjectMapper();
  mapper.writeValue(console.getStdOut(),targetClasspaths.asMap());
  return 0;
}
