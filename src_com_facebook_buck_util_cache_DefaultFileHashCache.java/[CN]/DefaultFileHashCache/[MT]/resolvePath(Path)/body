{
  Preconditions.checkState(path.isAbsolute());
  Optional<Path> relativePath=projectFilesystem.getPathRelativeToProjectRoot(path);
  Preconditions.checkState(!projectFilesystem.isIgnored(relativePath.get()));
  return relativePath.get();
}
