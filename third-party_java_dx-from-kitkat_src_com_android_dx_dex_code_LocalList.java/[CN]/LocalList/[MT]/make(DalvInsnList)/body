{
  int sz=insns.size();
  MakeState state=new MakeState(sz);
  for (int i=0; i < sz; i++) {
    DalvInsn insn=insns.get(i);
    if (insn instanceof LocalSnapshot) {
      RegisterSpecSet snapshot=((LocalSnapshot)insn).getLocals();
      state.snapshot(insn.getAddress(),snapshot);
    }
 else     if (insn instanceof LocalStart) {
      RegisterSpec local=((LocalStart)insn).getLocal();
      state.startLocal(insn.getAddress(),local);
    }
 else     if (insn instanceof LocalEnd) {
      RegisterSpec local=((LocalEnd)insn).getLocal();
      state.endLocal(insn.getAddress(),local);
    }
  }
  LocalList result=state.finish();
  if (DEBUG) {
    debugVerify(result);
  }
  return result;
}
