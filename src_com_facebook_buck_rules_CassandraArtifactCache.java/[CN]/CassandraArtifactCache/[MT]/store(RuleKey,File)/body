{
  if (!doStore || !ruleKey.isIdempotent()) {
    return;
  }
  Optional<KeyspaceAndTtl> keyspaceAndTtl=getKeyspaceAndTtl();
  if (!keyspaceAndTtl.isPresent()) {
    return;
  }
  try {
    Keyspace keyspace=keyspaceAndTtl.get().getKeyspace();
    int ttl=keyspaceAndTtl.get().getTtl();
    MutationBatch m=keyspace.prepareMutationBatch();
    m.withRow(CF_ARTIFACT,ruleKey.toString()).setDefaultTtl(ttl).putColumn(artifactColumnName,Files.toByteArray(output));
    m.executeAsync();
  }
 catch (  IOException|ConnectionException|OutOfMemoryError e) {
    logger.warning(String.format("Artifact store(%s, %s) error: %s",ruleKey,output.getPath(),e.getMessage()));
  }
}
