{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"parse_rule_with_bad_dependency",temporaryFolder);
  workspace.setUp();
  try {
    workspace.runBuckCommand("build","//:base");
  }
 catch (  HumanReadableException e) {
    assertTrue(e.getHumanReadableErrorMessage(),e.getHumanReadableErrorMessage().matches("The build file that should contain //:bad-dep has already been parsed \\(" + ".*\\), but //:bad-dep was not found. " + "Please make sure that //:bad-dep is defined in "+ ".*\\."));
    return;
  }
  fail("An exception should have been thrown because of a bad dependency.");
}
