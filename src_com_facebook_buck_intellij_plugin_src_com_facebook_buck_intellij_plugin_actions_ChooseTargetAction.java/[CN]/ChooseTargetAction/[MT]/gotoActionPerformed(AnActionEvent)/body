{
  final Project project=e.getData(CommonDataKeys.PROJECT);
  if (project == null) {
    return;
  }
  final ChooseTargetModel model=new ChooseTargetModel(project);
  GotoActionCallback<String> callback=new GotoActionCallback<String>(){
    @Override public void elementChosen(    ChooseByNamePopup chooseByNamePopup,    Object element){
      if (element == null) {
        return;
      }
      BuckSettingsProvider buckSettingsProvider=BuckSettingsProvider.getInstance();
      if (buckSettingsProvider == null || buckSettingsProvider.getState() == null) {
        return;
      }
      ChooseTargetItem item=(ChooseTargetItem)element;
      if (buckSettingsProvider.getState().lastAlias != null) {
        buckSettingsProvider.getState().lastAlias.put(project.getBasePath(),item.getBuildTarget());
      }
      BuckToolWindowFactory.updateBuckToolWindowTitle(project);
    }
  }
;
  DefaultChooseByNameItemProvider provider=new DefaultChooseByNameItemProvider(getPsiContext(e));
  showNavigationPopup(e,model,callback,"Choose Build Target",true,false,provider);
}
