{
  LOG.debug("Searching for Xcode toolchains under %s",xcodeDir);
  ImmutableMap.Builder<String,Path> toolchainIdentifiersToPathsBuilder=ImmutableMap.builder();
  Path toolchains=xcodeDir.resolve("Toolchains");
  if (!Files.exists(toolchains)) {
    return toolchainIdentifiersToPathsBuilder.build();
  }
  try (DirectoryStream<Path> toolchainStream=Files.newDirectoryStream(toolchains,"*.xctoolchain")){
    for (    Path toolchainDir : toolchainStream) {
      LOG.debug("Getting identifier for for Xcode toolchain under %s",toolchainDir);
      addIdentiferForToolchain(toolchainDir,toolchainIdentifiersToPathsBuilder);
    }
  }
   return toolchainIdentifiersToPathsBuilder.build();
}
