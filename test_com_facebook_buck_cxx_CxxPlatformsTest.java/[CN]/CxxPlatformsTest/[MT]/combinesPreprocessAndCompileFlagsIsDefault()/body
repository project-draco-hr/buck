{
  ImmutableMap<String,ImmutableMap<String,String>> sections=ImmutableMap.of("cxx",ImmutableMap.of("cflags","-Wtest","cxxflags","-Wexample","cppflags","-Wp","cxxppflags","-Wxp"));
  CxxBuckConfig buckConfig=new CxxBuckConfig(new FakeBuckConfig(sections));
  CxxPlatform platform=DefaultCxxPlatforms.build(buckConfig);
  assertThat(platform.getCflags(),hasItem("-Wtest"));
  assertThat(platform.getCxxflags(),hasItem("-Wexample"));
  assertThat(platform.getCppflags(),hasItems("-Wtest","-Wp"));
  assertThat(platform.getCxxppflags(),hasItems("-Wexample","-Wxp"));
}
