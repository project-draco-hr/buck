{
  if (libraries.isEmpty()) {
    return;
  }
  ImmutableSet<String> requiredHashes=libraries.keySet();
  ImmutableSet<String> presentHashes=prepareNativeLibsDir(abi,requiredHashes);
  Map<String,Path> filesToInstallByHash=Maps.filterKeys(libraries,Predicates.not(Predicates.in(presentHashes)));
  createSymlinks(abi,libraries);
  installFiles("native_library",ImmutableMap.copyOf(filesToInstallByHash),"success","native-%s.so",NATIVE_LIBS_DIR.resolve(abi));
}
