{
  ImmutableSet.Builder<BuildTarget> rules=ImmutableSet.builder();
  ImmutableList.Builder<String> cflags=ImmutableList.builder();
  ImmutableList.Builder<String> cxxflags=ImmutableList.builder();
  ImmutableMap.Builder<Path,SourcePath> includes=ImmutableMap.builder();
  ImmutableList.Builder<Path> includeRoots=ImmutableList.builder();
  ImmutableList.Builder<Path> systemIncludeRoots=ImmutableList.builder();
  for (  CxxPreprocessorInput input : inputs) {
    rules.addAll(input.getRules());
    cflags.addAll(input.getCppflags());
    cxxflags.addAll(input.getCxxppflags());
    includes.putAll(input.getIncludes());
    includeRoots.addAll(input.getIncludeRoots());
    systemIncludeRoots.addAll(input.getSystemIncludeRoots());
  }
  return new CxxPreprocessorInput(rules.build(),cflags.build(),cxxflags.build(),includes.build(),includeRoots.build(),systemIncludeRoots.build());
}
