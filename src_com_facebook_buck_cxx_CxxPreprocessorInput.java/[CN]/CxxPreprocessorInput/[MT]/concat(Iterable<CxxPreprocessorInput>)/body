{
  ImmutableSet.Builder<BuildTarget> rules=ImmutableSet.builder();
  ImmutableMultimap.Builder<CxxSource.Type,String> preprocessorFlags=ImmutableMultimap.builder();
  ImmutableMap.Builder<Path,SourcePath> includes=ImmutableMap.builder();
  ImmutableList.Builder<Path> includeRoots=ImmutableList.builder();
  ImmutableList.Builder<Path> systemIncludeRoots=ImmutableList.builder();
  for (  CxxPreprocessorInput input : inputs) {
    rules.addAll(input.getRules());
    preprocessorFlags.putAll(input.getPreprocessorFlags());
    includes.putAll(input.getIncludes());
    includeRoots.addAll(input.getIncludeRoots());
    systemIncludeRoots.addAll(input.getSystemIncludeRoots());
  }
  return new CxxPreprocessorInput(rules.build(),preprocessorFlags.build(),includes.build(),includeRoots.build(),systemIncludeRoots.build());
}
