{
  super(params,resolver);
  this.extension=extension.isLeft() ? extension.getLeft().toFileExtension() : extension.getRight();
  this.infoPlist=infoPlist;
  this.binary=binary;
  this.bundleSubfolders=ImmutableMap.copyOf(bundleSubfolders);
  this.dirs=ImmutableMap.copyOf(dirs);
  this.files=ImmutableMap.copyOf(files);
  this.outputZipPath=BuildTargets.getGenPath(params.getBuildTarget(),"%s.zip");
  this.bundledAssetCatalogs=ImmutableSet.copyOf(bundledAssetCatalogs);
  this.mergedAssetCatalog=mergedAssetCatalog;
  this.binaryName=getBuildTarget().getShortName();
  this.bundleRoot=BuildTargets.getGenPath(getBuildTarget(),"%s").resolve(binaryName + "." + this.extension);
  this.executablesPath=Paths.get(this.bundleSubfolders.get(AppleBundleDestination.SubfolderSpec.EXECUTABLES));
  this.binaryPath=this.executablesPath.resolve(this.binaryName);
}
