{
  BuildTargetPatternParser parser=new BuildTargetPatternParser();
  ParseContext parseContext=ParseContext.forVisibilityArgument();
  assertEquals(new ImmediateDirectoryBuildTargetPattern("test/com/facebook/buck/parser/"),parser.parse("//test/com/facebook/buck/parser:",parseContext));
  assertEquals(new SingletonBuildTargetPattern("//test/com/facebook/buck/parser:parser"),parser.parse("//test/com/facebook/buck/parser:parser",parseContext));
  assertEquals(new SubdirectoryBuildTargetPattern("test/com/facebook/buck/parser/"),parser.parse("//test/com/facebook/buck/parser/...",parseContext));
}
