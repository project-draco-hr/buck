{
  BuildTargetPatternParser parser=new BuildTargetPatternParser();
  ParseContext parseContext=ParseContext.forVisibilityArgument();
  assertEquals(new ImmediateDirectoryBuildTargetPattern(""),parser.parse("//:",parseContext));
  assertEquals(new SingletonBuildTargetPattern("//:parser"),parser.parse("//:parser",parseContext));
  assertEquals(new SubdirectoryBuildTargetPattern(""),parser.parse("//...",parseContext));
}
