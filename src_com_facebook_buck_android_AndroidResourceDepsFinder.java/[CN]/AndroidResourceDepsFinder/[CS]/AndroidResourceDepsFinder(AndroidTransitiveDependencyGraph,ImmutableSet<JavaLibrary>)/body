{
  this.transitiveDependencyGraph=Preconditions.checkNotNull(transitiveDependencyGraph);
  this.buildRulesToExcludeFromDex=Preconditions.checkNotNull(buildRulesToExcludeFromDex);
  this.androidTransitiveDependencies=transitiveDependencyGraph.findDependencies();
  this.allAndroidResourcesSupplier=Suppliers.memoize(new Supplier<ImmutableList<HasAndroidResourceDeps>>(){
    @Override public ImmutableList<HasAndroidResourceDeps> get(){
      return findMyAndroidResourceDeps();
    }
  }
);
  this.androidResourceDepsSupplier=Suppliers.memoize(new Supplier<ImmutableList<HasAndroidResourceDeps>>(){
    @Override public ImmutableList<HasAndroidResourceDeps> get(){
      return FluentIterable.from(allAndroidResourcesSupplier.get()).filter(new Predicate<HasAndroidResourceDeps>(){
        @Override public boolean apply(        HasAndroidResourceDeps input){
          return input.getRes() != null;
        }
      }
).toList();
    }
  }
);
}
