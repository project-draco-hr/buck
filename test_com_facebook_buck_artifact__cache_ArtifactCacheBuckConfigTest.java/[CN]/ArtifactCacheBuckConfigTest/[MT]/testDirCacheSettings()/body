{
  ArtifactCacheBuckConfig config=createFromText("[cache]","dir = cache_dir","dir_mode = readonly","dir_max_size = 1022B");
  assertThat(config.getCacheDir(),Matchers.equalTo(Paths.get("cache_dir").toAbsolutePath()));
  assertThat(config.getDirCacheReadMode(),Matchers.is(ArtifactCacheBuckConfig.CacheReadMode.readonly));
  assertThat(config.getCacheDirMaxSizeBytes(),Matchers.equalTo(Optional.of(1022L)));
}
