{
  SettableFakeClock clock=new SettableFakeClock(0,0);
  FakeListeningProcessExecutor executor=new FakeListeningProcessExecutor(ImmutableMultimap.<ProcessExecutorParams,FakeListeningProcessState>builder().putAll(ProcessExecutorParams.ofCommand(exe,"--output-encoding=bser","get-sockname"),FakeListeningProcessState.ofWaitNanos(TimeUnit.SECONDS.toNanos(30)),FakeListeningProcessState.ofStdoutBytes(bserSerialized(ImmutableMap.of("version","3.4.0","sockname","/path/to/sock"))),FakeListeningProcessState.ofExit(0)).build(),clock);
  Watchman watchman=Watchman.build(executor,fakeWatchmanConnector(Paths.get("/path/to/sock"),0,ImmutableMap.of(ImmutableList.of("watch-project",root),ImmutableMap.of("version","3.4.0","watch",root))),Paths.get(root),env,finder,new TestConsole(),clock);
  assertEquals(Watchman.NULL_WATCHMAN,watchman);
}
