{
  final String itemHREF;
  if (item instanceof AllItem)   itemHREF=m_settings.getOutFile().getName();
 else   itemHREF=m_reportIDNamespace.getID(getItemKey(item)).concat(FILE_EXTENSION);
  final String fullHREF;
  if (base == null)   fullHREF=itemHREF;
 else {
    final int nesting=NESTING[base.getMetadata().getTypeID()][item.getMetadata().getTypeID()];
    if (nesting == 1)     fullHREF=NESTED_ITEMS_PARENT_DIRNAME.concat("/").concat(itemHREF);
 else     if (nesting == -1)     fullHREF="../".concat(itemHREF);
 else     fullHREF=itemHREF;
  }
  return fullHREF;
}
