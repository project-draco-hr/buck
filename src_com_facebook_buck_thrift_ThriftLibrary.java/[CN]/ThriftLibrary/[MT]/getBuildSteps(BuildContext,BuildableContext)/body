{
  ImmutableList.Builder<Step> steps=ImmutableList.builder();
  final Path genPath=BuildTargets.getGenPath(getBuildTarget(),"__thrift_%s__");
  steps.add(new MakeCleanDirectoryStep(genPath));
  steps.addAll(FluentIterable.from(srcs).transform(new Function<SourcePath,Step>(){
    @Override public Step apply(    SourcePath input){
      return new ThriftStep(input.resolve(),Optional.of(genPath),Optional.<Path>absent(),ImmutableSortedSet.<Path>of(),langs,ImmutableSortedSet.<String>of());
    }
  }
).toList());
  buildableContext.recordArtifactsInDirectory(genPath);
  return steps.build();
}
