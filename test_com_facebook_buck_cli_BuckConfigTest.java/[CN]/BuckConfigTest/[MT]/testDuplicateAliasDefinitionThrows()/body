{
  BuildTargetParser parser=new BuildTargetParser();
  Reader reader=new StringReader(Joiner.on('\n').join("[alias]","foo = //java/com/example:foo","foo = //java/com/example:foo"));
  try {
    createWithDefaultFilesystem(reader,parser);
    fail("Should have thrown HumanReadableException.");
  }
 catch (  HumanReadableException e) {
    assertEquals("Throw an exception if there are duplicate definitions for an alias, " + "even if the values are the same.","Duplicate definition for foo in [alias].",e.getHumanReadableErrorMessage());
  }
}
