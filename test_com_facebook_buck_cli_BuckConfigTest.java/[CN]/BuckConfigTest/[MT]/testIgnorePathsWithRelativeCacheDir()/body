{
  ProjectFilesystem filesystem=EasyMock.createMock(ProjectFilesystem.class);
  EasyMock.expect(filesystem.getAbsolutifier()).andReturn(IdentityPathAbsolutifier.getIdentityAbsolutifier());
  EasyMock.replay(filesystem);
  Reader reader=new StringReader(Joiner.on('\n').join("[cache]","dir = cache_dir"));
  BuckConfig config=BuckConfigTestUtils.createFromReader(reader,filesystem,Platform.detect(),ImmutableMap.copyOf(System.getenv()));
  ImmutableSet<Path> ignorePaths=config.getIgnorePaths();
  assertTrue("Relative cache directory should be in set of ignored paths",ignorePaths.contains(Paths.get("cache_dir")));
  EasyMock.verify(filesystem);
}
