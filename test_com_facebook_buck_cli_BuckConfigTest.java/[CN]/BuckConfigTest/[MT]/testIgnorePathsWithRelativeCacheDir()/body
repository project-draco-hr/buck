{
  ProjectFilesystem filesystem=EasyMock.createMock(ProjectFilesystem.class);
  EasyMock.expect(filesystem.getAbsolutifier()).andReturn(IdentityPathAbsolutifier.getIdentityAbsolutifier());
  BuildTargetParser parser=EasyMock.createMock(BuildTargetParser.class);
  EasyMock.replay(filesystem,parser);
  Reader reader=new StringReader(Joiner.on('\n').join("[cache]","dir = cache_dir"));
  BuckConfig config=BuckConfig.createFromReader(reader,filesystem,parser,Platform.detect(),ImmutableMap.copyOf(System.getenv()));
  ImmutableSet<Path> ignorePaths=config.getIgnorePaths();
  assertTrue("Relative cache directory should be in set of ignored paths",ignorePaths.contains(Paths.get("cache_dir")));
  EasyMock.verify(filesystem,parser);
}
