{
  ArtifactCacheBuckConfig cacheConfig=ArtifactCacheBuckConfigTest.createFromText("[cache]","mode = dir, http","blacklisted_wifi_ssids = weevil, evilwifi");
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  BuckEventBus buckEventBus=BuckEventBusFactory.newInstance();
  ArtifactCache artifactCache=ArtifactCaches.newInstance(cacheConfig,buckEventBus,projectFilesystem,Optional.of("evilwifi"));
  assertThat(artifactCache,Matchers.instanceOf(LoggingArtifactCacheDecorator.class));
  LoggingArtifactCacheDecorator cacheDecorator=(LoggingArtifactCacheDecorator)artifactCache;
  assertThat(cacheDecorator.getDelegate(),Matchers.instanceOf(DirArtifactCache.class));
}
