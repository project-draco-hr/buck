{
  ImmutableMap.Builder<Path,SourcePath> nativeLibrariesBuilder=ImmutableMap.builder();
  if (!headerOnly && !provided) {
    SourcePath sharedLibrary=requireSharedLibrary(cxxPlatform);
    nativeLibrariesBuilder.put(Paths.get(soname),sharedLibrary);
  }
  ImmutableMap<Path,SourcePath> nativeLibraries=nativeLibrariesBuilder.build();
  return ImmutablePythonPackageComponents.of(ImmutableMap.<Path,SourcePath>of(),ImmutableMap.<Path,SourcePath>of(),nativeLibraries);
}
