{
  Path pathToNonGenFile=Paths.get("java/package/SourceFile1.java");
  assertFalse(MorePaths.isGeneratedFile(pathToNonGenFile));
  ImmutableSortedSet<Path> javaSrcs=ImmutableSortedSet.of(pathToNonGenFile);
  JavaLibrary javaLibrary=new FakeJavaLibrary(BuildTarget.builder("//foo","bar").build(),new SourcePathResolver(new BuildRuleResolver())).setJavaSrcs(javaSrcs);
  DefaultJavaPackageFinder defaultJavaPackageFinder=createMock(DefaultJavaPackageFinder.class);
  expect(defaultJavaPackageFinder.getPathsFromRoot()).andReturn(pathsFromRoot);
  Object[] mocks=new Object[]{defaultJavaPackageFinder};
  replay(mocks);
  ImmutableSet<String> result=TestRunning.getPathToSourceFolders(javaLibrary,Optional.of(defaultJavaPackageFinder),new FakeProjectFilesystem());
  assertEquals("All non-generated source files are under one source tmp.",ImmutableSet.of("java/"),result);
  verify(mocks);
}
