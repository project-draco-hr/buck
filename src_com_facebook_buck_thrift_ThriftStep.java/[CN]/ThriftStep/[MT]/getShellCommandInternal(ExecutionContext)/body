{
  ImmutableList.Builder<String> cmdBuilder=ImmutableList.builder();
  cmdBuilder.add("thrift");
  if (outputDir.isPresent()) {
    cmdBuilder.add("-o");
    cmdBuilder.add(outputDir.get().toString());
  }
  if (outputLocation.isPresent()) {
    cmdBuilder.add("-out");
    cmdBuilder.add(outputLocation.get().toString());
  }
  for (  Path includePath : includePaths) {
    cmdBuilder.add("-I");
    cmdBuilder.add(includePath.toString());
  }
  cmdBuilder.addAll(commandLineArgs);
  for (  String gen : generators) {
    cmdBuilder.add("--gen");
    cmdBuilder.add(gen);
  }
  cmdBuilder.add(src.toString());
  return cmdBuilder.build();
}
