{
  if (useCxxLibraries.or(false)) {
    SymlinkTree nativeLibsSymlinkTree=buildNativeLibsSymlinkTreeRule(targetGraph,params,pathResolver,cxxPlatform);
    updatedParams=params.appendExtraDeps(ImmutableList.<BuildRule>builder().add(nativeLibsSymlinkTree).addAll(pathResolver.filterBuildRuleInputs(nativeLibsSymlinkTree.getLinks().values())).build());
    updatedVmArgs=vmArgs;
    nativeLibsEnvironment=ImmutableMap.of(cxxPlatform.getLd().searchPathEnvVar(),nativeLibsSymlinkTree.getRoot().toString());
  }
 else {
    updatedParams=params;
    updatedVmArgs=vmArgs;
    nativeLibsEnvironment=ImmutableMap.of();
  }
}
