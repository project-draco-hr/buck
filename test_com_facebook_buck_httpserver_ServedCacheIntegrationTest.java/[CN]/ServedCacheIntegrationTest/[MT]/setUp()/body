{
  buckEventBus=BuckEventBusFactory.newInstance();
  projectFilesystem=new ProjectFilesystem(tmpDir.getRoot());
  projectFilesystem.writeContentsToPath(A_FILE_DATA,A_FILE_PATH);
  dirCache=ArtifactCaches.newInstance(createMockLocalDirCacheConfig(),buckEventBus,projectFilesystem,Optional.<String>absent(),DIRECT_EXECUTOR_SERVICE);
  dirCache.store(ImmutableSet.of(A_FILE_RULE_KEY),A_FILE_METADATA,BorrowablePath.withPath(A_FILE_PATH));
}
