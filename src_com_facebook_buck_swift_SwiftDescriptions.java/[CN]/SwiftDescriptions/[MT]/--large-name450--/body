{
  AppleCxxPlatform appleCxxPlatform=ApplePlatforms.getAppleCxxPlatformForBuildTarget(cxxPlatformFlavorDomain,defaultCxxPlatform,appleCxxPlatformFlavorDomain,params.getBuildTarget(),Optional.<MultiarchFileInfo>absent());
  Optional<Tool> swiftCompiler=appleCxxPlatform.getSwift();
  if (!swiftCompiler.isPresent()) {
    throw new HumanReadableException("Platform %s is missing swift compiler",appleCxxPlatform);
  }
  return new SwiftCompile(params,new SourcePathResolver(resolver),swiftCompiler.get(),moduleName,BuildTargets.getGenPath(params.getBuildTarget(),"%s"),sources);
}
