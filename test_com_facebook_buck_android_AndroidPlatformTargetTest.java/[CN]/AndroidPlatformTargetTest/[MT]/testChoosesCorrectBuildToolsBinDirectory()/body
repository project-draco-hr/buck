{
  File androidSdkDir=tempDir.newFolder();
  AndroidDirectoryResolver androidDirectoryResolver=new FakeAndroidDirectoryResolver(Optional.of(androidSdkDir.toPath()),Optional.<Path>absent(),Optional.<String>absent());
  File buildToolsDir=new File(androidSdkDir,"build-tools");
  buildToolsDir.mkdir();
  new File(buildToolsDir,"17.0.0").mkdir();
  File buildToolsDir23=new File(buildToolsDir,"23.0.0_rc1");
  buildToolsDir23.mkdir();
  new File(buildToolsDir23,"bin").mkdir();
  Optional<AndroidPlatformTarget> androidPlatformTargetOption=AndroidPlatformTarget.getTargetForId("android-17",androidDirectoryResolver,Optional.<Path>absent());
  assertTrue(androidPlatformTargetOption.isPresent());
  assertThat("aapt should be found in the bin directory",androidPlatformTargetOption.get().getAaptExecutable(),equalTo(new File(androidSdkDir,"build-tools/23.0.0_rc1/bin/aapt").toPath().toAbsolutePath()));
  assertThat("aidl should be found in the bin directory",androidPlatformTargetOption.get().getAidlExecutable(),equalTo(new File(androidSdkDir,"build-tools/23.0.0_rc1/bin/aidl").toPath().toAbsolutePath()));
  assertThat("zipalign should be found in the bin directory",androidPlatformTargetOption.get().getZipalignExecutable(),equalTo(new File(androidSdkDir,"build-tools/23.0.0_rc1/bin/zipalign").toPath().toAbsolutePath()));
}
