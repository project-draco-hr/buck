{
  MutableDirectedGraph<BuildRule> graph=new MutableDirectedGraph<BuildRule>();
  for (  BuildRule rule : rules) {
    graph.addNode(rule);
    for (    BuildRule dep : rule.getDeps()) {
      graph.addEdge(rule,dep);
    }
  }
  return new DependencyGraph(graph);
}
