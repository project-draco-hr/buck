{
  Object value=instance.get("visibility");
  if (value != null) {
    if (!(value instanceof List)) {
      throw new RuntimeException(String.format("Expected an array for visibility but was %s",value));
    }
    for (    String visibility : (List<String>)value) {
      visibilityPatterns.add(BuildTargetPatternParser.forVisibilityArgument().parse(cellNames,visibility));
    }
  }
}
