{
  if (in == null)   throw new IllegalArgumentException("null input: in");
  m_in=in;
  nextChar();
  nextToken();
  while (m_token != Token.EOF) {
    if (m_opts == null)     m_opts=new ArrayList();
    m_opts.add(optdef());
  }
  final OptDef[] result;
  if ((m_opts == null) || (m_opts.size() == 0))   result=EMPTY_OPTDEF_ARRAY;
 else {
    result=new OptDef[m_opts.size()];
    m_opts.toArray(result);
  }
  m_in=null;
  m_opts=null;
  return result;
}
