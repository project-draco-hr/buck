def test_get_default(self):
    parser = ErrorRaisingArgumentParser()
    self.assertEqual(None, parser.get_default('foo'))
    self.assertEqual(None, parser.get_default('bar'))
    parser.add_argument('--foo')
    self.assertEqual(None, parser.get_default('foo'))
    self.assertEqual(None, parser.get_default('bar'))
    parser.add_argument('--bar', type=int, default=42)
    self.assertEqual(None, parser.get_default('foo'))
    self.assertEqual(42, parser.get_default('bar'))
    parser.set_defaults(foo='badger')
    self.assertEqual('badger', parser.get_default('foo'))
    self.assertEqual(42, parser.get_default('bar'))
