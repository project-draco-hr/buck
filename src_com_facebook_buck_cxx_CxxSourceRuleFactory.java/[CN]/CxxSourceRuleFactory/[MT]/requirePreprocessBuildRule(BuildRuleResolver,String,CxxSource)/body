{
  BuildTarget target=createPreprocessBuildTarget(name,source.getType());
  Optional<CxxPreprocessAndCompile> existingRule=resolver.getRuleOptionalWithType(target,CxxPreprocessAndCompile.class);
  if (existingRule.isPresent()) {
    return existingRule.get();
  }
  return createPreprocessBuildRule(resolver,name,source);
}
