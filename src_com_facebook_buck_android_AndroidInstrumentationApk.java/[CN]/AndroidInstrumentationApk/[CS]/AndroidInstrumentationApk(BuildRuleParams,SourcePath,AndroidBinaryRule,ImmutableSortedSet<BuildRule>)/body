{
  super(buildRuleParams,manifest,apkUnderTest.getTarget(),classpathDepsForInstrumentationApk,apkUnderTest.getKeystore(),PackageType.INSTRUMENTED,ImmutableSet.<BuildRule>builder().addAll(apkUnderTest.getBuildRulesToExcludeFromDex()).addAll(Classpaths.getClasspathEntries(apkUnderTest.getClasspathDeps()).keySet()).build(),new DexSplitMode(false,ZipSplitter.DexSplitStrategy.MAXIMIZE_PRIMARY_DEX_SIZE,DexStore.JAR,false),apkUnderTest.isUseAndroidProguardConfigWithOptimizations(),apkUnderTest.getProguardConfig(),apkUnderTest.getResourceCompressionMode(),apkUnderTest.getPrimaryDexSubstrings(),apkUnderTest.getLinearAllocHardLimit(),apkUnderTest.getPrimaryDexClassesFile(),apkUnderTest.getResourceFilter(),apkUnderTest.getCpuFilters(),apkUnderTest.getPreDexDeps(),apkUnderTest.getPreprocessJavaClassesDeps(),apkUnderTest.getPreprocessJavaClassesBash());
  this.apkUnderTest=apkUnderTest;
  this.classpathDepsForInstrumentationApk=Preconditions.checkNotNull(classpathDepsForInstrumentationApk);
}
