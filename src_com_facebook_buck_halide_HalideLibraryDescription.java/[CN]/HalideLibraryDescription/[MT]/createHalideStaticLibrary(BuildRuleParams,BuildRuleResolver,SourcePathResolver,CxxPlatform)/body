{
  BuildRule halideCompile=ruleResolver.requireRule(params.getBuildTarget().withFlavors(HALIDE_COMPILE_FLAVOR,platform.getFlavor()));
  BuildTarget buildTarget=halideCompile.getBuildTarget();
  return new Archive(params.copyWithExtraDeps(Suppliers.ofInstance(ImmutableSortedSet.of(halideCompile))),pathResolver,platform.getAr(),platform.getRanlib(),CxxDescriptionEnhancer.getStaticLibraryPath(params.getBuildTarget(),platform.getFlavor(),CxxSourceRuleFactory.PicType.PIC),ImmutableList.<SourcePath>of(new BuildTargetSourcePath(buildTarget,HalideCompile.objectOutputPath(buildTarget))));
}
