{
  BuildRule halideCompile=ruleResolver.requireRule(params.getBuildTarget().withFlavors(HALIDE_COMPILE_FLAVOR,platform.getFlavor()));
  BuildTarget buildTarget=halideCompile.getBuildTarget();
  return new Archive(params.copyWithExtraDeps(Suppliers.ofInstance(ImmutableSortedSet.of(halideCompile))),pathResolver,platform.getAr(),platform.getRanlib(),BuildTargets.getGenPath(params.getBuildTarget(),"%s.a"),ImmutableList.<SourcePath>of(new BuildTargetSourcePath(buildTarget,HalideCompile.objectOutputPath(buildTarget))));
}
