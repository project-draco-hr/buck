{
  ImmutableSet.Builder<BuildTarget> deps=ImmutableSet.builder();
  if (buildTarget.getFlavors().contains(HALIDE_COMPILER_FLAVOR)) {
    deps.addAll(constructorArg.compilerDeps.or(ImmutableSortedSet.<BuildTarget>of()));
  }
 else {
    deps.add(createHalideCompilerBuildTarget(buildTarget.getUnflavoredBuildTarget()));
  }
  return deps.build();
}
