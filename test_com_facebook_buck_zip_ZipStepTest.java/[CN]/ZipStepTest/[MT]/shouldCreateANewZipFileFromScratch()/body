{
  File parent=tmp.newFolder("zipstep");
  File out=new File(parent,"output.zip");
  File toZip=tmp.newFolder("zipdir");
  Files.touch(new File(toZip,"file1.txt"));
  Files.touch(new File(toZip,"file2.txt"));
  Files.touch(new File(toZip,"file3.txt"));
  ZipStep step=new ZipStep(Paths.get("zipstep/output.zip"),ImmutableSet.<Path>of(),false,ZipStep.DEFAULT_COMPRESSION_LEVEL,Paths.get("zipdir"));
  assertEquals(0,step.execute(executionContext));
  try (Zip zip=new Zip(out,false)){
    assertEquals(ImmutableSet.of("file1.txt","file2.txt","file3.txt"),zip.getFileNames());
  }
 }
