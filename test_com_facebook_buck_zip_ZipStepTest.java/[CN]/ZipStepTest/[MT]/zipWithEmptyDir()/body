{
  Path parent=tmp.newFolder("zipstep");
  Path out=parent.resolve("output.zip");
  tmp.newFolder("zipdir");
  tmp.newFolder("zipdir/foo/");
  tmp.newFolder("zipdir/bar/");
  ZipStep step=new ZipStep(Paths.get("zipstep/output.zip"),ImmutableSet.<Path>of(),true,ZipStep.DEFAULT_COMPRESSION_LEVEL,Paths.get("zipdir"));
  assertEquals(0,step.execute(executionContext));
  try (Zip zip=new Zip(out,false)){
    assertEquals(ImmutableSet.of("","foo/","bar/"),zip.getDirNames());
  }
 }
