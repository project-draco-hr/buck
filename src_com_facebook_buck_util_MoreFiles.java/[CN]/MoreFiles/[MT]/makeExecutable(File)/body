{
  if (FileSystems.getDefault().supportedFileAttributeViews().contains("posix")) {
    Path path=file.toPath();
    Set<PosixFilePermission> permissions=java.nio.file.Files.getPosixFilePermissions(path);
    if (permissions.contains(PosixFilePermission.OWNER_READ)) {
      permissions.add(PosixFilePermission.OWNER_EXECUTE);
    }
    if (permissions.contains(PosixFilePermission.GROUP_READ)) {
      permissions.add(PosixFilePermission.GROUP_EXECUTE);
    }
    if (permissions.contains(PosixFilePermission.OTHERS_READ)) {
      permissions.add(PosixFilePermission.OTHERS_EXECUTE);
    }
    java.nio.file.Files.setPosixFilePermissions(path,permissions);
  }
 else {
    if (!file.setExecutable(true,true)) {
      throw new IOException("The file could not be made executable");
    }
  }
}
