{
  File folder=new File(destination);
  Files.createDirectories(folder.toPath());
  try (ZipInputStream zip=new ZipInputStream(new FileInputStream(zipFile))){
    for (ZipEntry entry=zip.getNextEntry(); entry != null; entry=zip.getNextEntry()) {
      String fileName=entry.getName();
      File target=new File(folder,fileName);
      if (target.exists() && !overwriteExistingFiles) {
        continue;
      }
      if (entry.isDirectory()) {
        Files.createDirectories(target.toPath());
      }
 else {
        Files.createDirectories(target.toPath().getParent());
        try (FileOutputStream out=new FileOutputStream(target)){
          ByteStreams.copy(zip,out);
        }
       }
    }
  }
 }
