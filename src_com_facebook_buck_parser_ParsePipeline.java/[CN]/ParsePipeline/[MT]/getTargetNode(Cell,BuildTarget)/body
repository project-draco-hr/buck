{
  Preconditions.checkState(!shuttingDown.get());
  Optional<TargetNode<?>> cachedNode=cache.lookupTargetNode(cell,buildTarget);
  if (cachedNode.isPresent()) {
    return cachedNode.get();
  }
  try {
    return getTargetNodeJob(cell,buildTarget).get();
  }
 catch (  Exception e) {
    Throwables.propagateIfInstanceOf(e.getCause(),BuildFileParseException.class);
    Throwables.propagateIfInstanceOf(e.getCause(),BuildTargetException.class);
    throw propagateRuntimeException(e);
  }
}
