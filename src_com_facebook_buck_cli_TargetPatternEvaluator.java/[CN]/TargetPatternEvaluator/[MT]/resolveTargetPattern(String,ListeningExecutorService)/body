{
  ImmutableSet<QueryTarget> targets=resolvedTargets.get(pattern);
  if (targets != null) {
    return targets;
  }
  BuildTarget alias=params.getBuckConfig().getBuildTargetForAlias(pattern).getFirst();
  if (alias != null) {
    targets=resolveBuildTargetPattern(alias.getFullyQualifiedName(),executor);
  }
 else {
    if (pattern.startsWith("//") || pattern.startsWith(":") || pattern.startsWith("@")) {
      targets=resolveBuildTargetPattern(pattern,executor);
    }
 else {
      targets=resolveFilePattern(pattern);
    }
  }
  resolvedTargets.put(pattern,targets);
  return targets;
}
