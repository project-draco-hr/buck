{
  File zipup=folder.newFolder();
  File first=createZip(new File(zipup,"first.zip"),"dir/example.txt","dir/root1file.txt");
  File second=createZip(new File(zipup,"second.zip"),"dir/example.txt","dir/root2file.txt");
  JarDirectoryStep step=new JarDirectoryStep("output.jar",ImmutableSet.of(first.getName(),second.getName()),"com.example.Main",null);
  ExecutionContext context=ExecutionContext.builder().setProjectFilesystem(new ProjectFilesystem(zipup)).setConsole(new TestConsole()).setEventBus(BuckEventBusFactory.newInstance()).build();
  int returnCode=step.execute(context);
  assertEquals(0,returnCode);
  File zip=new File(zipup,"output.jar");
  assertZipFileCountIs(4,zip);
  assertZipContains(zip,"dir/example.txt","dir/root1file.txt","dir/root2file.txt");
}
