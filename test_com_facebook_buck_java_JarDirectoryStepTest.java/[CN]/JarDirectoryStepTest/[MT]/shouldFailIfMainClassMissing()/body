{
  File zipup=folder.newFolder("zipup");
  File zip=createZip(new File(zipup,"a.zip"),"com/example/Main.class");
  JarDirectoryStep step=new JarDirectoryStep(Paths.get("output.jar"),ImmutableSet.of(Paths.get(zip.getName())),"com.example.MissingMain",null);
  TestConsole console=new TestConsole();
  ExecutionContext context=TestExecutionContext.newBuilder().setConsole(console).setProjectFilesystem(new ProjectFilesystem(zipup.toPath())).build();
  int returnCode=step.execute(context);
  assertEquals(1,returnCode);
  assertEquals("ERROR: Main class com.example.MissingMain does not exist.\n",console.getTextWrittenToStdErr());
}
