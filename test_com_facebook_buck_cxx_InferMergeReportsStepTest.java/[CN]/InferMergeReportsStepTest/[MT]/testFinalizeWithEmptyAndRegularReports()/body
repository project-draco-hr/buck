{
  reportMerger.initializeReport();
  reportMerger.appendReport("\n[ ] \n\n");
  reportMerger.appendReport("\n [{ \"file\":\"aFile.c\", \"type\":\"NULL_DEREFERENCE\", \"line\":123} ]\n ");
  reportMerger.appendReport("[]");
  reportMerger.appendReport("[{ \"file\":\"aFile.c\", \"type\":\"RESOURCE_LEAK\", \"line\":456}] ");
  reportMerger.appendReport("\n [{ \"file\":\"aFile.c\", \"type\":\"NULL_DEREFERENCE\", \"line\":789 } ]\n ");
  reportMerger.finalizeReport();
  List<Object> bugs=InferHelper.loadInferReport(workspace,mergedReport.toString());
  assertThat("3 bugs expected in " + mergedReport + " not found",bugs.size(),Matchers.equalTo(3));
  String result=workspace.getFileContents(mergedReport.toString());
  assertThat("Should be an array with three objects",result,Matchers.equalTo("[" + "{ \"file\":\"aFile.c\", \"type\":\"NULL_DEREFERENCE\", \"line\":123} ," + "{ \"file\":\"aFile.c\", \"type\":\"RESOURCE_LEAK\", \"line\":456},"+ "{ \"file\":\"aFile.c\", \"type\":\"NULL_DEREFERENCE\", \"line\":789 } "+ "]"));
}
