{
  if (object instanceof Map) {
    ImmutableMap.Builder<K,V> builder=ImmutableMap.builder();
    for (    Map.Entry<?,?> entry : ((Map<?,?>)object).entrySet()) {
      try {
        K key=keyTypeCoercer.coerce(buildRuleResolver,filesystem,pathRelativeToProjectRoot,entry.getKey());
        V value=valueTypeCoercer.coerce(buildRuleResolver,filesystem,pathRelativeToProjectRoot,entry.getValue());
        builder.put(key,value);
      }
 catch (      CoerceFailedException e) {
        CoerceFailedException wrappedException=CoerceFailedException.simple(pathRelativeToProjectRoot,object,getOutputClass());
        wrappedException.initCause(e);
        throw wrappedException;
      }
    }
    return builder.build();
  }
 else {
    throw CoerceFailedException.simple(pathRelativeToProjectRoot,object,getOutputClass());
  }
}
