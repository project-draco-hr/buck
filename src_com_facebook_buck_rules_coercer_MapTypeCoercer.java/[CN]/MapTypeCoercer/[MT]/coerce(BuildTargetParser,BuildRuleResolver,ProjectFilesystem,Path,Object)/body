{
  if (object instanceof Map) {
    ImmutableMap.Builder<K,V> builder=ImmutableMap.builder();
    for (    Map.Entry<?,?> entry : ((Map<?,?>)object).entrySet()) {
      K key=keyTypeCoercer.coerce(buildTargetParser,buildRuleResolver,filesystem,pathRelativeToProjectRoot,entry.getKey());
      V value=valueTypeCoercer.coerce(buildTargetParser,buildRuleResolver,filesystem,pathRelativeToProjectRoot,entry.getValue());
      builder.put(key,value);
    }
    return builder.build();
  }
 else {
    throw CoerceFailedException.simple(object,getOutputClass());
  }
}
