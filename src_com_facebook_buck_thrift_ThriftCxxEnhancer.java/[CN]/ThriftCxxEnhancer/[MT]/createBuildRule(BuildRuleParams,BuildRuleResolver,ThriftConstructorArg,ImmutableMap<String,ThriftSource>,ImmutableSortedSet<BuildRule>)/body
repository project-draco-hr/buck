{
  CxxHeaderSourceSpec spec=getThriftHeaderSourceSpec(params,args,sources);
  ImmutableSortedSet<BuildRule> allDeps=ImmutableSortedSet.<BuildRule>naturalOrder().addAll(deps).addAll(resolver.getAllRules((cpp2 ? args.cpp2Deps : args.cppDeps).or(ImmutableSortedSet.<BuildTarget>of()))).build();
  BuildRuleParams langParams=params.copyWithDeps(allDeps,ImmutableSortedSet.<BuildRule>of());
  return CxxDescriptionEnhancer.createCxxLibraryBuildRules(langParams,resolver,cxxPlatform,ImmutableList.<String>of(),ImmutableList.<String>of(),spec.getCxxHeaders(),ImmutableList.<String>of(),spec.getCxxSources(),false);
}
