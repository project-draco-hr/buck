{
  ProjectFilesystem projectFilesystem=new FakeProjectFilesystem(Paths.get("/opt/foo"));
  Cell cell=new TestCellBuilder().setFilesystem(projectFilesystem).build();
  Supplier<AndroidPlatformTarget> androidPlatformTargetSupplier=AndroidPlatformTarget.EXPLODING_ANDROID_PLATFORM_TARGET_SUPPLIER;
  TypeCoercerFactory typeCoercerFactory=new DefaultTypeCoercerFactory(ObjectMappers.newDefaultInstance());
  BuckConfig buckConfig=FakeBuckConfig.builder().build();
  Parser parser=new Parser(new BroadcastEventListener(),new ParserConfig(buckConfig),typeCoercerFactory,new ConstructorArgMarshaller(typeCoercerFactory));
  return new CommandRunnerParams(console,stdin,cell,androidPlatformTargetSupplier,new NoopArtifactCache(),BuckEventBusFactory.newInstance(),parser,Platform.detect(),ImmutableMap.copyOf(System.getenv()),new FakeJavaPackageFinder(),ObjectMappers.newDefaultInstance(),new DefaultClock(),Optional.<ProcessManager>absent(),Optional.<WebServer>absent(),FakeBuckConfig.builder().build(),new NullFileHashCache(),new HashMap<ExecutionContext.ExecutorPool,ListeningExecutorService>(),CommandRunnerParamsForTesting.BUILD_ENVIRONMENT_DESCRIPTION,new ActionGraphCache(new BroadcastEventListener()));
}
