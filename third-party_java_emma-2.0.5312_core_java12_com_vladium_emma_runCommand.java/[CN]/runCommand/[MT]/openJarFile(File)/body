{
  JarFile jarfile=null;
  try {
    jarfile=new JarFile(file,false);
    final Manifest manifest=jarfile.getManifest();
    if (manifest == null)     return null;
    final Attributes attributes=manifest.getMainAttributes();
    if (attributes == null)     return null;
    final String jarMainClass=attributes.getValue(Attributes.Name.MAIN_CLASS);
    return jarMainClass;
  }
  finally {
    if (jarfile != null)     try {
      jarfile.close();
    }
 catch (    IOException ignore) {
    }
  }
}
