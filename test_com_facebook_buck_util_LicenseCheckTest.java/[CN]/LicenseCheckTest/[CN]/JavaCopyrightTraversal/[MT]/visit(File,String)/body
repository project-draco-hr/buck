{
  if (!"java".equals(Files.getFileExtension(relativePath)) || !file.exists() || NON_APACHE_LICENSE_WHITELIST.contains(relativePath)|| relativePath.startsWith("com/facebook/buck/cli/quickstart/android/")) {
    return;
  }
  if (ignoreTestData) {
    for (    Path path : file.toPath()) {
      if (TEST_DATA.equals(path)) {
        return;
      }
    }
  }
  try {
    String asString=Files.toString(file,Charsets.UTF_8);
    assertTrue("Check license of: " + relativePath,LICENSE_FRAGMENT.matcher(asString).matches());
  }
 catch (  IOException e) {
    fail("Unable to read: " + relativePath);
  }
}
