{
  ImmutableList.Builder<Step> commands=ImmutableList.builder();
  commands.add(new MakeCleanDirectoryStep(temp));
  Path payloadDir=temp.resolve("Payload");
  commands.add(new MkdirStep(payloadDir));
  commands.add(new RmStep(pathToOutputFile,true));
  commands.add(CopyStep.forDirectory(bundle.getPathToOutput(),payloadDir,CopyStep.DirectoryMode.DIRECTORY_AND_CONTENTS));
  commands.add(new ZipStep(pathToOutputFile,ImmutableSet.<Path>of(),false,ZipStep.DEFAULT_COMPRESSION_LEVEL,temp));
  buildableContext.recordArtifact(getPathToOutput());
  return commands.build();
}
