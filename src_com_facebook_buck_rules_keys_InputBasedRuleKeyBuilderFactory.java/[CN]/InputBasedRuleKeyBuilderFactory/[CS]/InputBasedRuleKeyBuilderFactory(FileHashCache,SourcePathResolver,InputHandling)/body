{
  super(hashCache,pathResolver);
  this.inputHandling=inputHandling;
  cache=CacheBuilder.newBuilder().weakKeys().build(new CacheLoader<RuleKeyAppendable,Pair<RuleKey,ImmutableSet<BuildRule>>>(){
    @Override public Pair<RuleKey,ImmutableSet<BuildRule>> load(    @Nonnull RuleKeyAppendable appendable){
      Builder subKeyBuilder=new Builder(pathResolver,hashCache);
      appendable.appendToRuleKey(subKeyBuilder);
      return subKeyBuilder.buildWithDeps();
    }
  }
);
}
