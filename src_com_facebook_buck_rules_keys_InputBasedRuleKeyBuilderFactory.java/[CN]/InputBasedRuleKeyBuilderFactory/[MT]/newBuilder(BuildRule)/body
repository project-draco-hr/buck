{
  return new Builder(){
    @Override public RuleKey build(){
      Result result=buildResult();
      for (      BuildRule usedDep : result.getDeps()) {
        Preconditions.checkState(rule.getDeps().contains(usedDep));
      }
      return result.getRuleKey();
    }
  }
;
}
