{
  projectFilesystem=createMock(ProjectFilesystem.class);
  Repository repository=new Repository("mocked",projectFilesystem,DefaultKnownBuildRuleTypes.getDefaultKnownBuildRuleTypes(projectFilesystem),new FakeBuckConfig());
  CommandRunnerParams params=new CommandRunnerParams(new TestConsole(),repository,new FakeAndroidDirectoryResolver(),new CachingBuildEngine(),new InstanceArtifactCacheFactory(createMock(ArtifactCache.class)),BuckEventBusFactory.newInstance(),createMock(Parser.class),Platform.detect(),ImmutableMap.copyOf(System.getenv()));
  return new CleanCommand(params);
}
