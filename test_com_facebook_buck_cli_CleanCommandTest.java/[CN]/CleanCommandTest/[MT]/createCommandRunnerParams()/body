{
  projectFilesystem=createMock(ProjectFilesystem.class);
  EasyMock.expect(projectFilesystem.getRootPath()).andStubReturn(Paths.get("/opt/foo"));
  EasyMock.replay(projectFilesystem);
  Cell cell=new TestCellBuilder().setFilesystem(projectFilesystem).build();
  EasyMock.reset(projectFilesystem);
  Supplier<AndroidPlatformTarget> androidPlatformTargetSupplier=AndroidPlatformTarget.EXPLODING_ANDROID_PLATFORM_TARGET_SUPPLIER;
  return new CommandRunnerParams(new TestConsole(),new ByteArrayInputStream("".getBytes("UTF-8")),cell,androidPlatformTargetSupplier,createMock(ArtifactCache.class),BuckEventBusFactory.newInstance(),createMock(Parser.class),Platform.detect(),ImmutableMap.copyOf(System.getenv()),new FakeJavaPackageFinder(),ObjectMappers.newDefaultInstance(),new DefaultClock(),Optional.<ProcessManager>absent(),Optional.<WebServer>absent(),FakeBuckConfig.builder().build(),new NullFileHashCache(),new HashMap<ExecutionContext.ExecutorPool,ListeningExecutorService>(),CommandRunnerParamsForTesting.BUILD_ENVIRONMENT_DESCRIPTION);
}
