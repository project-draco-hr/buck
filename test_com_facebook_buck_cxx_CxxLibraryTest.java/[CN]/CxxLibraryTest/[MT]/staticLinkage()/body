{
  BuildRuleResolver ruleResolver=new BuildRuleResolver();
  SourcePathResolver pathResolver=new SourcePathResolver(ruleResolver);
  BuildTarget target=BuildTargetFactory.newInstance("//foo:bar");
  BuildRuleParams params=new FakeBuildRuleParamsBuilder(target).build();
  CxxPlatform cxxPlatform=DefaultCxxPlatforms.build(new CxxBuckConfig(FakeBuckConfig.builder().build()));
  BuildTarget staticPicLibraryTarget=BuildTarget.builder(params.getBuildTarget()).addFlavors(cxxPlatform.getFlavor(),CxxDescriptionEnhancer.STATIC_PIC_FLAVOR).build();
  ruleResolver.addToIndex(new FakeBuildRule(new FakeBuildRuleParamsBuilder(staticPicLibraryTarget).build(),pathResolver));
  CxxLibrary cxxLibrary=new CxxLibrary(params,ruleResolver,pathResolver,Predicates.<CxxPlatform>alwaysFalse(),Functions.constant(ImmutableMultimap.<CxxSource.Type,String>of()),Functions.constant(new Pair<>(ImmutableList.<String>of(),ImmutableSet.<SourcePath>of())),Optional.<Pattern>absent(),ImmutableSet.<FrameworkPath>of(),ImmutableSet.<FrameworkPath>of(),NativeLinkable.Linkage.STATIC,false,Optional.<String>absent(),ImmutableSortedSet.<BuildTarget>of(),false);
  assertThat(cxxLibrary.getSharedLibraries(TargetGraph.EMPTY,cxxPlatform).entrySet(),Matchers.empty());
  assertThat(cxxLibrary.getPythonPackageComponents(TargetGraph.EMPTY,PythonTestUtils.PYTHON_PLATFORM,cxxPlatform).getNativeLibraries().entrySet(),Matchers.empty());
  NativeLinkableInput expectedSharedNativeLinkableInput=NativeLinkableInput.of(ImmutableList.<SourcePath>of(new BuildTargetSourcePath(staticPicLibraryTarget)),ImmutableList.of(CxxDescriptionEnhancer.getStaticLibraryPath(target,cxxPlatform.getFlavor(),CxxSourceRuleFactory.PicType.PIC).toString()),ImmutableSet.<FrameworkPath>of(),ImmutableSet.<FrameworkPath>of());
  assertEquals(expectedSharedNativeLinkableInput,cxxLibrary.getNativeLinkableInput(TargetGraph.EMPTY,cxxPlatform,Linker.LinkableDepType.SHARED));
}
