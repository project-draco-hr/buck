{
  AndroidManifestRule androidManifestRule=createSimpleAndroidManifestRule();
  MutableDirectedGraph<BuildRule> graph=new MutableDirectedGraph<>();
  graph.addNode(androidManifestRule);
  DependencyGraph dependencyGraph=new DependencyGraph(graph);
  BuildContext buildContext=EasyMock.createMock(BuildContext.class);
  EasyMock.expect(buildContext.getDependencyGraph()).andReturn(dependencyGraph);
  EasyMock.replay(buildContext);
  List<Step> steps=androidManifestRule.getBuildSteps(buildContext,new FakeBuildableContext());
  MoreAsserts.assertListEquals(ImmutableList.of(new GenerateManifestStep("java/com/example/AndroidManifestSkeleton.xml",ImmutableSet.<String>of(),BuckConstant.GEN_DIR + "/java/com/example/AndroidManifest__manifest__.xml")),steps);
  EasyMock.verify(buildContext);
}
