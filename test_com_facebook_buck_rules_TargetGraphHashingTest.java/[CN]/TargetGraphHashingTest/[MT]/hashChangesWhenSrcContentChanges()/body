{
  FakeProjectFilesystem projectFilesystem=new FakeProjectFilesystem();
  TargetNode<?> node=createJavaLibraryTargetNodeWithSrcs(projectFilesystem,BuildTarget.builder("//foo","lib").build(),ImmutableMap.of(Paths.get("foo/FooLib.java"),"Goodbye world"));
  TargetGraph targetGraph=TargetGraphFactory.newInstance(node);
  ImmutableMap<BuildTarget,HashCode> expectedTargetHashes=ImmutableMap.of(BuildTarget.builder("//foo","lib").build(),HashCode.fromString("6cb8ac509e591d722c2902a08be8738649a620b9"));
  assertThat(TargetGraphHashing.hashTargetGraph(projectFilesystem,targetGraph,Functions.forMap(ImmutableMap.of(BuildTarget.builder("//foo","lib").build(),HashCode.fromLong(64738))),node.getBuildTarget()),equalTo(expectedTargetHashes));
}
