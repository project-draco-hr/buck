{
  final ImmutableSet<String> fullyQualifiedBuildTargets=ImmutableSet.copyOf(getArgumentsFormattedAsBuildTargets(params.getBuckConfig()));
  if (fullyQualifiedBuildTargets.isEmpty()) {
    params.getConsole().printBuildFailure("Must specify at least one build target.");
    return 1;
  }
  if (params.getConsole().getAnsi().isAnsiTerminal()) {
    params.getBuckEventBus().post(ConsoleEvent.info("'buck audit dependencies' is deprecated. Please use 'buck query' instead.\n" + "The equivalent 'buck query' command is:\n$ %s",QueryCommand.buildAuditDependenciesQueryExpression(getArguments(),shouldShowTransitiveDependencies(),shouldIncludeTests(),shouldGenerateJsonOutput())));
  }
  Set<QueryEnvironment.Setting> settings=new HashSet<>();
  BuckQueryEnvironment env=new BuckQueryEnvironment(params,settings,getEnableProfiling());
  return QueryCommand.runMultipleQuery(params,env,QueryCommand.getAuditDependenciesQueryFormat(shouldShowTransitiveDependencies(),shouldIncludeTests()),getArgumentsFormattedAsBuildTargets(params.getBuckConfig()),shouldGenerateJsonOutput());
}
