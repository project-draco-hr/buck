{
  SimulateTimes times=SimulateTimes.createEmpty(DEFAULT_MILLIS);
  BuildSimulator sim=new BuildSimulator(times,createOneNodeGraph(),NUMBER_OF_THREADS);
  SimulateReport report=sim.simulateBuild(System.currentTimeMillis(),ImmutableList.of(BuildTargetFactory.newInstance((ROOT_NODE))));
  Assert.assertEquals(1,report.getBuildTargets().size());
  Assert.assertEquals(1,report.getActionGraphNodesWithoutSimulateTime());
  Assert.assertEquals(times.getDefaultMillis(),report.getBuildDurationMillis());
}
