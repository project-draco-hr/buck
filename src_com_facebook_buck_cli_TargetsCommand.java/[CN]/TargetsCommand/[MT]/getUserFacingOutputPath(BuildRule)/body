{
  Path outputPath;
  if (rule instanceof BuildRuleWithAppleBundle) {
    outputPath=((BuildRuleWithAppleBundle)rule).getAppleBundle().getPathToOutput();
  }
 else {
    outputPath=rule.getPathToOutput();
  }
  return Optional.fromNullable(outputPath);
}
