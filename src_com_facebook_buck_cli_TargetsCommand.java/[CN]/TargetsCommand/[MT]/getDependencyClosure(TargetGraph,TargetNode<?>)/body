{
  final ImmutableSet.Builder<TargetNode<?>> closure=ImmutableSet.builder();
  new AbstractBreadthFirstTraversal<TargetNode<?>>(node){
    @Override public ImmutableSet<TargetNode<?>> visit(    TargetNode<?> node){
      closure.add(node);
      ImmutableSet<TargetNode<?>> dependencies=ImmutableSet.copyOf(graph.getAll(node.getDeps()));
      return dependencies;
    }
  }
.start();
  return closure.build();
}
