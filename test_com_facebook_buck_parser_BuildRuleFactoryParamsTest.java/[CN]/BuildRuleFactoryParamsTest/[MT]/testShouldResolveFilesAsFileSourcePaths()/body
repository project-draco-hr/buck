{
  BuildTarget target=BuildTargetFactory.newInstance("//src/com/facebook:Main");
  BuildRuleFactoryParams params=new BuildRuleFactoryParams(null,filesystem,tree,parser,target);
  AbstractBuildRuleBuilder<?> builder=createMock(AbstractBuildRuleBuilder.class);
  replay(builder);
  SourcePath first=params.asSourcePath("A.java",builder);
  assertTrue(first instanceof FileSourcePath);
  assertEquals("src/com/facebook/A.java",first.asReference());
  verify(builder);
}
