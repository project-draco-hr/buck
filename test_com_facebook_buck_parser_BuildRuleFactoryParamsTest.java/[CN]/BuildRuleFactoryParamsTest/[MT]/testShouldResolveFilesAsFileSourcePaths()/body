{
  BuildTarget target=BuildTargetFactory.newInstance("//src/com/facebook:Main");
  BuildRuleFactoryParams params=new BuildRuleFactoryParams(null,filesystem,tree,parser,target,new FakeRuleKeyBuilderFactory());
  SourcePath first=params.asSourcePath("A.java",new FakeBuildRuleBuilder(new FakeBuildRuleBuilderParams()));
  assertTrue(first instanceof FileSourcePath);
  assertEquals("src/com/facebook/A.java",first.asReference());
}
