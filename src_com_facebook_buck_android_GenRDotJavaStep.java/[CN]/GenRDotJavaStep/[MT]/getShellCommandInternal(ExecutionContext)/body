{
  ImmutableList.Builder<String> builder=ImmutableList.builder();
  AndroidPlatformTarget androidPlatformTarget=context.getAndroidPlatformTarget();
  builder.add(androidPlatformTarget.getAaptExecutable().getAbsolutePath()).add("package");
  if (context.getVerbosity().shouldUseVerbosityFlagIfAvailable()) {
    builder.add("-v");
  }
  for (  String res : resDirectories) {
    builder.add("-S").add(res);
  }
  builder.add("--output-text-symbols").add(genDirectoryPath);
  if (isTempRDotJava) {
    builder.add("--non-constant-id");
  }
  if (!extraLibraryPackages.isEmpty()) {
    builder.add("--extra-packages").add(Joiner.on(':').join(extraLibraryPackages));
  }
  builder.add("-M").add(androidManifest.getAbsolutePath());
  builder.add("-m").add("-J").add(genDirectoryPath);
  builder.add("--auto-add-overlay");
  builder.add("-I").add(androidPlatformTarget.getAndroidJar().getAbsolutePath());
  return builder.build();
}
