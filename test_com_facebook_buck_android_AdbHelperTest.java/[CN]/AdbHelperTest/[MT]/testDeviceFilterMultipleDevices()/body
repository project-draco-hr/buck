{
  IDevice[] devices=new IDevice[]{createEmulator("1",IDevice.DeviceState.ONLINE),createEmulator("2",IDevice.DeviceState.ONLINE),createRealDevice("4",IDevice.DeviceState.ONLINE),createRealDevice("5",IDevice.DeviceState.ONLINE)};
  assertNull(basicAdbHelper.filterDevices(devices));
  AdbHelper myAdbHelper=createAdbHelper(new AdbOptions(0,true),new TargetDeviceOptions());
  List<IDevice> filteredDevices=myAdbHelper.filterDevices(devices);
  assertNotNull(filteredDevices);
  assertEquals(devices.length,filteredDevices.size());
}
