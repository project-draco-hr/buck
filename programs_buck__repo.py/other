from __future__ import print_function
import os
import platform
import subprocess
import sys
import tempfile
import textwrap
from timing import monotonic_time_nanos
from tracing import Tracing
from buck_tool import BuckTool, which, check_output
from buck_tool import BuckToolException, RestartBuck
JAVA_CLASSPATHS = ['build/abi_processor/classes', 'build/classes', 'build/dx_classes', 'src', 'third-party/java/android/sdklib.jar', 'third-party/java/aopalliance/aopalliance.jar', 'third-party/java/args4j/args4j-2.0.30.jar', 'third-party/java/asm/asm-debug-all-5.0.3.jar', 'third-party/java/astyanax/astyanax-cassandra-1.56.38.jar', 'third-party/java/astyanax/astyanax-core-1.56.38.jar', 'third-party/java/astyanax/astyanax-thrift-1.56.38.jar', 'third-party/java/astyanax/cassandra-1.2.3.jar', 'third-party/java/astyanax/cassandra-thrift-1.2.3.jar', 'third-party/java/astyanax/commons-cli-1.1.jar', 'third-party/java/astyanax/commons-codec-1.2.jar', 'third-party/java/astyanax/commons-lang-2.6.jar', 'third-party/java/astyanax/high-scale-lib-1.1.2.jar', 'third-party/java/astyanax/joda-time-2.2.jar', 'third-party/java/astyanax/libthrift-0.7.0.jar', 'third-party/java/astyanax/log4j-1.2.16.jar', 'third-party/java/astyanax/slf4j-api-1.7.2.jar', 'third-party/java/astyanax/slf4j-log4j12-1.7.2.jar', 'third-party/java/closure-templates/soy-excluding-deps.jar', 'third-party/java/commons-compress/commons-compress-1.8.1.jar', 'third-party/java/dd-plist/dd-plist.jar', 'third-party/java/ddmlib/ddmlib-22.5.3.jar', 'third-party/java/eclipse/org.eclipse.core.contenttype_3.4.200.v20130326-1255.jar', 'third-party/java/eclipse/org.eclipse.core.jobs_3.5.300.v20130429-1813.jar', 'third-party/java/eclipse/org.eclipse.core.resources_3.8.101.v20130717-0806.jar', 'third-party/java/eclipse/org.eclipse.core.runtime_3.9.100.v20131218-1515.jar', 'third-party/java/eclipse/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar', 'third-party/java/eclipse/org.eclipse.equinox.preferences_3.5.100.v20130422-1538.jar', 'third-party/java/eclipse/org.eclipse.jdt.core_3.9.2.v20140114-1555.jar', 'third-party/java/eclipse/org.eclipse.osgi_3.9.1.v20140110-1610.jar', 'third-party/java/gson/gson-2.2.4.jar', 'third-party/java/guava/guava-18.0.jar', 'third-party/java/guice/guice-3.0.jar', 'third-party/java/guice/guice-assistedinject-3.0.jar', 'third-party/java/guice/guice-multibindings-3.0.jar', 'third-party/java/icu4j/icu4j-54.1.1.jar', 'third-party/java/ini4j/ini4j-0.5.2.jar', 'third-party/java/jackson/jackson-annotations-2.0.5.jar', 'third-party/java/jackson/jackson-core-2.0.5.jar', 'third-party/java/jackson/jackson-databind-2.0.5.jar', 'third-party/java/jackson/jackson-datatype-jdk7-2.5.0.jar', 'third-party/java/jetty/jetty-all-9.0.4.v20130625.jar', 'third-party/java/jetty/servlet-api.jar', 'third-party/java/jsr/javax.inject-1.jar', 'third-party/java/jsr/jsr305.jar', 'third-party/java/nailgun/nailgun-server-0.9.2-SNAPSHOT.jar', 'third-party/java/xz-java-1.3/xz-1.3.jar']
RESOURCES = {'abi_processor_classes': 'build/abi_processor/classes', 'android_agent_path': 'assets/android/agent.apk', 'buck_client': 'build/ng', 'buck_server': 'bin/buck', 'dx': 'third-party/java/dx-from-kitkat/etc/dx', 'jacoco_agent_jar': 'third-party/java/jacoco/jacocoagent.jar', 'log4j_config_file': 'config/log4j.properties', 'logging_config_file': 'config/logging.properties', 'path_to_asm_jar': 'third-party/java/asm/asm-debug-all-5.0.3.jar', 'path_to_buck_py': 'src/com/facebook/buck/parser/buck.py', 'path_to_compile_asset_catalogs_build_phase_sh': 'src/com/facebook/buck/apple/compile_asset_catalogs_build_phase.sh', 'path_to_compile_asset_catalogs_py': 'src/com/facebook/buck/apple/compile_asset_catalogs.py', 'path_to_intellij_py': 'src/com/facebook/buck/command/intellij.py', 'path_to_pathlib_py': 'third-party/py/pathlib/pathlib.py', 'path_to_pex': 'src/com/facebook/buck/python/pex.py', 'path_to_python_test_main': 'src/com/facebook/buck/python/__test_main__.py', 'path_to_static_content': 'webserver/static', 'quickstart_origin_dir': 'src/com/facebook/buck/cli/quickstart/android', 'report_generator_jar': 'build/report-generator.jar', 'testrunner_classes': 'build/testrunner/classes', }
