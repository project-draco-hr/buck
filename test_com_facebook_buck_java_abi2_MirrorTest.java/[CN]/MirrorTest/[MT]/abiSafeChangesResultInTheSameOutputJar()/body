{
  Path jar=compileToJar(EMPTY_CLASSPATH,"A.java",Joiner.on("\n").join(ImmutableList.of("package com.example.buck;","public class A {","  protected final static int count = 42;","  public String getGreeting() { return \"hello\"; }","  Class<?> clazz;","  public int other;","}")));
  new StubJar(jar).writeTo(stubJar);
  HashCode originalHash=com.google.common.io.Files.asByteSource(stubJar.toFile()).hash(Hashing.sha1());
  Path jar2=compileToJar(EMPTY_CLASSPATH,"A.java",Joiner.on("\n").join(ImmutableList.of("package com.example.buck;","public class A {","  Class<?> clazz = String.class;","  public String getGreeting() { return \"merhaba\"; }","  protected final static int count = 42;","  public int other = 32;","}")));
  Files.delete(stubJar);
  new StubJar(jar2).writeTo(stubJar);
  HashCode secondHash=com.google.common.io.Files.asByteSource(stubJar.toFile()).hash(Hashing.sha1());
  assertEquals(originalHash,secondHash);
}
