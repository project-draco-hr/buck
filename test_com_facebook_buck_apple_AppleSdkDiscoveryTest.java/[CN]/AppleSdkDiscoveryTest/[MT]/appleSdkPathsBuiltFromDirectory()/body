{
  Path root=Paths.get("test/com/facebook/buck/apple/testdata/sdk-discovery");
  ImmutableMap<String,ImmutableAppleSdkPaths> expected=ImmutableMap.of("macosx10.9",ImmutableAppleSdkPaths.builder().toolchainPath(root.resolve("Toolchains/XcodeDefault.xctoolchain")).platformDeveloperPath(root.resolve("Platforms/MacOSX.platform/Developer")).sdkPath(root.resolve("Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk")).build(),"iphoneos8.0",ImmutableAppleSdkPaths.builder().toolchainPath(root.resolve("Toolchains/XcodeDefault.xctoolchain")).platformDeveloperPath(root.resolve("Platforms/iPhoneOS.platform/Developer")).sdkPath(root.resolve("Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk")).build(),"iphonesimulator8.0",ImmutableAppleSdkPaths.builder().toolchainPath(root.resolve("Toolchains/XcodeDefault.xctoolchain")).platformDeveloperPath(root.resolve("Platforms/iPhoneSimulator.platform/Developer")).sdkPath(root.resolve("Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk")).build());
  assertEquals(expected,AppleSdkDiscovery.discoverAppleSdkPaths(root));
}
