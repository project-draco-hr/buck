{
  Path output=rule.getPathToOutputFile();
  if (output == null) {
    throw new MacroException(String.format("%s used in location macro does not produce output",rule.getBuildTarget()));
  }
  return filesystem.resolve(output).toString();
}
