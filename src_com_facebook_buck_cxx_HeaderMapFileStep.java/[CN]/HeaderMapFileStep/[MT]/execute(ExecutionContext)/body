{
  if (entries.isEmpty()) {
    return 0;
  }
  HeaderMap.Builder builder=HeaderMap.builder();
  ProjectFilesystem projectFilesystem=context.getProjectFilesystem();
  for (  ImmutableMap.Entry<Path,Path> ent : entries.entrySet()) {
    String key=ent.getKey().toString();
    Path value=projectFilesystem.resolve(ent.getValue());
    builder.add(key,value);
  }
  HeaderMap headerMap=builder.build();
  try {
    projectFilesystem.writeBytesToPath(headerMap.getBytes(),output);
  }
 catch (  IOException e) {
    context.logError(e,"Failed to write header map %s.",output);
    e.printStackTrace(context.getStdErr());
    return 1;
  }
  return 0;
}
