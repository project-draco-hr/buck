{
  Optional<BuildRule> buildRule=resolver.getRule(sourcePath);
  if (buildRule.isPresent()) {
    feed(sourcePath.toString().getBytes()).separate();
    return setSingleValue(buildRule.get());
  }
 else {
    Optional<Path> relativePath=resolver.getRelativePath(sourcePath);
    Preconditions.checkState(relativePath.isPresent());
    Path path=relativePath.get();
    return setSingleValue(path);
  }
}
