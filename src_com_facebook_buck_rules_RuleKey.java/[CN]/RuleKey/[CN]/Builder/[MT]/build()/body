{
  RuleKey ruleKeyWithoutDeps=new RuleKey(hasher.hash());
  setKey("deps");
  for (  BuildRule buildRule : deps) {
    setVal(buildRule.getRuleKey());
  }
  separate();
  if (!exportedDeps.isEmpty()) {
    setKey("exported_deps");
    for (    BuildRule buildRule : exportedDeps) {
      setVal(buildRule.getRuleKey());
    }
    separate();
  }
  RuleKey totalRuleKey=new RuleKey(hasher.hash());
  if (logElms != null) {
    logger.info(String.format("RuleKey %s=%s",totalRuleKey,Joiner.on("").join(logElms)));
  }
  return new RuleKeyPair(totalRuleKey,ruleKeyWithoutDeps);
}
