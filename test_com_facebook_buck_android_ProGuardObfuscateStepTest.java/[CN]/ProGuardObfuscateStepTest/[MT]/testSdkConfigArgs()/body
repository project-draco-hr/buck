{
  ExecutionContext context=createMock(ExecutionContext.class);
  AndroidPlatformTarget target=createMock(AndroidPlatformTarget.class);
  expect(context.getProjectDirectoryRoot()).andStubReturn(new File("root"));
  expect(context.getAndroidPlatformTarget()).andStubReturn(target);
  expect(target.getProguardConfig()).andStubReturn(Paths.get("sdk-default.pro"));
  expect(target.getOptimizedProguardConfig()).andStubReturn(Paths.get("sdk-optimized.pro"));
  expect(target.getBootclasspathEntries()).andStubReturn(ImmutableList.<Path>of());
  replayAll();
  checkSdkConfig(context,ProGuardObfuscateStep.SdkProguardType.DEFAULT,"sdk-default.pro");
  checkSdkConfig(context,ProGuardObfuscateStep.SdkProguardType.OPTIMIZED,"sdk-optimized.pro");
  checkSdkConfig(context,ProGuardObfuscateStep.SdkProguardType.NONE,null);
  verifyAll();
}
