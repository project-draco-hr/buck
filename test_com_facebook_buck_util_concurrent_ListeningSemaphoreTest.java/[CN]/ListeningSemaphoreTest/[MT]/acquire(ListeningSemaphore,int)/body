{
  final AtomicBoolean bool=new AtomicBoolean(false);
  Futures.transform(semaphore.acquire(permits),new Function<Void,Object>(){
    @Override public Object apply(    Void input){
      bool.set(true);
      return null;
    }
  }
);
  return bool;
}
