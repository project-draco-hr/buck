{
  String pathToManifest=androidBinaryRule.getManifestPath().toString();
  File androidManifestXml=new File(pathToManifest);
  if (!androidManifestXml.isFile()) {
    throw new HumanReadableException("Manifest file %s does not exist, so could not extract package name.",pathToManifest);
  }
  try {
    return DefaultAndroidManifestReader.forPath(pathToManifest).getPackage();
  }
 catch (  IOException e) {
    throw new HumanReadableException("Could not extract package name from %s",pathToManifest);
  }
}
