{
  PBXGroup sourcesGroup=targetGroup.getOrCreateChildGroupByName("Sources");
  sourcesGroup.setSortPolicy(PBXGroup.SortPolicy.UNSORTED);
  PBXSourcesBuildPhase sourcesBuildPhase=new PBXSourcesBuildPhase();
  PBXHeadersBuildPhase headersBuildPhase=new PBXHeadersBuildPhase();
  traverseGroupsTreeAndHandleSources(sourcesGroup,sourcesBuildPhase,!shouldGenerateCopyHeadersPhase ? Optional.<PBXHeadersBuildPhase>absent() : Optional.of(headersBuildPhase),sources,sourceFlags);
  if (!sourcesBuildPhase.getFiles().isEmpty()) {
    target.getBuildPhases().add(sourcesBuildPhase);
  }
  if (!headersBuildPhase.getFiles().isEmpty()) {
    target.getBuildPhases().add(headersBuildPhase);
  }
}
