{
  return new Function<FrameworkPath,Path>(){
    @Override public Path apply(    FrameworkPath input){
switch (input.getType()) {
case SOURCE_TREE_PATH:
        return Paths.get(input.getSourceTreePath().get().toString()).getParent();
case SOURCE_PATH:
      return relativizer.apply(Preconditions.checkNotNull(resolver.apply(input.getSourcePath().get())).getParent());
default :
    throw new RuntimeException("Unhandled type: " + input.getType());
}
}
}
;
}
