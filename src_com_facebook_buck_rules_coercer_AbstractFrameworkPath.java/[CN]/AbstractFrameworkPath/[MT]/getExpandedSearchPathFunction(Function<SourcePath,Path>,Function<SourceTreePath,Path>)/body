{
  return new Function<FrameworkPath,Path>(){
    @Override public Path apply(    FrameworkPath input){
switch (input.getType()) {
case SOURCE_TREE_PATH:
        return Preconditions.checkNotNull(sourceTreePathResolver.apply(input.getSourceTreePath().get())).getParent();
case SOURCE_PATH:
      return Preconditions.checkNotNull(sourcePathResolver.apply(input.getSourcePath().get())).getParent();
default :
    throw new RuntimeException("Unhandled type: " + input.getType());
}
}
}
;
}
