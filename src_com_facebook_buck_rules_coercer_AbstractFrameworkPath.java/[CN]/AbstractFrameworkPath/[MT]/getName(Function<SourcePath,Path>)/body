{
  String fileName=getFileName(resolver).toString();
  String nameWithoutExtension=Files.getNameWithoutExtension(fileName);
  FrameworkType frameworkType=getFrameworkType(resolver);
switch (frameworkType) {
case FRAMEWORK:
    return nameWithoutExtension;
case LIBRARY:
  String libraryPrefix="lib";
if (!fileName.startsWith(libraryPrefix)) {
  throw new HumanReadableException("Unsupported library prefix: " + fileName);
}
return nameWithoutExtension.substring(libraryPrefix.length(),nameWithoutExtension.length());
default :
throw new RuntimeException("Unhandled framework type: " + frameworkType);
}
}
