@provide_for_build
def add_deps(name, deps=[], build_env=None):
    if (name not in build_env['RULES']):
        raise ValueError(("Invoked 'add_deps' on non-existent rule %s." % name))
    rule = build_env['RULES'][name]
    if ('deps' not in rule):
        raise ValueError(("Invoked 'add_deps' on rule %s that has no 'deps' field" % name))
    rule['deps'] = (rule['deps'] + deps)
