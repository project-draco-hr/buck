def splitpath(path, maxdepth=20):
    "Splits /foo/bar/baz.java into ['', 'foo', 'bar', 'baz.java']."
    (head, tail) = os.path.split(path)
    if ((maxdepth > 0) and head and (head != path)):
        return (splitpath(head, (maxdepth - 1)) + [tail])
    elif head:
        return [head]
    else:
        return [tail]
