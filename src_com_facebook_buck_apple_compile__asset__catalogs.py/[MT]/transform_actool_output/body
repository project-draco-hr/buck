def transform_actool_output(stdout, verbose):
    has_errors = False
    is_error = False
    line = stdout.readline()
    while line:
        line = transform_actool_output_line(line)
        if line.startswith('error:'):
            is_error = True
            has_errors = True
        if (is_error or verbose):
            print line
        line = stdout.readline()
    return (not has_errors)
