{
  FakeBuildRuleParams buildRuleParams=new FakeBuildRuleParams(new BuildTarget("//path/to/app","MyApp"));
  AppleResourceDescriptionArg args=new AppleResourceDescriptionArg();
  args.dirs=ImmutableSortedSet.of(Paths.get("MyLibrary.bundle"));
  args.files=ImmutableSortedSet.<SourcePath>of(new TestSourcePath("Resources/MyImage.jpg"));
  AppleResource appleResource=new AppleResource(new FakeDirectoryTraverser(ImmutableMap.<String,Collection<FakeDirectoryTraverser.Entry>>of("MyLibrary.bundle",ImmutableList.of(new FakeDirectoryTraverser.Entry(null,"BundleImage.jpg"),new FakeDirectoryTraverser.Entry(null,"BundleSound.wav")))),buildRuleParams,args,Optional.<Path>absent());
  MoreAsserts.assertIterablesEquals("Directory should be traversed and file should be included.",ImmutableList.of(Paths.get("MyLibrary.bundle/BundleImage.jpg"),Paths.get("MyLibrary.bundle/BundleSound.wav"),Paths.get("Resources/MyImage.jpg")),appleResource.getInputsToCompareToOutput());
}
