{
  ProjectWorkspace workspace=TestDataHelper.createProjectWorkspaceForScenario(this,"audit_rules",tmp);
  workspace.setUp();
  ProcessResult result1=workspace.runBuckCommand("audit","rules","example/BUCK");
  result1.assertExitCode(0);
  assertEquals(workspace.getFileContents("stdout.all"),result1.getStdout());
  ProcessResult result2=workspace.runBuckCommand("audit","rules","--type","genrule","example/BUCK");
  result2.assertExitCode(0);
  assertEquals(workspace.getFileContents("stdout.genrule"),result2.getStdout());
  ProcessResult result3=workspace.runBuckCommand("audit","rules","-t","genrule","-t","keystore","example/BUCK");
  result3.assertExitCode(0);
  assertEquals(workspace.getFileContents("stdout.all"),result3.getStdout());
}
