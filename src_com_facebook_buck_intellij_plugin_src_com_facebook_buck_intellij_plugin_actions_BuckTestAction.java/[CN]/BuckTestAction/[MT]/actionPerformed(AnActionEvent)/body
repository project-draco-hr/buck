{
  BuckBuildManager buildManager=BuckBuildManager.getInstance(e.getProject());
  String target=buildManager.getCurrentSavedTarget(e.getProject());
  if (target == null) {
    buildManager.showNoTargetMessage(e.getProject());
    return;
  }
  BuckEventsConsumer buckEventsConsumer=new BuckEventsConsumer(e.getProject());
  BuckModule buckModule=e.getProject().getComponent(BuckModule.class);
  buckModule.attach(buckEventsConsumer,target);
  BuckBuildCommandHandler handler=new BuckBuildCommandHandler(e.getProject(),e.getProject().getBaseDir(),BuckCommand.TEST,buckEventsConsumer);
  handler.command().addParameter(target);
  buildManager.runBuckCommandWhileConnectedToBuck(handler,ACTION_TITLE,buckModule);
}
