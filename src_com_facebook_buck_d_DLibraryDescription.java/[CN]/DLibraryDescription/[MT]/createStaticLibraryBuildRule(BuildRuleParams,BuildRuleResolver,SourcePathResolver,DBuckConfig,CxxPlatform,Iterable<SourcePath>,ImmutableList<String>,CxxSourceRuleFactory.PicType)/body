{
  ImmutableList<SourcePath> compiledSources=DDescriptionUtils.sourcePathsForCompiledSources(sources,compilerFlags,params,ruleResolver,pathResolver,cxxPlatform,dBuckConfig);
  BuildTarget staticTarget=CxxDescriptionEnhancer.createStaticLibraryBuildTarget(params.getBuildTarget(),cxxPlatform.getFlavor(),pic);
  Path staticLibraryPath=CxxDescriptionEnhancer.getStaticLibraryPath(params.getBuildTarget(),cxxPlatform.getFlavor(),pic);
  Archive archiveRule=Archives.createArchiveRule(pathResolver,staticTarget,params.copyWithBuildTarget(BuildTarget.builder().from(params.getBuildTarget()).addFlavors(cxxPlatform.getFlavor(),CxxDescriptionEnhancer.STATIC_FLAVOR).build()),cxxPlatform.getAr(),cxxPlatform.getRanlib(),staticLibraryPath,compiledSources);
  ruleResolver.addToIndex(archiveRule);
  return new DLibrary(params.copyWithDeps(Suppliers.ofInstance(ImmutableSortedSet.<BuildRule>of()),Suppliers.ofInstance(ImmutableSortedSet.<BuildRule>of(archiveRule))),ruleResolver,pathResolver);
}
